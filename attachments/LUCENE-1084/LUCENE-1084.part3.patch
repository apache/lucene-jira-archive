Index: src/test/org/apache/lucene/TestDemo.java
===================================================================
--- src/test/org/apache/lucene/TestDemo.java	(revision 619546)
+++ src/test/org/apache/lucene/TestDemo.java	(working copy)
@@ -51,8 +51,7 @@
     // if one exists):
     //Directory directory = FSDirectory.getDirectory("/tmp/testindex", true);
     IndexWriter iwriter = new IndexWriter(directory, analyzer, true,
-                                          IndexWriter.MaxFieldLength.LIMITED);
-    iwriter.setMaxFieldLength(25000);
+                                          new IndexWriter.MaxFieldLength(25000));
     Document doc = new Document();
     String text = "This is the text to be indexed.";
     doc.add(new Field("fieldname", text, Field.Store.YES,
Index: src/test/org/apache/lucene/index/TestIndexWriter.java
===================================================================
--- src/test/org/apache/lucene/index/TestIndexWriter.java	(revision 619546)
+++ src/test/org/apache/lucene/index/TestIndexWriter.java	(working copy)
@@ -1478,9 +1478,8 @@
 
     public void testHighFreqTerm() throws IOException {
       RAMDirectory dir = new RAMDirectory();      
-      IndexWriter writer  = new IndexWriter(dir, new WhitespaceAnalyzer(), true, IndexWriter.MaxFieldLength.LIMITED);
+      IndexWriter writer  = new IndexWriter(dir, new WhitespaceAnalyzer(), true, new IndexWriter.MaxFieldLength(100000000));
       writer.setRAMBufferSizeMB(0.01);
-      writer.setMaxFieldLength(100000000);
       // Massive doc that has 128 K a's
       StringBuffer b = new StringBuffer(1024*1024);
       for(int i=0;i<4096;i++) {
Index: src/java/org/apache/lucene/index/IndexModifier.java
===================================================================
--- src/java/org/apache/lucene/index/IndexModifier.java	(revision 619546)
+++ src/java/org/apache/lucene/index/IndexModifier.java	(working copy)
@@ -201,7 +201,7 @@
         indexReader.close();
         indexReader = null;
       }
-      indexWriter = new IndexWriter(directory, analyzer, false, IndexWriter.MaxFieldLength.LIMITED);
+      indexWriter = new IndexWriter(directory, analyzer, false, new IndexWriter.MaxFieldLength(maxFieldLength));
       // IndexModifier cannot use ConcurrentMergeScheduler
       // because it synchronizes on the directory which can
       // cause deadlock
@@ -210,7 +210,6 @@
       indexWriter.setUseCompoundFile(useCompoundFile);
       if (maxBufferedDocs != IndexWriter.DISABLE_AUTO_FLUSH)
         indexWriter.setMaxBufferedDocs(maxBufferedDocs);
-      indexWriter.setMaxFieldLength(maxFieldLength);
       indexWriter.setMergeFactor(mergeFactor);
     }
   }
Index: src/demo/org/apache/lucene/demo/IndexHTML.java
===================================================================
--- src/demo/org/apache/lucene/demo/IndexHTML.java	(revision 619546)
+++ src/demo/org/apache/lucene/demo/IndexHTML.java	(working copy)
@@ -69,8 +69,7 @@
         indexDocs(root, index, create);
       }
       writer = new IndexWriter(index, new StandardAnalyzer(), create, 
-                               IndexWriter.MaxFieldLength.LIMITED);
-      writer.setMaxFieldLength(1000000);
+                               new IndexWriter.MaxFieldLength(1000000));
       indexDocs(root, index, create);		  // add new docs
 
       System.out.println("Optimizing index...");
Index: contrib/memory/src/test/org/apache/lucene/index/memory/MemoryIndexTest.java
===================================================================
--- contrib/memory/src/test/org/apache/lucene/index/memory/MemoryIndexTest.java	(revision 619546)
+++ contrib/memory/src/test/org/apache/lucene/index/memory/MemoryIndexTest.java	(working copy)
@@ -385,8 +385,7 @@
     RAMDirectory dir = new RAMDirectory();    
     IndexWriter writer = null;
     try {
-      writer = new IndexWriter(dir, analyzer, true);
-      writer.setMaxFieldLength(Integer.MAX_VALUE);
+      writer = new IndexWriter(dir, analyzer, true, IndexWriter.MaxFieldLength.UNLIMITED);
       writer.addDocument(doc);
       writer.optimize();
       return dir;
