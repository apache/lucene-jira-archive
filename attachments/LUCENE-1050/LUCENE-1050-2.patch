Index: src/test/org/apache/lucene/store/TestLockFactory.java
===================================================================
--- src/test/org/apache/lucene/store/TestLockFactory.java	(revision 610403)
+++ src/test/org/apache/lucene/store/TestLockFactory.java	(working copy)
@@ -190,9 +190,9 @@
         if (writer2 != null) {
           try {
             writer2.close();
-            fail("writer2.close() should have hit LockReleaseFailedException");
+            // expected
           } catch (LockReleaseFailedException e) {
-            // expected
+            fail("writer2.close() should not have hit LockReleaseFailedException");
           }
         }
 
Index: src/java/org/apache/lucene/store/SimpleFSLockFactory.java
===================================================================
--- src/java/org/apache/lucene/store/SimpleFSLockFactory.java	(revision 610403)
+++ src/java/org/apache/lucene/store/SimpleFSLockFactory.java	(working copy)
@@ -145,7 +145,7 @@
   }
 
   public void release() throws LockReleaseFailedException {
-    if (!lockFile.delete())
+    if (lockFile.exists() && !lockFile.delete())
       throw new LockReleaseFailedException("failed to delete " + lockFile);
   }
 
