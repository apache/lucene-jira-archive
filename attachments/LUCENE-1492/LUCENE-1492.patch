Index: contrib/benchmark/CHANGES.txt
===================================================================
--- contrib/benchmark/CHANGES.txt	(revision 726268)
+++ contrib/benchmark/CHANGES.txt	(working copy)
@@ -4,6 +4,9 @@
 
 $Id:$
 
+12/16/08
+  LUCENE-1492: Added optional readOnly param (default true) to OpenReader task.
+
 9/9/08
  LUCENE-1243: Added new sorting benchmark capabilities.  Also Reopen and commit tasks.  (Mark Miller via Grant Ingersoll)
 
Index: contrib/benchmark/src/java/org/apache/lucene/benchmark/byTask/tasks/OpenReaderTask.java
===================================================================
--- contrib/benchmark/src/java/org/apache/lucene/benchmark/byTask/tasks/OpenReaderTask.java	(revision 726268)
+++ contrib/benchmark/src/java/org/apache/lucene/benchmark/byTask/tasks/OpenReaderTask.java	(working copy)
@@ -29,15 +29,25 @@
  */
 public class OpenReaderTask extends PerfTask {
 
+  private boolean readOnly = true;
+
   public OpenReaderTask(PerfRunData runData) {
     super(runData);
   }
 
   public int doLogic() throws IOException {
     Directory dir = getRunData().getDirectory();
-    IndexReader reader = IndexReader.open(dir);
+    IndexReader reader = IndexReader.open(dir, readOnly);
     getRunData().setIndexReader(reader);
     return 1;
   }
 
+  public void setParams(String params) {
+    super.setParams(params);
+    readOnly = Boolean.valueOf(params).booleanValue();
+  }
+
+  public boolean supportsParams() {
+    return true;
+  }
 }
