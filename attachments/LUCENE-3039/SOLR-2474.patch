Index: solr/src/java/org/apache/solr/handler/AnalysisRequestHandlerBase.java
===================================================================
--- solr/src/java/org/apache/solr/handler/AnalysisRequestHandlerBase.java	(revision 1095484)
+++ solr/src/java/org/apache/solr/handler/AnalysisRequestHandlerBase.java	(working copy)
@@ -348,6 +348,7 @@
     @Override
     public boolean incrementToken() throws IOException {
       if (tokenIterator.hasNext()) {
+        clearAttributes();
         AttributeSource next = tokenIterator.next();
         Iterator<Class<? extends Attribute>> atts = next.getAttributeClassesIterator();
         while (atts.hasNext()) // make sure all att impls in the token exist here
Index: solr/src/webapp/web/admin/analysis.jsp
===================================================================
--- solr/src/webapp/web/admin/analysis.jsp	(revision 1095484)
+++ solr/src/webapp/web/admin/analysis.jsp	(working copy)
@@ -220,6 +220,7 @@
            
            public boolean incrementToken() throws IOException {
              if (iter.hasNext()) {
+               clearAttributes();
                AttributeSource token = iter.next();
                Iterator<Class<? extends Attribute>> atts = token.getAttributeClassesIterator();
                while (atts.hasNext()) // make sure all att impls in the token exist here
