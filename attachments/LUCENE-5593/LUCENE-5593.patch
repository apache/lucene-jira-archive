Index: lucene/analysis/analysis-module-build.xml
===================================================================
--- lucene/analysis/analysis-module-build.xml	(revision 1613379)
+++ lucene/analysis/analysis-module-build.xml	(working copy)
@@ -32,7 +32,8 @@
 
   <import file="../module-build.xml"/>
 
-  <target name="javadocs" depends="javadocs-analyzers-common, compile-core">
+  <target name="javadocs" depends="javadocs-analyzers-common, compile-core, check-javadocs-uptodate"
+          unless="javadocs-uptodate-${name}">
     <invoke-module-javadoc>
       <links>
         <link href="../analyzers-common"/>
Index: lucene/benchmark/build.xml
===================================================================
--- lucene/benchmark/build.xml	(revision 1613379)
+++ lucene/benchmark/build.xml	(working copy)
@@ -184,7 +184,8 @@
     </path>
 
     <target name="javadocs" depends="javadocs-memory,javadocs-highlighter,javadocs-analyzers-common,
-      javadocs-queryparser,javadocs-facet,javadocs-spatial,compile-core">
+      javadocs-queryparser,javadocs-facet,javadocs-spatial,compile-core,check-javadocs-uptodate" 
+            unless="javadocs-uptodate-${name}">
     <invoke-module-javadoc>
       <links>
         <link href="../memory"/>
Index: lucene/classification/build.xml
===================================================================
--- lucene/classification/build.xml	(revision 1613379)
+++ lucene/classification/build.xml	(working copy)
@@ -39,7 +39,8 @@
 
   <target name="jar-core" depends="common.jar-core" />
 
-  <target name="javadocs" depends="javadocs-queries,compile-core">
+  <target name="javadocs" depends="javadocs-queries,compile-core,check-javadocs-uptodate"
+          unless="javadocs-uptodate-${name}">
     <invoke-module-javadoc>
       <links>
         <link href="../queries"/>
Index: lucene/common-build.xml
===================================================================
--- lucene/common-build.xml	(revision 1613379)
+++ lucene/common-build.xml	(working copy)
@@ -2012,6 +2012,15 @@
     </sequential>
   </macrodef>
 
+  <target name="check-javadocs-uptodate">
+    <uptodate property="javadocs-uptodate-${name}" targetfile="${build.dir}/${final.name}-javadoc.jar">
+      <srcfiles dir="${src.dir}">
+        <include name="**/*.java"/>
+        <include name="**/*.html"/>
+      </srcfiles>
+    </uptodate>
+  </target>
+
   <macrodef name="modules-crawl">
     <attribute name="target" default=""/>
     <attribute name="failonerror" default="true"/>
Index: lucene/core/build.xml
===================================================================
--- lucene/core/build.xml	(revision 1613379)
+++ lucene/core/build.xml	(working copy)
@@ -57,8 +57,9 @@
   <target name="test-core" depends="common.test"/>
 
   <target name="javadocs-core" depends="javadocs"/>
-  <target name="javadocs" description="Generate javadoc for core classes">
-  	<sequential>
+  <target name="javadocs" description="Generate javadoc for core classes" 
+          depends="check-javadocs-uptodate" unless="javadocs-uptodate-${name}">
+     <sequential>
       <mkdir dir="${javadoc.dir}/core"/>
       <invoke-javadoc destdir="${javadoc.dir}/core" title="${Name} ${version} core API">
         <sources>
Index: lucene/demo/build.xml
===================================================================
--- lucene/demo/build.xml	(revision 1613379)
+++ lucene/demo/build.xml	(working copy)
@@ -40,7 +40,8 @@
    <fileset dir="lib"/>
   </path>
 
-  <target name="javadocs" depends="javadocs-analyzers-common,javadocs-queryparser,javadocs-facet,javadocs-expressions,compile-core">
+  <target name="javadocs" depends="javadocs-analyzers-common,javadocs-queryparser,javadocs-facet,javadocs-expressions,compile-core,check-javadocs-uptodate"
+          unless="javadocs-uptodate-${name}">
     <!-- we link the example source in the javadocs, as its ref'ed elsewhere -->
     <invoke-module-javadoc linksource="yes">
       <links>
Index: lucene/expressions/build.xml
===================================================================
--- lucene/expressions/build.xml	(revision 1613379)
+++ lucene/expressions/build.xml	(working copy)
@@ -40,7 +40,7 @@
 
   <target name="compile-core" depends="jar-queries,common.compile-core" />
 
-  <target name="javadocs" depends="javadocs-queries,compile-core">
+  <target name="javadocs" depends="javadocs-queries,compile-core,check-javadocs-uptodate" unless="javadocs-uptodate-${name}">
     <invoke-module-javadoc>
       <links>
         <link href="../queries"/>
Index: lucene/facet/build.xml
===================================================================
--- lucene/facet/build.xml	(revision 1613379)
+++ lucene/facet/build.xml	(working copy)
@@ -36,7 +36,8 @@
 
   <target name="compile-core" depends="jar-queries,common.compile-core" />
 
-  <target name="javadocs" depends="javadocs-queries,compile-core">
+  <target name="javadocs" depends="javadocs-queries,compile-core,check-javadocs-uptodate"
+          unless="javadocs-uptodate-${name}">
     <invoke-module-javadoc>
       <links>
         <link href="../queries"/>
Index: lucene/grouping/build.xml
===================================================================
--- lucene/grouping/build.xml	(revision 1613379)
+++ lucene/grouping/build.xml	(working copy)
@@ -37,7 +37,8 @@
 
     <target name="init" depends="module-build.init,jar-queries"/>
 
-    <target name="javadocs" depends="javadocs-queries,compile-core">
+    <target name="javadocs" depends="javadocs-queries,compile-core,check-javadocs-uptodate"
+            unless="javadocs-uptodate-${name}">
       <invoke-module-javadoc>
         <links>
           <link href="../queries"/>
Index: lucene/highlighter/build.xml
===================================================================
--- lucene/highlighter/build.xml	(revision 1613379)
+++ lucene/highlighter/build.xml	(working copy)
@@ -35,7 +35,8 @@
   </path>
 
   <target name="compile-core" depends="jar-memory, common.compile-core" />
-  <target name="javadocs" depends="javadocs-memory,compile-core">
+  <target name="javadocs" depends="javadocs-memory,compile-core,check-javadocs-uptodate"
+          unless="javadocs-uptodate-${name}">
     <invoke-module-javadoc>
       <links>
         <link href="../memory"/>
Index: lucene/join/build.xml
===================================================================
--- lucene/join/build.xml	(revision 1613379)
+++ lucene/join/build.xml	(working copy)
@@ -36,7 +36,8 @@
 
   <target name="init" depends="module-build.init,jar-grouping"/>
 
-  <target name="javadocs" depends="javadocs-grouping,compile-core">
+  <target name="javadocs" depends="javadocs-grouping,compile-core,check-javadocs-uptodate"
+          unless="javadocs-uptodate-${name}">
     <invoke-module-javadoc>
       <links>
         <link href="../grouping"/>
Index: lucene/module-build.xml
===================================================================
--- lucene/module-build.xml	(revision 1613379)
+++ lucene/module-build.xml	(working copy)
@@ -60,9 +60,10 @@
     <antcall target="common.test" inheritRefs="true" />
   </target>
   <target name="build-artifacts-and-tests" depends="jar, compile-test" />
-	
+
   <!-- TODO: why does this previous depend on compile-core? -->
-  <target name="javadocs" depends="compile-core,javadocs-lucene-core">
+  <target name="javadocs" depends="compile-core,javadocs-lucene-core,check-javadocs-uptodate"
+                          unless="javadocs-uptodate-${name}">
     <invoke-module-javadoc/>
   </target>	
 
Index: lucene/queryparser/build.xml
===================================================================
--- lucene/queryparser/build.xml	(revision 1613379)
+++ lucene/queryparser/build.xml	(working copy)
@@ -35,7 +35,8 @@
 
   <target name="compile-core" depends="jar-queries,jar-sandbox,common.compile-core"/>
 
-  <target name="javadocs" depends="javadocs-queries,javadocs-sandbox,compile-core">
+  <target name="javadocs" depends="javadocs-queries,javadocs-sandbox,compile-core,check-javadocs-uptodate"
+          unless="javadocs-uptodate-${name}">
     <invoke-module-javadoc>
       <links>
         <link href="../queries"/>
Index: lucene/replicator/build.xml
===================================================================
--- lucene/replicator/build.xml	(revision 1613379)
+++ lucene/replicator/build.xml	(working copy)
@@ -38,7 +38,8 @@
 
   <target name="init" depends="module-build.init,jar-facet"/>
 
-  <target name="javadocs" depends="javadocs-facet,compile-core">
+  <target name="javadocs" depends="javadocs-facet,compile-core,check-javadocs-uptodate"
+          unless="javadocs-uptodate-${name}">
     <invoke-module-javadoc>
       <links>
         <link href="../facet"/>
Index: lucene/spatial/build.xml
===================================================================
--- lucene/spatial/build.xml	(revision 1613379)
+++ lucene/spatial/build.xml	(working copy)
@@ -43,7 +43,8 @@
 
   <target name="compile-core" depends="jar-queries,jar-misc,common.compile-core" />
 
-  <target name="javadocs" depends="javadocs-queries,javadocs-misc,compile-core">
+  <target name="javadocs" depends="javadocs-queries,javadocs-misc,compile-core,check-javadocs-uptodate"
+          unless="javadocs-uptodate-${name}">
     <invoke-module-javadoc>
       <links>
         <link href="../queries"/>
Index: lucene/suggest/build.xml
===================================================================
--- lucene/suggest/build.xml	(revision 1613379)
+++ lucene/suggest/build.xml	(working copy)
@@ -35,7 +35,8 @@
     <path refid="base.classpath"/>
   </path>
 
-  <target name="javadocs" depends="javadocs-queries,javadocs-misc,compile-core">
+  <target name="javadocs" depends="javadocs-queries,javadocs-misc,compile-core,check-javadocs-uptodate"
+          unless="javadocs-uptodate-${name}">
     <invoke-module-javadoc>
       <links>
         <link href="../analyzers-common"/>
Index: lucene/test-framework/build.xml
===================================================================
--- lucene/test-framework/build.xml	(revision 1613379)
+++ lucene/test-framework/build.xml	(working copy)
@@ -54,7 +54,8 @@
   <target name="-check-forbidden-rue"/>
 
   <target name="javadocs-core" depends="javadocs"/>
-  <target name="javadocs" depends="init,javadocs-lucene-core,javadocs-lucene-codecs">
+  <target name="javadocs" depends="init,javadocs-lucene-core,javadocs-lucene-codecs,check-javadocs-uptodate"
+          unless="javadocs-uptodate-${name}">
     <sequential>
       <mkdir dir="${javadoc.dir}/test-framework"/>
       <invoke-javadoc overview="${src.dir}/overview.html"
Index: solr/common-build.xml
===================================================================
--- solr/common-build.xml	(revision 1613379)
+++ solr/common-build.xml	(working copy)
@@ -238,7 +238,7 @@
   <target name="lucene-javadocs" depends="javadocs-lucene-core,javadocs-analyzers-common,javadocs-analyzers-icu,javadocs-analyzers-kuromoji,javadocs-analyzers-phonetic,javadocs-analyzers-smartcn,javadocs-analyzers-morfologik,javadocs-analyzers-stempel,javadocs-analyzers-uima,javadocs-codecs,javadocs-expressions,javadocs-suggest,javadocs-grouping,javadocs-queries,javadocs-queryparser,javadocs-highlighter,javadocs-memory,javadocs-misc,javadocs-spatial,javadocs-test-framework"/>
 
   <!-- create javadocs for the current module -->
-  <target name="javadocs" depends="compile-core,define-lucene-javadoc-url,lucene-javadocs,javadocs-solr-core">
+  <target name="javadocs" depends="compile-core,define-lucene-javadoc-url,lucene-javadocs,javadocs-solr-core,check-javadocs-uptodate" unless="javadocs-uptodate-${name}">
    	<sequential>
       <mkdir dir="${javadoc.dir}/${name}"/>
       <solr-invoke-javadoc>
Index: solr/contrib/dataimporthandler-extras/build.xml
===================================================================
--- solr/contrib/dataimporthandler-extras/build.xml	(revision 1613379)
+++ solr/contrib/dataimporthandler-extras/build.xml	(working copy)
@@ -67,7 +67,7 @@
   </path>
 
   <!-- TODO: make this nicer like lucene? -->
-  <target name="javadocs" depends="compile-core,define-lucene-javadoc-url,lucene-javadocs,javadocs-solr-core,javadocs-dataimporthandler">
+  <target name="javadocs" depends="compile-core,define-lucene-javadoc-url,lucene-javadocs,javadocs-solr-core,javadocs-dataimporthandler,check-javadocs-uptodate" unless="javadocs-uptodate-${name}">
         <sequential>
       <mkdir dir="${javadoc.dir}/${name}"/>
       <solr-invoke-javadoc>
Index: solr/contrib/map-reduce/build.xml
===================================================================
--- solr/contrib/map-reduce/build.xml	(revision 1613379)
+++ solr/contrib/map-reduce/build.xml	(working copy)
@@ -107,7 +107,7 @@
   </path>
   
   <!-- TODO: make this nicer like lucene? -->
-  <target name="javadocs" depends="compile-core,define-lucene-javadoc-url,lucene-javadocs,javadocs-solr-core,javadocs-extraction,javadocs-morphlines-core,javadocs-morphlines-cell">
+  <target name="javadocs" depends="compile-core,define-lucene-javadoc-url,lucene-javadocs,javadocs-solr-core,javadocs-extraction,javadocs-morphlines-core,javadocs-morphlines-cell,check-javadocs-uptodate" unless="javadocs-uptodate-${name}">
         <sequential>
       <mkdir dir="${javadoc.dir}/${name}"/>
       <solr-invoke-javadoc>
Index: solr/contrib/morphlines-cell/build.xml
===================================================================
--- solr/contrib/morphlines-cell/build.xml	(revision 1613379)
+++ solr/contrib/morphlines-cell/build.xml	(working copy)
@@ -109,7 +109,7 @@
   </path>
   
   <!-- TODO: make this nicer like lucene? -->
-  <target name="javadocs" depends="compile-core,define-lucene-javadoc-url,lucene-javadocs,javadocs-solr-core,javadocs-extraction,javadocs-morphlines-core">
+  <target name="javadocs" depends="compile-core,define-lucene-javadoc-url,lucene-javadocs,javadocs-solr-core,javadocs-extraction,javadocs-morphlines-core,check-javadocs-uptodate" unless="javadocs-uptodate-${name}">
         <sequential>
       <mkdir dir="${javadoc.dir}/${name}"/>
       <solr-invoke-javadoc>
Index: solr/contrib/morphlines-core/build.xml
===================================================================
--- solr/contrib/morphlines-core/build.xml	(revision 1613379)
+++ solr/contrib/morphlines-core/build.xml	(working copy)
@@ -68,7 +68,7 @@
   </path>
   
   <!-- TODO: make this nicer like lucene? -->
-  <target name="javadocs" depends="compile-core,define-lucene-javadoc-url,lucene-javadocs,javadocs-solr-core,javadocs-extraction">
+  <target name="javadocs" depends="compile-core,define-lucene-javadoc-url,lucene-javadocs,javadocs-solr-core,javadocs-extraction,check-javadocs-uptodate" unless="javadocs-uptodate-${name}"> 
         <sequential>
       <mkdir dir="${javadoc.dir}/${name}"/>
       <solr-invoke-javadoc>
Index: solr/core/build.xml
===================================================================
--- solr/core/build.xml	(revision 1613379)
+++ solr/core/build.xml	(working copy)
@@ -43,7 +43,7 @@
   </path>
 
   <!-- specialized to ONLY depend on solrj -->
-  <target name="javadocs" depends="compile-core,define-lucene-javadoc-url,lucene-javadocs,javadocs-solrj">
+  <target name="javadocs" depends="compile-core,define-lucene-javadoc-url,lucene-javadocs,javadocs-solrj,check-javadocs-uptodate" unless="javadocs-uptodate-${name}">
     <sequential>
       <mkdir dir="${javadoc.dir}/${name}"/>
       <solr-invoke-javadoc>
Index: solr/solrj/build.xml
===================================================================
--- solr/solrj/build.xml	(revision 1613379)
+++ solr/solrj/build.xml	(working copy)
@@ -51,7 +51,8 @@
   </target>
 
   <!-- Specialized to depend on nothing -->
-  <target name="javadocs" depends="compile-core,define-lucene-javadoc-url">
+  <target name="javadocs" depends="compile-core,define-lucene-javadoc-url,check-javadocs-uptodate"
+          unless="javadocs-uptodate-${name}">
     <sequential>
       <mkdir dir="${javadoc.dir}/${name}"/>
       <solr-invoke-javadoc>
Index: solr/test-framework/build.xml
===================================================================
--- solr/test-framework/build.xml	(revision 1613379)
+++ solr/test-framework/build.xml	(working copy)
@@ -59,7 +59,7 @@
   <!-- Override common-solr.javadocs to include JUnit links -->
   <!-- and to copy the built javadocs to ${dest}/docs/api/test-framework -->
   <target name="javadocs"
-          depends="compile-core,jar-test-framework,lucene-javadocs,javadocs-test-framework,define-lucene-javadoc-url">
+          depends="compile-core,jar-test-framework,lucene-javadocs,javadocs-test-framework,define-lucene-javadoc-url,check-javadocs-uptodate" unless="javadocs-uptodate-${name}">
     <sequential>
       <mkdir dir="${javadoc.dir}/${name}"/>
       <!-- NOTE: explicitly not using solr-invoke-javadoc, or attempting to 
