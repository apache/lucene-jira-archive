Index: modules/analysis/common/src/java/org/apache/lucene/analysis/en/PorterStemmer.java
===================================================================
--- modules/analysis/common/src/java/org/apache/lucene/analysis/en/PorterStemmer.java	(revision 1150089)
+++ modules/analysis/common/src/java/org/apache/lucene/analysis/en/PorterStemmer.java	(working copy)
@@ -49,6 +49,8 @@
 import java.io.FileInputStream;
 
 import static org.apache.lucene.util.RamUsageEstimator.NUM_BYTES_CHAR;
+
+import org.apache.lucene.analysis.util.StemmerUtil;
 import org.apache.lucene.util.ArrayUtil;
 
 /**
@@ -207,15 +209,12 @@
   }
 
   private final boolean ends(String s) {
-    int l = s.length();
-    int o = k-l+1;
-    if (o < k0)
+    if (StemmerUtil.endsWith(b, k+1, s)) {
+      j = k-s.length();
+      return true;
+    } else {
       return false;
-    for (int i = 0; i < l; i++)
-      if (b[o+i] != s.charAt(i))
-        return false;
-    j = k-l;
-    return true;
+    }
   }
 
   /* setto(s) sets (j+1),...k to the characters in the string s, readjusting
