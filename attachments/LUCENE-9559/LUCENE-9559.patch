diff --git a/gradle/ide/eclipse.gradle b/gradle/ide/eclipse.gradle
index 12e1bdc95a6..f52444cfca6 100644
--- a/gradle/ide/eclipse.gradle
+++ b/gradle/ide/eclipse.gradle
@@ -34,6 +34,15 @@ configure(rootProject) {
       defaultOutputDir = file('build/eclipse')
 
       file {
+        // ugly: exclude java files from this test dir because they don't compile!
+        withXml {
+          it.asNode().iterator().each { classPathEntry ->
+            if (classPathEntry.attribute("path") == "solr/core/src/test-files") {
+              classPathEntry.attributes().put("excluding", "**/*.java")
+            }
+          }
+        }
+
         beforeMerged { classpath -> classpath.entries.removeAll { it.kind == "src" } }
 
         whenMerged { classpath ->
