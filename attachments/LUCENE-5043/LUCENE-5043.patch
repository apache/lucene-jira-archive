Index: build.xml
===================================================================
--- build.xml	(revision 1490404)
+++ build.xml	(working copy)
@@ -130,7 +130,7 @@
   
   <target name="get-maven-poms"
           description="Copy Maven POMs from dev-tools/maven/ to maven-build/">
-    <copy todir="${maven-build-dir}" overwrite="true">
+    <copy todir="${maven-build-dir}" overwrite="true" encoding="UTF-8">
       <fileset dir="${basedir}/dev-tools/maven"/>
       <filterset begintoken="@" endtoken="@">
         <filter token="version" value="${version}"/>
@@ -185,7 +185,12 @@
   </target>
 
   <target name="eclipse" depends="resolve" description="Setup Eclipse configuration">
-    <copy file="dev-tools/eclipse/dot.project" tofile=".project" overwrite="false"/>
+    <basename file="${basedir}" property="eclipseprojectname"/>
+      <copy file="dev-tools/eclipse/dot.project" tofile=".project" overwrite="false" encoding="UTF-8">
+      <filterset>
+        <filter token="ECLIPSEPROJECTNAME" value="${eclipseprojectname}"/>
+      </filterset>
+    </copy>
     <mkdir dir=".settings"/>
     <copy todir=".settings/" overwrite="true">
       <fileset dir="dev-tools/eclipse/dot.settings" includes="*.prefs" />
Index: dev-tools/eclipse/dot.project
===================================================================
--- dev-tools/eclipse/dot.project	(revision 1490404)
+++ dev-tools/eclipse/dot.project	(working copy)
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <projectDescription>
-	<name>lucene_solr_trunk</name>
+	<name>@ECLIPSEPROJECTNAME@</name>
 	<comment></comment>
 	<projects>
 	</projects>
Index: lucene/CHANGES.txt
===================================================================
--- lucene/CHANGES.txt	(revision 1490404)
+++ lucene/CHANGES.txt	(working copy)
@@ -194,6 +194,10 @@
   Test framework may fail internally due to overly aggresive J9 optimizations. 
   (Dawid Weiss, Shai Erera)
 
+* LUCENE-5043: The eclipse target now uses the containing directory for the
+  project name.  This also enforces UTF-8 encoding when files are copied with
+  filtering.
+
 Tests
 
 * LUCENE-4901: TestIndexWriterOnJRECrash should work on any 
Index: lucene/common-build.xml
===================================================================
--- lucene/common-build.xml	(revision 1490404)
+++ lucene/common-build.xml	(working copy)
@@ -1454,7 +1454,7 @@
 
   <target name="filter-pom-templates" unless="filtered.pom.templates.uptodate">
     <mkdir dir="${filtered.pom.templates.dir}"/>
-    <copy todir="${common.dir}/build/poms" overwrite="true">
+    <copy todir="${common.dir}/build/poms" overwrite="true" encoding="UTF-8">
       <fileset dir="${common.dir}/../dev-tools/maven"/>
       <filterset begintoken="@" endtoken="@">
         <filter token="version" value="${version}"/>
@@ -2030,7 +2030,7 @@
     <element name="nested" optional="false" implicit="true"/>
     <sequential>
       <copy todir="@{todir}" flatten="@{flatten}" overwrite="@{overwrite}" verbose="true"
-        preservelastmodified="false" encoding="UTF-8" outputencoding="UTF-8" taskname="pegdown"
+        preservelastmodified="false" encoding="UTF-8" taskname="pegdown"
       >
         <filterchain>
           <tokenfilter>
