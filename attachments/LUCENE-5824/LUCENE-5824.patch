Index: lucene/analysis/common/src/java/org/apache/lucene/analysis/hunspell/Dictionary.java
===================================================================
--- lucene/analysis/common/src/java/org/apache/lucene/analysis/hunspell/Dictionary.java	(revision 1610644)
+++ lucene/analysis/common/src/java/org/apache/lucene/analysis/hunspell/Dictionary.java	(working copy)
@@ -1063,8 +1063,6 @@
   /**
    * Implementation of {@link FlagParsingStrategy} that assumes each flag is encoded as two ASCII characters whose codes
    * must be combined into a single character.
-   *
-   * TODO (rmuir) test
    */
   private static class DoubleASCIIFlagParsingStrategy extends FlagParsingStrategy {
 
@@ -1079,8 +1077,13 @@
         throw new IllegalArgumentException("Invalid flags (should be even number of characters): " + rawFlags);
       }
       for (int i = 0; i < rawFlags.length(); i+=2) {
-        char cookedFlag = (char) ((int) rawFlags.charAt(i) + (int) rawFlags.charAt(i + 1));
-        builder.append(cookedFlag);
+        char f1 = rawFlags.charAt(i);
+        char f2 = rawFlags.charAt(i+1);
+        if (f1 >= 256 || f2 >= 256) {
+          throw new IllegalArgumentException("Invalid flags (LONG flags must be double ASCII): " + rawFlags);
+        }
+        char combined = (char) (f1 << 8 | f2);
+        builder.append(combined);
       }
       
       char flags[] = new char[builder.length()];
Index: lucene/analysis/common/src/test/org/apache/lucene/analysis/hunspell/TestFlagLong.java
===================================================================
--- lucene/analysis/common/src/test/org/apache/lucene/analysis/hunspell/TestFlagLong.java	(revision 1610381)
+++ lucene/analysis/common/src/test/org/apache/lucene/analysis/hunspell/TestFlagLong.java	(working copy)
@@ -29,5 +29,6 @@
     assertStemsTo("foo", "foo");
     assertStemsTo("foos", "foo");
     assertStemsTo("fooss");
+    assertStemsTo("foobogus");
   }
 }
Index: lucene/analysis/common/src/test/org/apache/lucene/analysis/hunspell/flaglong.aff
===================================================================
--- lucene/analysis/common/src/test/org/apache/lucene/analysis/hunspell/flaglong.aff	(revision 1610381)
+++ lucene/analysis/common/src/test/org/apache/lucene/analysis/hunspell/flaglong.aff	(working copy)
@@ -2,3 +2,6 @@
 FLAG long
 SFX Y1 Y 1
 SFX Y1 0 s .
+
+SFX 1Y Y 1
+SFX 1Y 0 bogus .
