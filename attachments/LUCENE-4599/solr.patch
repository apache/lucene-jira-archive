Index: solr/core/src/java/org/apache/solr/core/Compressing41CodecFactory.java
===================================================================
--- solr/core/src/java/org/apache/solr/core/Compressing41CodecFactory.java	(révision 0)
+++ solr/core/src/java/org/apache/solr/core/Compressing41CodecFactory.java	(copie de travail)
@@ -0,0 +1,15 @@
+package org.apache.solr.core;
+
+import org.apache.lucene.codecs.Codec;
+import org.apache.solr.core.CodecFactory;
+
+public class Compressing41CodecFactory extends CodecFactory {
+
+  private final Codec codec = new Compressing41Codec();
+
+  @Override
+  public Codec getCodec() {
+    return codec;
+  }
+
+}

Modification de propriétés sur solr/core/src/java/org/apache/solr/core/Compressing41CodecFactory.java
___________________________________________________________________
Added: svn:eol-style
## -0,0 +1 ##
+native
\ No newline at end of property
Index: solr/core/src/java/org/apache/solr/core/Compressing41Codec.java
===================================================================
--- solr/core/src/java/org/apache/solr/core/Compressing41Codec.java	(révision 0)
+++ solr/core/src/java/org/apache/solr/core/Compressing41Codec.java	(copie de travail)
@@ -0,0 +1,23 @@
+package org.apache.solr.core;
+
+import org.apache.lucene.codecs.FilterCodec;
+import org.apache.lucene.codecs.TermVectorsFormat;
+import org.apache.lucene.codecs.compressing.CompressingTermVectorsFormat;
+import org.apache.lucene.codecs.compressing.CompressionMode;
+import org.apache.lucene.codecs.lucene41.Lucene41Codec;
+
+public class Compressing41Codec extends FilterCodec {
+
+  private final TermVectorsFormat tvf = new CompressingTermVectorsFormat(
+      "CompressingTermVectors", "", CompressionMode.FAST, 1 << 14);
+
+  protected Compressing41Codec() {
+    super("Compressing41", new Lucene41Codec());
+  }
+
+  @Override
+  public TermVectorsFormat termVectorsFormat() {
+    return tvf;
+  }
+
+}

Modification de propriétés sur solr/core/src/java/org/apache/solr/core/Compressing41Codec.java
___________________________________________________________________
Added: svn:eol-style
## -0,0 +1 ##
+native
\ No newline at end of property
Index: solr/core/src/resources/META-INF/services/org.apache.lucene.codecs.Codec
===================================================================
--- solr/core/src/resources/META-INF/services/org.apache.lucene.codecs.Codec	(révision 0)
+++ solr/core/src/resources/META-INF/services/org.apache.lucene.codecs.Codec	(copie de travail)
@@ -0,0 +1 @@
+org.apache.solr.core.Compressing41Codec
Index: solr/example/solr/collection1/conf/solrconfig.xml
===================================================================
--- solr/example/solr/collection1/conf/solrconfig.xml	(révision 1435301)
+++ solr/example/solr/collection1/conf/solrconfig.xml	(copie de travail)
@@ -103,6 +103,9 @@
     -->
   <dataDir>${solr.data.dir:}</dataDir>
 
+  <!-- Codec
+    -->
+  <codecFactory name="CodecFactory" class="solr.Compressing41CodecFactory" />
 
   <!-- The DirectoryFactory to use for indexes.
        
