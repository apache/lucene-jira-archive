Index: lucene/CHANGES.txt
===================================================================
--- lucene/CHANGES.txt	(revision 1346641)
+++ lucene/CHANGES.txt	(working copy)
@@ -1026,6 +1026,9 @@
 * LUCENE-4077: Expose the max score and per-group scores from
   ToParentBlockJoinCollector (Christoph Kaser, Mike McCandless)
 
+* LUCENE-4114: Fix int overflow bugs in BYTES_FIXED_STRAIGHT and
+  BYTES_FIXED_DEREF doc values implementations (Walt Elder).
+
 Documentation
 
 * LUCENE-3958: Javadocs corrections for IndexWriter.
Index: lucene/core/src/java/org/apache/lucene/codecs/lucene40/values/FixedDerefBytesImpl.java
===================================================================
--- lucene/core/src/java/org/apache/lucene/codecs/lucene40/values/FixedDerefBytesImpl.java	(revision 1346641)
+++ lucene/core/src/java/org/apache/lucene/codecs/lucene40/values/FixedDerefBytesImpl.java	(working copy)
@@ -109,8 +109,7 @@
 
     @Override
     public BytesRef getBytes(int docID, BytesRef bytesRef) {
-      final int id = (int) addresses.get(docID);
-      return data.fillSlice(bytesRef, (id * size), size);
+      return data.fillSlice(bytesRef, addresses.get(docID) * size, size);
     }
 
   }
Index: lucene/core/src/java/org/apache/lucene/codecs/lucene40/values/FixedStraightBytesImpl.java
===================================================================
--- lucene/core/src/java/org/apache/lucene/codecs/lucene40/values/FixedStraightBytesImpl.java	(revision 1346641)
+++ lucene/core/src/java/org/apache/lucene/codecs/lucene40/values/FixedStraightBytesImpl.java	(working copy)
@@ -342,7 +342,7 @@
 
     @Override
     public BytesRef getBytes(int docID, BytesRef bytesRef) {
-      return data.fillSlice(bytesRef, docID * size, size);
+      return data.fillSlice(bytesRef, size * ((long) docID), size);
     }
   }
   
@@ -356,7 +356,7 @@
 
     @Override
     protected int position(int docID) throws IOException {
-      data.seek(baseOffset + size * docID);
+      data.seek(baseOffset + size * ((long) docID));
       return size;
     }
 
