Index: lucene/common-build.xml
===================================================================
--- lucene/common-build.xml	(revision 988052)
+++ lucene/common-build.xml	(working copy)
@@ -234,6 +234,13 @@
       If you get an error like the one below, then you have not installed
       things correctly. Please check all your paths and try again.
 
+      Alternativly set javacc.home to an appropriate location and run
+    
+    	ant fetch-javacc
+      
+      This task will download javacc and extract it into the directory 
+      javacc.home is set to.
+
       java.lang.NoClassDefFoundError: org.javacc.parser.Main
       ##################################################################
     </fail>
@@ -697,5 +704,16 @@
    </sequential>
   </macrodef>
 
-
+  <target name="fetch-javacc">
+    <echo>Fetching JavaCC 1.4 into ${javacc.home}</echo>
+    <mkdir dir="${javacc.home}"/>
+    <get dest="${java.io.tmpdir}/javacc-4.1.zip" src="https://javacc.dev.java.net/files/documents/17/108014/javacc-4.1.zip"/>
+    <unzip src="${java.io.tmpdir}/javacc-4.1.zip"  dest="${java.io.tmpdir}"/>
+    <move  todir="${javacc.home}">
+      <fileset dir="${java.io.tmpdir}/javacc-4.1/"/>
+    </move>
+    <delete file="${java.io.tmpdir}/javacc-4.1.zip"/>
+    <delete dir="${java.io.tmpdir}/javacc-4.1"/>
+  </target>
+	
 </project>
