Index: src/test/org/apache/lucene/index/TestIndexWriter.java
===================================================================
--- src/test/org/apache/lucene/index/TestIndexWriter.java	(revision 417313)
+++ src/test/org/apache/lucene/index/TestIndexWriter.java	(working copy)
@@ -27,8 +27,16 @@
         IndexReader reader = null;
         int i;
 
+        IndexWriter.setDefaultWriteLockTimeout(2000);
+        IndexWriter.setDefaultCommitLockTimeout(2000);
+        assertEquals(2000, IndexWriter.getDefaultWriteLockTimeout());
+        assertEquals(2000, IndexWriter.getDefaultCommitLockTimeout());
+
         writer  = new IndexWriter(dir, new WhitespaceAnalyzer(), true);
 
+        IndexWriter.setDefaultWriteLockTimeout(1000);
+        IndexWriter.setDefaultCommitLockTimeout(1000);
+
         // add 100 documents
         for (i = 0; i < 100; i++) {
             addDoc(writer);
