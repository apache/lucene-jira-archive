Index: TermInfosWriter.java
===================================================================
--- TermInfosWriter.java	(revision 389043)
+++ TermInfosWriter.java	(working copy)
@@ -81,7 +81,7 @@
     isIndex = isi;
     output = directory.createOutput(segment + (isIndex ? ".tii" : ".tis"));
     output.writeInt(FORMAT);                      // write format
-    output.writeLong(0);                          // leave space for size
+    output.writeLong(-1);                          // leave space for size
     output.writeInt(indexInterval);             // write indexInterval
     output.writeInt(skipInterval);              // write skipInterval
   }
@@ -137,7 +137,6 @@
 
   /** Called to complete TermInfos creation. */
   final void close() throws IOException {
-    output.seek(4);          // write size after format
     output.writeLong(size);
     output.close();
 
