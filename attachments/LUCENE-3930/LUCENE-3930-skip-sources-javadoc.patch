Index: lucene/common-build.xml
===================================================================
--- lucene/common-build.xml	(revision 1307171)
+++ lucene/common-build.xml	(working copy)
@@ -221,6 +221,13 @@
               excludes="**/pom.xml,**/*.iml,site/build/"
   />
 
+  <!-- Default exclude sources and javadoc jars from Ivy fetch to save time and bandwidth -->
+  <condition property="ivy.exclude.types" 
+      value=""
+      else="source|javadoc">
+    <isset property="fetch.sources.javadocs"/>
+  </condition>
+
   <!-- Import custom ANT tasks. -->
   <import file="${common.dir}/tools/custom-tasks.xml" />
 
Index: lucene/contrib/demo/ivy.xml
===================================================================
--- lucene/contrib/demo/ivy.xml	(revision 1307171)
+++ lucene/contrib/demo/ivy.xml	(working copy)
@@ -20,5 +20,6 @@
     <info organisation="org.apache.lucene" module="core-demo"/>
     <dependencies>
       <dependency org="javax.servlet" name="servlet-api" rev="2.4"/>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
Index: lucene/contrib/sandbox/ivy.xml
===================================================================
--- lucene/contrib/sandbox/ivy.xml	(revision 1307171)
+++ lucene/contrib/sandbox/ivy.xml	(working copy)
@@ -20,5 +20,6 @@
     <info organisation="org.apache.lucene" module="sandbox"/>
     <dependencies>
       <dependency org="jakarta-regexp" name="jakarta-regexp" rev="1.4" transitive="false"/>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
Index: lucene/test-framework/ivy.xml
===================================================================
--- lucene/test-framework/ivy.xml	(revision 1307171)
+++ lucene/test-framework/ivy.xml	(working copy)
@@ -22,5 +22,6 @@
       <dependency org="org.apache.ant" name="ant" rev="1.7.1" transitive="false"/>
       <dependency org="org.apache.ant" name="ant-junit" rev="1.7.1" transitive="false"/>
       <dependency org="junit" name="junit" rev="4.10" transitive="false"/>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
Index: modules/analysis/icu/ivy.xml
===================================================================
--- modules/analysis/icu/ivy.xml	(revision 1307171)
+++ modules/analysis/icu/ivy.xml	(working copy)
@@ -20,5 +20,6 @@
     <info organisation="org.apache.lucene" module="analyzers-icu"/>
     <dependencies>
       <dependency org="com.ibm.icu" name="icu4j" rev="4.8.1.1" transitive="false"/>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
Index: modules/analysis/morfologik/ivy.xml
===================================================================
--- modules/analysis/morfologik/ivy.xml	(revision 1307171)
+++ modules/analysis/morfologik/ivy.xml	(working copy)
@@ -22,5 +22,6 @@
       <dependency org="org.carrot2" name="morfologik-polish" rev="1.5.2" transitive="false"/>
       <dependency org="org.carrot2" name="morfologik-fsa" rev="1.5.2" transitive="false"/>
       <dependency org="org.carrot2" name="morfologik-stemming" rev="1.5.2" transitive="false"/>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
Index: modules/analysis/phonetic/ivy.xml
===================================================================
--- modules/analysis/phonetic/ivy.xml	(revision 1307171)
+++ modules/analysis/phonetic/ivy.xml	(working copy)
@@ -20,5 +20,6 @@
     <info organisation="org.apache.lucene" module="analyzers-phonetic"/>
     <dependencies>
       <dependency org="commons-codec" name="commons-codec" rev="1.6" transitive="false"/>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
Index: modules/analysis/uima/ivy.xml
===================================================================
--- modules/analysis/uima/ivy.xml	(revision 1307171)
+++ modules/analysis/uima/ivy.xml	(working copy)
@@ -22,5 +22,6 @@
       <dependency org="org.apache.uima" name="Tagger" rev="2.3.1" transitive="false"/>
       <dependency org="org.apache.uima" name="WhitespaceTokenizer" rev="2.3.1" transitive="false"/>
       <dependency org="org.apache.uima" name="uimaj-core" rev="2.3.1" transitive="false"/>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
Index: modules/benchmark/ivy.xml
===================================================================
--- modules/benchmark/ivy.xml	(revision 1307171)
+++ modules/benchmark/ivy.xml	(working copy)
@@ -21,5 +21,6 @@
     <dependencies>
       <dependency org="org.apache.commons" name="commons-compress" rev="1.2" transitive="false"/>
       <dependency org="xerces" name="xercesImpl" rev="2.9.1" transitive="false"/>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
Index: modules/spatial/ivy.xml
===================================================================
--- modules/spatial/ivy.xml	(revision 1307171)
+++ modules/spatial/ivy.xml	(working copy)
@@ -20,5 +20,6 @@
     <info organisation="org.apache.lucene" module="spatial"/>
     <dependencies>
       <dependency org="com.spatial4j" name="spatial4j" rev="0.2" transitive="false"/>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
Index: solr/contrib/analysis-extras/ivy.xml
===================================================================
--- solr/contrib/analysis-extras/ivy.xml	(revision 1307171)
+++ solr/contrib/analysis-extras/ivy.xml	(working copy)
@@ -20,5 +20,6 @@
     <info organisation="org.apache.solr" module="analysis-extras"/>
     <dependencies>
       <dependency org="com.ibm.icu" name="icu4j" rev="4.8.1.1" transitive="false"/>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
Index: solr/contrib/clustering/ivy.xml
===================================================================
--- solr/contrib/clustering/ivy.xml	(revision 1307171)
+++ solr/contrib/clustering/ivy.xml	(working copy)
@@ -26,5 +26,6 @@
       <dependency org="org.apache.mahout" name="mahout-collections" rev="0.3" transitive="false"/>
       <dependency org="org.apache.mahout" name="mahout-math" rev="0.3" transitive="false"/>
       <dependency org="org.simpleframework" name="simple-xml" rev="2.4.1" transitive="false"/>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
Index: solr/contrib/dataimporthandler/ivy.xml
===================================================================
--- solr/contrib/dataimporthandler/ivy.xml	(revision 1307171)
+++ solr/contrib/dataimporthandler/ivy.xml	(working copy)
@@ -21,5 +21,6 @@
     <dependencies>
       <dependency org="javax.activation" name="activation" rev="1.1" transitive="false"/>
       <dependency org="javax.mail" name="mail" rev="1.4.1" transitive="false"/>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
Index: solr/contrib/extraction/ivy.xml
===================================================================
--- solr/contrib/extraction/ivy.xml	(revision 1307171)
+++ solr/contrib/extraction/ivy.xml	(working copy)
@@ -45,5 +45,6 @@
       <dependency org="xerces" name="xercesImpl" rev="2.8.1" transitive="false"/>
       <dependency org="xml-apis" name="xml-apis" rev="1.0.b2" transitive="false"/>
       <dependency org="org.apache.xmlbeans" name="xmlbeans" rev="2.3.0" transitive="false"/>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
Index: solr/contrib/uima/ivy.xml
===================================================================
--- solr/contrib/uima/ivy.xml	(revision 1307171)
+++ solr/contrib/uima/ivy.xml	(working copy)
@@ -25,5 +25,6 @@
       <dependency org="org.apache.uima" name="Tagger" rev="2.3.1" transitive="false"/>
       <dependency org="org.apache.uima" name="WhitespaceTokenizer" rev="2.3.1" transitive="false"/>
       <dependency org="org.apache.uima" name="uimaj-core" rev="2.3.1" transitive="false"/>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
Index: solr/contrib/velocity/ivy.xml
===================================================================
--- solr/contrib/velocity/ivy.xml	(revision 1307171)
+++ solr/contrib/velocity/ivy.xml	(working copy)
@@ -23,5 +23,6 @@
       <dependency org="commons-collections" name="commons-collections" rev="3.2.1" transitive="false"/>
       <dependency org="org.apache.velocity" name="velocity" rev="1.6.4" transitive="false"/>
       <dependency org="org.apache.velocity" name="velocity-tools" rev="2.0" transitive="false"/>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
Index: solr/core/ivy.xml
===================================================================
--- solr/core/ivy.xml	(revision 1307171)
+++ solr/core/ivy.xml	(working copy)
@@ -34,5 +34,6 @@
       <dependency org="com.spatial4j" name="spatial4j" rev="0.2" transitive="false"/>
       <dependency org="junit" name="junit" rev="4.10" transitive="false"/>
       <dependency org="javax.servlet" name="javax.servlet-api" rev="3.0.1" transitive="false"/>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
Index: solr/example/ivy.xml
===================================================================
--- solr/example/ivy.xml	(revision 1307171)
+++ solr/example/ivy.xml	(working copy)
@@ -38,5 +38,6 @@
       <dependency org="org.eclipse.jetty.orbit" name="javax.servlet" rev="3.0.0.v201112011016" transitive="false" conf="servlet->default">
         <artifact name="javax.servlet" type="orbit" ext="jar"/>
       </dependency>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
Index: solr/example/example-DIH/ivy.xml
===================================================================
--- solr/example/example-DIH/ivy.xml	(revision 1307171)
+++ solr/example/example-DIH/ivy.xml	(working copy)
@@ -21,5 +21,6 @@
 
     <dependencies>
       <dependency org="hsqldb" name="hsqldb" rev="1.8.0.10" transitive="false"/>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
Index: solr/solrj/ivy.xml
===================================================================
--- solr/solrj/ivy.xml	(revision 1307171)
+++ solr/solrj/ivy.xml	(working copy)
@@ -29,5 +29,6 @@
       <dependency org="org.slf4j" name="slf4j-api" rev="1.6.1" transitive="false"/>
       <dependency org="org.slf4j" name="slf4j-jdk14" rev="1.6.1" transitive="false"/> 
       <dependency org="junit" name="junit" rev="4.10" transitive="false"/>
+      <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/> 
     </dependencies>
 </ivy-module>
