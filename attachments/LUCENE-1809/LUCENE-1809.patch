Index: contrib/benchmark/conf/highlight-vs-vector-highlight.alg
===================================================================
--- contrib/benchmark/conf/highlight-vs-vector-highlight.alg	(revision 804420)
+++ contrib/benchmark/conf/highlight-vs-vector-highlight.alg	(working copy)
@@ -35,8 +35,11 @@
 docs.file=temp/enwiki-20070527-pages-articles.xml
 
 query.maker=org.apache.lucene.benchmark.byTask.feeds.EnwikiQueryMaker
-#query.maker=org.apache.lucene.benchmark.byTask.feeds.ReutersQueryMaker
+enwikiQueryMaker.disableSpanQueries=true
 
+max.field.length=2147483647
+highlighter.maxDocCharsToAnalyze=2147483647
+
 # task at this depth or less would print when they start
 task.max.depth.log=2
 
Index: contrib/benchmark/src/java/org/apache/lucene/benchmark/byTask/tasks/SearchTravRetHighlightTask.java
===================================================================
--- contrib/benchmark/src/java/org/apache/lucene/benchmark/byTask/tasks/SearchTravRetHighlightTask.java	(revision 804420)
+++ contrib/benchmark/src/java/org/apache/lucene/benchmark/byTask/tasks/SearchTravRetHighlightTask.java	(working copy)
@@ -67,6 +67,7 @@
   protected int maxFrags = 2;
   protected Set paramFields = Collections.EMPTY_SET;
   protected Highlighter highlighter;
+  protected int maxDocCharsToAnalyze;
 
   public SearchTravRetHighlightTask(PerfRunData runData) {
     super(runData);
@@ -79,6 +80,7 @@
     if (data.getConfig().get("doc.stored", false) == false){
       throw new Exception("doc.stored must be set to true");
     }
+    maxDocCharsToAnalyze = data.getConfig().get("highlighter.maxDocCharsToAnalyze", Highlighter.DEFAULT_MAX_CHARS_TO_ANALYZE);
   }
 
   public boolean withRetrieve() {
@@ -91,6 +93,7 @@
   
   protected BenchmarkHighlighter getBenchmarkHighlighter(Query q){
     highlighter = new Highlighter(new SimpleHTMLFormatter(), new QueryScorer(q));
+    highlighter.setMaxDocCharsToAnalyze(maxDocCharsToAnalyze);
     return new BenchmarkHighlighter(){
       public int doHighlight(IndexReader reader, int doc, String field,
           Document document, Analyzer analyzer, String text) throws Exception {
Index: contrib/benchmark/src/java/org/apache/lucene/benchmark/byTask/feeds/EnwikiQueryMaker.java
===================================================================
--- contrib/benchmark/src/java/org/apache/lucene/benchmark/byTask/feeds/EnwikiQueryMaker.java	(revision 804420)
+++ contrib/benchmark/src/java/org/apache/lucene/benchmark/byTask/feeds/EnwikiQueryMaker.java	(working copy)
@@ -127,7 +127,8 @@
 
     List queryList = new ArrayList(20);
     queryList.addAll(Arrays.asList(STANDARD_QUERIES));
-    queryList.addAll(Arrays.asList(getPrebuiltQueries(DocMaker.BODY_FIELD)));
+    if(!config.get("enwikiQueryMaker.disableSpanQueries", false))
+      queryList.addAll(Arrays.asList(getPrebuiltQueries(DocMaker.BODY_FIELD)));
     return createQueries(queryList, anlzr);
   }
 
