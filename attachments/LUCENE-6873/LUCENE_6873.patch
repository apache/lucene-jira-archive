Index: lucene/spatial/src/test/org/apache/lucene/spatial/SpatialTestCase.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- lucene/spatial/src/test/org/apache/lucene/spatial/SpatialTestCase.java	(revision 1724873)
+++ lucene/spatial/src/test/org/apache/lucene/spatial/SpatialTestCase.java	(revision )
@@ -227,7 +227,8 @@
     else
       pivotResult = Math.min(pivotMax, (g - 1) * (pivotMax - pivot) + pivot);
 
-    return mean + flip * pivotResult;
+    double result = mean + flip * pivotResult;
+    return (result < 0 || result > max) ? mean : result; // due this due to computational numerical precision
   }
 
   // ================================================= Inner Classes =================================================
