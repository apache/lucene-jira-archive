Index: lucene/test-framework/build.xml
===================================================================
--- lucene/test-framework/build.xml	(revision 1555891)
+++ lucene/test-framework/build.xml	(working copy)
@@ -27,8 +27,7 @@
   <path id="classpath">
     <pathelement location="${common.dir}/build/core/classes/java"/>
     <pathelement location="${common.dir}/build/codecs/classes/java"/>
-    <path refid="junit-path"/>
-    <path refid="ant-path"/>
+    <fileset dir="lib"/>
   </path>
 
   <path id="test.classpath"/>
Index: lucene/tools/build.xml
===================================================================
--- lucene/tools/build.xml	(revision 1555891)
+++ lucene/tools/build.xml	(working copy)
@@ -28,7 +28,7 @@
 
   <path id="classpath">
     <!-- TODO: we need this for forbidden-apis to be happy, because it does not support "includeantruntime": -->
-    <path refid="ant-path"/>
+    <fileset dir="lib"/>
   </path>
 
   <path id="test.classpath"/>
Index: lucene/tools/ivy.xml
===================================================================
--- lucene/tools/ivy.xml	(revision 1555891)
+++ lucene/tools/ivy.xml	(working copy)
@@ -18,4 +18,8 @@
 -->
 <ivy-module version="2.0">
     <info organisation="org.apache.lucene" module="core-tools"/>
+    <dependencies>
+       <dependency org="org.apache.ant" name="ant" rev="${/org.apache.ant/ant}" transitive="false" />
+       <exclude org="*" ext="*" matcher="regexp" type="${ivy.exclude.types}"/>
+    </dependencies>
 </ivy-module>
