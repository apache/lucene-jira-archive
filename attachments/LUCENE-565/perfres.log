
Start: max-buf-docs=10 - 1 iterations: each adding 10 docs and deleting 5 docs (gap between deleted ids is 2. 2 measures taken;

300 millis for IndexModifier (take 1)
300 millis for NewIndexModifier (take 1)
171 millis for IndexModifier (take 2)
210 millis for NewIndexModifier (take 2)

New code is worse by: 39 millis, that is, by 22%

Start: max-buf-docs=10 - 100 iterations: each adding 10 docs and deleting 5 docs (gap between deleted ids is 2. 2 measures taken;

10075 millis for IndexModifier (take 1)
9544 millis for NewIndexModifier (take 1)
8372 millis for IndexModifier (take 2)
7881 millis for NewIndexModifier (take 2)

New code is better by: 491 millis, that is, by 6%

Start: max-buf-docs=1000 - 100 iterations: each adding 10 docs and deleting 5 docs (gap between deleted ids is 2. 2 measures taken;

9424 millis for IndexModifier (take 1)
4366 millis for NewIndexModifier (take 1)
9524 millis for IndexModifier (take 2)
4496 millis for NewIndexModifier (take 2)

New code is better by: 5058 millis, that is, by 54%

Start: max-buf-docs=5000 - 100 iterations: each adding 50 docs and deleting 10 docs (gap between deleted ids is 2. 2 measures taken;

17425 millis for IndexModifier (take 1)
15602 millis for NewIndexModifier (take 1)
16123 millis for IndexModifier (take 2)
14942 millis for NewIndexModifier (take 2)

New code is better by: 1181 millis, that is, by 8%

Start: max-buf-docs=10000 - 100 iterations: each adding 200 docs and deleting 20 docs (gap between deleted ids is 2. 2 measures taken;

26768 millis for IndexModifier (take 1)
26318 millis for NewIndexModifier (take 1)
25066 millis for IndexModifier (take 2)
24355 millis for NewIndexModifier (take 2)

New code is better by: 711 millis, that is, by 3%

Start: max-buf-docs=50000 - 1000 iterations: each adding 300 docs and deleting 30 docs (gap between deleted ids is 2. 2 measures taken;

bypass weird OS/FS bug (renameFile), trying again...
bypass weird OS/FS bug (renameFile) - success!
bypass weird OS/FS bug (renameFile), trying again...
bypass weird OS/FS bug (renameFile) - success!
bypass weird OS/FS bug (renameFile), trying again...
bypass weird OS/FS bug (renameFile) - success!
1208848 millis for IndexModifier (take 1)
498958 millis for NewIndexModifier (take 1)
bypass weird OS/FS bug (renameFile), trying again...
bypass weird OS/FS bug (renameFile) - success!
bypass weird OS/FS bug (renameFile), trying again...
bypass weird OS/FS bug (renameFile) - success!
1498915 millis for IndexModifier (take 2)
501191 millis for NewIndexModifier (take 2)

New code is better by: 709890 millis, that is, by 59%

Start: max-buf-docs=50000 - 2000 iterations: each adding 400 docs and deleting 40 docs (gap between deleted ids is 4. 2 measures taken;

bypass weird OS/FS bug (lock.createNewFile)
bypass weird OS/FS bug (lock.createNewFile)
bypass weird OS/FS bug (renameFile), trying again...
bypass weird OS/FS bug (renameFile) - success!
bypass weird OS/FS bug (lock.createNewFile)
5507529 millis for IndexModifier (take 1)
1170053 millis for NewIndexModifier (take 1)
