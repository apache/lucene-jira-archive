Index: contrib/benchmark/build-ivy.xml
===================================================================
--- contrib/benchmark/build-ivy.xml	(révision 0)
+++ contrib/benchmark/build-ivy.xml	(révision 0)
@@ -0,0 +1,13 @@
+<?xml version="1.0"?>
+<project name="lucene-contrib-benchmark" default="publish">
+
+  <!-- define where to find the dependencies -->
+  <fileset id="project.build.depend.files" dir="../../">
+    <include name="contrib/benchmark/build-ivy.xml" />
+    <include name="core/build.xml" />
+    <include name="demo/build.xml" />
+  </fileset>
+
+  <import file="../../common-build/common-build-project.xml"/>
+
+</project>

Modification de propriétés sur contrib/benchmark/build-ivy.xml
___________________________________________________________________
Nom : svn:mime-type
   + text/xml
Nom : svn:keywords
   + Date Revision Author HeadURL Id
Nom : svn:eol-style
   + native

Index: contrib/benchmark/ivy.xml
===================================================================
--- contrib/benchmark/ivy.xml	(révision 0)
+++ contrib/benchmark/ivy.xml	(révision 0)
@@ -0,0 +1,35 @@
+<?xml version="1.0"?>
+<?xml-stylesheet type="text/xsl" href="http://www.ivyrep.org/ivy-doc.xsl"?>
+<ivy-module version="1.3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+    xsi:noNamespaceSchemaLocation="http://www.jayasoft.org/misc/ivy/ivy.xsd">
+
+    <info organisation="apache" module="lucene-contrib-benchmark">
+        <license url="http://www.apache.org/licenses/LICENSE-2.0" name="ASL2" />
+        <description homepage="http://lucene.apache.org/">Benchmark tools for Lucene</description>
+    </info>
+
+    <configurations>
+        <conf name="default" />
+        <conf name="runtime" extends="default" />
+        <conf name="test" extends="compile,runtime" />
+        <conf name="compile" extends="default" />
+    </configurations>
+
+    <publications>
+        <artifact name="lucene-contrib-benchmark" type="jar" ext="jar" conf="default" />
+        <artifact name="lucene-contrib-benchmark" type="source" ext="jar" conf="default" />
+    </publications>
+
+    <dependencies>
+        <dependency org="apache" name="lucene-core" rev="latest.integration" conf="default" changing="true" />
+        <dependency org="apache" name="lucene-demo" rev="latest.integration" conf="default" changing="true" />
+
+        <dependency org="apache" name="commons-beanutils" rev="1.7.0" conf="default"/>
+        <dependency org="apache" name="commons-collections" rev="3.1" conf="default"/>
+        <dependency org="apache" name="commons-digester" rev="1.7" conf="default"/>
+        <dependency org="apache" name="commons-logging" rev="1.1" conf="default"/>
+
+        <dependency org="junit" name="junit" rev="3.8.2" conf="test->default" />
+    </dependencies>
+
+</ivy-module>

Modification de propriétés sur contrib/benchmark/ivy.xml
___________________________________________________________________
Nom : svn:mime-type
   + text/xml
Nom : svn:keywords
   + Date Revision Author HeadURL Id
Nom : svn:eol-style
   + native

Index: contrib/benchmark/build.properties
===================================================================
--- contrib/benchmark/build.properties	(révision 0)
+++ contrib/benchmark/build.properties	(révision 0)
@@ -0,0 +1,4 @@
+# Manifest identification
+Manifest-Section=org/apache/lucene/benchmark
+Implementation-Title=Lucene contrib benchmark
+

Modification de propriétés sur contrib/benchmark/build.properties
___________________________________________________________________
Nom : svn:keywords
   + Date Revision Author HeadURL Id
Nom : svn:eol-style
   + native

Index: contrib/build.xml
===================================================================
--- contrib/build.xml	(révision 0)
+++ contrib/build.xml	(révision 0)
@@ -0,0 +1,9 @@
+<?xml version="1.0"?>
+<project name="contrib" default="publish" xmlns:ivy="antlib:fr.jayasoft.ivy.ant">
+
+  <!-- define where to find the sub-project -->
+  <fileset id="module.build.sub.files" dir="." includes="*/build-ivy.xml" />
+
+  <import file="../common-build/common-build-modules.xml"/>
+
+</project>

Modification de propriétés sur contrib/build.xml
___________________________________________________________________
Nom : svn:mime-type
   + text/xml
Nom : svn:keywords
   + Date Revision Author HeadURL Id
Nom : svn:eol-style
   + native

Index: demo/ivy.xml
===================================================================
--- demo/ivy.xml	(révision 0)
+++ demo/ivy.xml	(révision 0)
@@ -0,0 +1,22 @@
+<ivy-module version="1.0">
+    <info organisation="apache" module="lucene-demo" />
+    <configurations>
+        <conf name="default" />
+        <conf name="runtime" extends="default" />
+        <conf name="test" extends="compile,runtime" />
+        <conf name="compile" extends="default" />
+        <conf name="gcj" />
+        <conf name="webapp" />
+    </configurations>
+    <publications>
+        <artifact name="lucene-demo" type="jar" ext="jar" conf="default" />
+        <artifact name="lucene-demo" type="source" ext="jar" conf="default" />
+        <artifact name="lucene-demo" type="war" ext="war" conf="webapp" />
+        <!--artifact name="lucene-demo" type="staticlib" ext="a" conf="gcj" /-->
+    </publications>
+    <dependencies>
+        <dependency org="apache" name="lucene-core" rev="latest.integration" conf="default"/>
+
+        <dependency org="junit" name="junit" rev="3.8.2" conf="test->default"/>
+    </dependencies>
+</ivy-module>

Modification de propriétés sur demo/ivy.xml
___________________________________________________________________
Nom : svn:mime-type
   + text/xml
Nom : svn:keywords
   + Date Revision Author HeadURL Id
Nom : svn:eol-style
   + native

Index: demo/build.properties
===================================================================
--- demo/build.properties	(révision 0)
+++ demo/build.properties	(révision 0)
@@ -0,0 +1,3 @@
+# Manifest identification
+Manifest-Section=org/apache/lucene/
+Implementation-Title=Lucene webapp demo

Modification de propriétés sur demo/build.properties
___________________________________________________________________
Nom : svn:keywords
   + Date Revision Author HeadURL Id
Nom : svn:eol-style
   + native

Index: demo/build.xml
===================================================================
--- demo/build.xml	(révision 0)
+++ demo/build.xml	(révision 0)
@@ -0,0 +1,24 @@
+<?xml version="1.0"?>
+<project name="lucene-demo" default="publish" basedir=".">
+
+  <property name="main.src.dir" location="../src/demo" />
+  <property name="test.src.dir" location="../src/test" />
+  <property name="war.src.dir" location="../src/jsp"/>
+
+  <import file="../common-build/common-build-webapp.xml"/>
+  <!--import file="../common-build/common-build-gcj.xml"/-->
+
+  <!--property name="dist.staticlibs.dir" location="${dist.dir}/staticlibs" />
+
+  <target name="init" depends="common-webapp.init">
+    <mkdir dir="${dist.staticlibs.dir}" />
+  </target>
+
+  <target name="all" depends="jar,jar-src,staticlib,common-webapp.all" />
+
+  <target name="staticlib" depends="jar">
+    <exec executable="make" dir="." failonerror="true" />
+  </target-->
+  
+
+</project>

Modification de propriétés sur demo/build.xml
___________________________________________________________________
Nom : svn:mime-type
   + text/xml
Nom : svn:keywords
   + Date Revision Author HeadURL Id
Nom : svn:eol-style
   + native

Index: core/ivy.xml
===================================================================
--- core/ivy.xml	(révision 0)
+++ core/ivy.xml	(révision 0)
@@ -0,0 +1,18 @@
+<ivy-module version="1.0">
+    <info organisation="apache" module="lucene-core" />
+    <configurations>
+        <conf name="default" />
+        <conf name="runtime" extends="default" />
+        <conf name="test" extends="compile,runtime" />
+        <conf name="compile" extends="default" />
+        <conf name="gcj" />
+    </configurations>
+    <publications>
+        <artifact name="lucene-core" type="jar" ext="jar" conf="default" />
+        <artifact name="lucene-core" type="source" ext="jar" conf="default" />
+        <!--artifact name="lucene-core" type="staticlib" ext="a" conf="gcj" /-->
+    </publications>
+    <dependencies>
+        <dependency org="junit" name="junit" rev="3.8.2" conf="test->default"/>
+    </dependencies>
+</ivy-module>

Modification de propriétés sur core/ivy.xml
___________________________________________________________________
Nom : svn:mime-type
   + text/xml
Nom : svn:keywords
   + Date Revision Author HeadURL Id
Nom : svn:eol-style
   + native

Index: core/build.properties
===================================================================
--- core/build.properties	(révision 0)
+++ core/build.properties	(révision 0)
@@ -0,0 +1,8 @@
+# Manifest identification
+Manifest-Section=org/apache/lucene/
+Implementation-Title=Lucene core
+
+
+javacc.home=/usr/share/javacc
+javacc.jar=/usr/share/javacc/lib/javacc.jar
+

Modification de propriétés sur core/build.properties
___________________________________________________________________
Nom : svn:keywords
   + Date Revision Author HeadURL Id
Nom : svn:eol-style
   + native

Index: core/build.xml
===================================================================
--- core/build.xml	(révision 0)
+++ core/build.xml	(révision 0)
@@ -0,0 +1,130 @@
+<?xml version="1.0"?>
+<project name="lucene-core" default="publish" basedir=".">
+
+  <property name="main.src.dir" location="../src/java" />
+  <property name="test.src.dir" location="../src/test" />
+
+  <!--import file="../common-build/common-build-gcj.xml" /-->
+  <import file="../common-build/common-build-project.xml" />
+
+  <!--target name="init" depends="javacc-uptodate-check, javacc-notice, common-gcj.init" /-->
+  <target name="init" depends="javacc-uptodate-check, javacc-notice, common-project.init" />
+
+  <!-- Overrides common.compile to add rmic -->
+  <target name="compile" depends="common-project.compile" description="Compiles core classes, including rmic">
+    <rmic classname="org.apache.lucene.search.RemoteSearchable" base="${main.classes.dir}" stubversion="1.2">
+      <classpath refid="main.classpath" />
+    </rmic>
+  </target>
+
+  <!--target name="staticlib-commandline" depends="exploded-jars">
+    <fileset id="staticlib.path.java" dir="${main.src.dir}">
+      <include name="**/*.java" />
+      <exclude name="**/*Sort*" />
+      <exclude name="**/Span*" />
+      <exclude name="**/FieldCache*" />
+    </fileset>
+    <fileset id="staticlib.path.classes" dir="${gcj.classes.dir}">
+      <include name="**/*Sort*" />
+      <include name="**/Span*" />
+      <include name="**/FieldCache*" />
+    </fileset>
+    <pathconvert pathsep=" " property="staticlib.java" refid="staticlib.path.java" />
+    <pathconvert pathsep=" " property="staticlib.classes" refid="staticlib.path.classes" />
+    <property name="staticlib.commandline" value="-c -I ${gcj.classes.dir} -o ${dist.staticlibs.dir}/${project.name}.a ${staticlib.java} ${staticlib.classes}" />
+  </target-->
+
+  <!-- 
+  ==========================================================================
+        JavaCC stuff
+  ==========================================================================    
+  -->
+  <!-- TODO: maybe make JavaCC checking specific to only the projects
+             that use it (Lucene core and contrib/miscellaneous
+  -->
+  <target name="javacc-uptodate-check">
+    <uptodate property="javacc.files.uptodate">
+      <srcfiles dir="../src" includes="**/*.jj" />
+      <mapper type="glob" from="*.jj" to="*.java" />
+    </uptodate>
+  </target>
+
+  <target name="javacc-notice" unless="javacc.files.uptodate">
+    <echo>
+      One or more of the JavaCC .jj files is newer than its corresponding
+      .java file.  Run the "javacc" target to regenerate the artifacts.
+    </echo>
+  </target>
+
+  <target name="javacc-check">
+    <fail unless="javacc.present">
+      ##################################################################
+      JavaCC not found.
+      JavaCC Home: ${javacc.home}
+      JavaCC JAR: ${javacc.jar}
+
+      Please download and install JavaCC from:
+
+      &lt;http://javacc.dev.java.net&gt;
+
+      Then, create a build.properties file either in your home
+      directory, or within the Lucene directory and set the javacc.home
+      property to the path where JavaCC is installed. For example,
+      if you installed JavaCC in /usr/local/java/javacc-3.2, then set the
+      javacc.home property to:
+
+      javacc.home=/usr/local/java/javacc-3.2
+
+      If you get an error like the one below, then you have not installed
+      things correctly. Please check all your paths and try again.
+
+      java.lang.NoClassDefFoundError: org.javacc.parser.Main
+      ##################################################################
+    </fail>
+
+  </target>
+
+  <!-- ================================================================== -->
+  <!-- Build the JavaCC files into the source tree                        -->
+  <!-- ================================================================== -->
+  <target name="jjdoc">
+    <mkdir dir="${build.dir}/docs/grammars" />
+    <jjdoc target="src/java/org/apache/lucene/queryParser/QueryParser.jj" outputfile="${build.dir}/docs/grammars/QueryParser.html" javacchome="${javacc.home}" />
+    <jjdoc target="src/java/org/apache/lucene/analysis/standard/StandardTokenizer.jj" outputfile="${build.dir}/docs/grammars/StandardTokenizer.html" javacchome="${javacc.home}" />
+    <jjdoc target="src/demo/org/apache/lucene/demo/html/HTMLParser.jj" outputfile="${build.dir}/docs/grammars/HTMLParser.html" javacchome="${javacc.home}" />
+  </target>
+
+  <target name="clean-javacc">
+    <delete>
+      <fileset dir="src">
+        <include name="java/org/apache/lucene/analysis/standard/StandardTokenizer.java" />
+        <include name="java/org/apache/lucene/queryParser/QueryParser.java" />
+        <include name="demo/org/apache/lucene/demo/html/HTMLParser.java" />
+      </fileset>
+    </delete>
+  </target>
+
+  <target name="javacc" depends="clean-javacc,javacc-StandardAnalyzer,javacc-QueryParser,javacc-HTMLParser" />
+
+  <target name="javacc-StandardAnalyzer" depends="init,javacc-check" if="javacc.present">
+    <!-- generate this in a build directory so we can exclude ParseException -->
+    <mkdir dir="${build.dir}/gen/org/apache/lucene/analysis/standard" />
+
+    <invoke-javacc target="src/java/org/apache/lucene/analysis/standard/StandardTokenizer.jj" outputDir="${build.dir}/gen/org/apache/lucene/analysis/standard" />
+    <copy todir="src/java/org/apache/lucene/analysis/standard">
+      <fileset dir="${build.dir}/gen/org/apache/lucene/analysis/standard">
+        <include name="*.java" />
+        <exclude name="ParseException.java" />
+      </fileset>
+    </copy>
+  </target>
+
+  <target name="javacc-QueryParser" depends="init,javacc-check" if="javacc.present">
+    <invoke-javacc target="src/java/org/apache/lucene/queryParser/QueryParser.jj" outputDir="src/java/org/apache/lucene/queryParser" />
+  </target>
+
+  <target name="javacc-HTMLParser" depends="init,javacc-check" if="javacc.present">
+    <invoke-javacc target="src/demo/org/apache/lucene/demo/html/HTMLParser.jj" outputDir="src/demo/org/apache/lucene/demo/html" />
+  </target>
+
+</project>

Modification de propriétés sur core/build.xml
___________________________________________________________________
Nom : svn:mime-type
   + text/xml
Nom : svn:keywords
   + Date Revision Author HeadURL Id
Nom : svn:eol-style
   + native

