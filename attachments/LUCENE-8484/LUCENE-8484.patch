diff --git a/lucene/core/src/test/org/apache/lucene/index/TestAddIndexes.java b/lucene/core/src/test/org/apache/lucene/index/TestAddIndexes.java
index 6b9312bf5f..a39e250bc7 100644
--- a/lucene/core/src/test/org/apache/lucene/index/TestAddIndexes.java
+++ b/lucene/core/src/test/org/apache/lucene/index/TestAddIndexes.java
@@ -1448,6 +1448,8 @@ public class TestAddIndexes extends LuceneTestCase {
     Directory dir3 = newDirectory();
     iwc1 = newIndexWriterConfig(new MockAnalyzer(random())).setSoftDeletesField("soft_delete");
     writer = new IndexWriter(dir3, iwc1);
+    // Resize as some fully deleted sub-readers might be excluded in the wrappedReader
+    readers = new CodecReader[(wrappedReader.leaves().size())];
     for (int i = 0; i < readers.length; i++) {
       readers[i] = (CodecReader)wrappedReader.leaves().get(i).reader();
     }
