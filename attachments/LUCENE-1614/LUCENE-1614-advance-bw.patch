Index: src/java/org/apache/lucene/search/DocIdSetIterator.java
===================================================================
--- src/java/org/apache/lucene/search/DocIdSetIterator.java	(revision 794233)
+++ src/java/org/apache/lucene/search/DocIdSetIterator.java	(working copy)
@@ -142,8 +142,10 @@
    * @since 2.9
    */
   public int advance(int target) throws IOException {
-    while (nextDoc() < target) {}
-    return doc;
+    if (target == NO_MORE_DOCS) {
+      return doc = NO_MORE_DOCS;
+    }
+    return doc = skipTo(target) ? doc() : NO_MORE_DOCS;
   }
 
 }
