Index: solr/core/src/test/org/apache/solr/core/TestCodecSupport.java
===================================================================
--- solr/core/src/test/org/apache/solr/core/TestCodecSupport.java	(revision 1215093)
+++ solr/core/src/test/org/apache/solr/core/TestCodecSupport.java	(working copy)
@@ -19,8 +19,8 @@
 
 import java.util.Map;
 
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.perfield.PerFieldPostingsFormat;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.perfield.PerFieldPostingsFormat;
 import org.apache.solr.SolrTestCaseJ4;
 import org.apache.solr.schema.SchemaField;
 import org.junit.BeforeClass;
Index: solr/core/src/test/org/apache/solr/search/function/TestFunctionQuery.java
===================================================================
--- solr/core/src/test/org/apache/solr/search/function/TestFunctionQuery.java	(revision 1215093)
+++ solr/core/src/test/org/apache/solr/search/function/TestFunctionQuery.java	(working copy)
@@ -17,8 +17,8 @@
 
 package org.apache.solr.search.function;
 
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.index.FieldInvertState;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.search.FieldCache;
 import org.apache.lucene.search.similarities.DefaultSimilarity;
 import org.apache.lucene.search.similarities.TFIDFSimilarity;
Index: solr/core/src/test/org/apache/solr/schema/TestCollationField.java
===================================================================
--- solr/core/src/test/org/apache/solr/schema/TestCollationField.java	(revision 1215093)
+++ solr/core/src/test/org/apache/solr/schema/TestCollationField.java	(working copy)
@@ -25,7 +25,7 @@
 
 import org.apache.commons.io.FileUtils;
 import org.apache.commons.io.IOUtils;
-import org.apache.lucene.index.codecs.Codec;
+import org.apache.lucene.codecs.Codec;
 import org.apache.solr.SolrTestCaseJ4;
 import org.junit.BeforeClass;
 
Index: solr/core/src/java/org/apache/solr/update/SolrIndexWriter.java
===================================================================
--- solr/core/src/java/org/apache/solr/update/SolrIndexWriter.java	(revision 1215093)
+++ solr/core/src/java/org/apache/solr/update/SolrIndexWriter.java	(working copy)
@@ -26,10 +26,10 @@
 import java.util.Date;
 import java.util.concurrent.atomic.AtomicLong;
 
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.index.IndexDeletionPolicy;
 import org.apache.lucene.index.IndexWriter;
 import org.apache.lucene.index.IndexWriterConfig;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.util.InfoStream;
 import org.apache.lucene.util.PrintStreamInfoStream;
Index: solr/core/src/java/org/apache/solr/core/DefaultCodecFactory.java
===================================================================
--- solr/core/src/java/org/apache/solr/core/DefaultCodecFactory.java	(revision 1215093)
+++ solr/core/src/java/org/apache/solr/core/DefaultCodecFactory.java	(working copy)
@@ -17,9 +17,9 @@
  * limitations under the License.
  */
 
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40Codec;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40Codec;
 import org.apache.solr.schema.IndexSchema;
 import org.apache.solr.schema.SchemaField;
 
Index: solr/core/src/java/org/apache/solr/core/SolrCore.java
===================================================================
--- solr/core/src/java/org/apache/solr/core/SolrCore.java	(revision 1215093)
+++ solr/core/src/java/org/apache/solr/core/SolrCore.java	(working copy)
@@ -17,10 +17,10 @@
 
 package org.apache.solr.core;
 
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.index.IndexDeletionPolicy;
 import org.apache.lucene.index.IndexReader;
 import org.apache.lucene.index.IndexWriter;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.search.BooleanQuery;
 import org.apache.lucene.store.Directory;
 import org.apache.solr.common.SolrException;
Index: solr/core/src/java/org/apache/solr/core/CodecFactory.java
===================================================================
--- solr/core/src/java/org/apache/solr/core/CodecFactory.java	(revision 1215093)
+++ solr/core/src/java/org/apache/solr/core/CodecFactory.java	(working copy)
@@ -17,7 +17,7 @@
  * limitations under the License.
  */
 
-import org.apache.lucene.index.codecs.Codec;
+import org.apache.lucene.codecs.Codec;
 import org.apache.solr.common.util.NamedList;
 import org.apache.solr.schema.IndexSchema;
 import org.apache.solr.util.plugin.NamedListInitializedPlugin;
Index: solr/contrib/analysis-extras/src/test/org/apache/solr/schema/TestICUCollationFieldOptions.java
===================================================================
--- solr/contrib/analysis-extras/src/test/org/apache/solr/schema/TestICUCollationFieldOptions.java	(revision 1215093)
+++ solr/contrib/analysis-extras/src/test/org/apache/solr/schema/TestICUCollationFieldOptions.java	(working copy)
@@ -17,7 +17,7 @@
  * limitations under the License.
  */
 
-import org.apache.lucene.index.codecs.Codec;
+import org.apache.lucene.codecs.Codec;
 import org.apache.solr.SolrTestCaseJ4;
 import org.junit.BeforeClass;
 
Index: solr/contrib/analysis-extras/src/test/org/apache/solr/schema/TestICUCollationField.java
===================================================================
--- solr/contrib/analysis-extras/src/test/org/apache/solr/schema/TestICUCollationField.java	(revision 1215093)
+++ solr/contrib/analysis-extras/src/test/org/apache/solr/schema/TestICUCollationField.java	(working copy)
@@ -22,7 +22,7 @@
 
 import org.apache.commons.io.FileUtils;
 import org.apache.commons.io.IOUtils;
-import org.apache.lucene.index.codecs.Codec;
+import org.apache.lucene.codecs.Codec;
 import org.apache.solr.SolrTestCaseJ4;
 import org.junit.BeforeClass;
 
Index: modules/analysis/icu/src/test/org/apache/lucene/collation/TestICUCollationKeyAnalyzer.java
===================================================================
--- modules/analysis/icu/src/test/org/apache/lucene/collation/TestICUCollationKeyAnalyzer.java	(revision 1215093)
+++ modules/analysis/icu/src/test/org/apache/lucene/collation/TestICUCollationKeyAnalyzer.java	(working copy)
@@ -22,7 +22,7 @@
 
 import org.apache.lucene.analysis.Analyzer;
 import org.apache.lucene.analysis.CollationTestBase;
-import org.apache.lucene.index.codecs.Codec;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.util.BytesRef;
 
 import java.util.Locale;
Index: modules/analysis/common/src/test/org/apache/lucene/collation/TestCollationKeyAnalyzer.java
===================================================================
--- modules/analysis/common/src/test/org/apache/lucene/collation/TestCollationKeyAnalyzer.java	(revision 1215093)
+++ modules/analysis/common/src/test/org/apache/lucene/collation/TestCollationKeyAnalyzer.java	(working copy)
@@ -20,7 +20,7 @@
 
 import org.apache.lucene.analysis.Analyzer;
 import org.apache.lucene.analysis.CollationTestBase;
-import org.apache.lucene.index.codecs.Codec;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.util.BytesRef;
 
 import java.text.Collator;
Index: modules/benchmark/src/java/org/apache/lucene/benchmark/byTask/tasks/CreateIndexTask.java
===================================================================
--- modules/benchmark/src/java/org/apache/lucene/benchmark/byTask/tasks/CreateIndexTask.java	(revision 1215093)
+++ modules/benchmark/src/java/org/apache/lucene/benchmark/byTask/tasks/CreateIndexTask.java	(working copy)
@@ -19,6 +19,7 @@
 
 import org.apache.lucene.benchmark.byTask.PerfRunData;
 import org.apache.lucene.benchmark.byTask.utils.Config;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.index.CorruptIndexException;
 import org.apache.lucene.index.IndexCommit;
 import org.apache.lucene.index.IndexDeletionPolicy;
@@ -33,7 +34,6 @@
 import org.apache.lucene.index.NoMergePolicy;
 import org.apache.lucene.index.NoMergeScheduler;
 import org.apache.lucene.index.IndexWriterConfig.OpenMode;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.store.LockObtainFailedException;
 import org.apache.lucene.util.Version;
 
Index: lucene/src/test/org/apache/lucene/TestExternalCodecs.java
===================================================================
--- lucene/src/test/org/apache/lucene/TestExternalCodecs.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/TestExternalCodecs.java	(working copy)
@@ -21,10 +21,10 @@
 import java.util.*;
 
 import org.apache.lucene.analysis.*;
+import org.apache.lucene.codecs.*;
+import org.apache.lucene.codecs.lucene40.Lucene40Codec;
 import org.apache.lucene.document.*;
 import org.apache.lucene.index.*;
-import org.apache.lucene.index.codecs.*;
-import org.apache.lucene.index.codecs.lucene40.Lucene40Codec;
 import org.apache.lucene.search.*;
 import org.apache.lucene.store.*;
 import org.apache.lucene.util.*;
Index: lucene/src/test/org/apache/lucene/store/TestFileSwitchDirectory.java
===================================================================
--- lucene/src/test/org/apache/lucene/store/TestFileSwitchDirectory.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/store/TestFileSwitchDirectory.java	(working copy)
@@ -24,12 +24,12 @@
 import java.util.Set;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.lucene40.Lucene40StoredFieldsWriter;
 import org.apache.lucene.index.IndexReader;
 import org.apache.lucene.index.IndexWriter;
 import org.apache.lucene.index.IndexWriterConfig;
 import org.apache.lucene.index.TestIndexWriterReader;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.lucene40.Lucene40StoredFieldsWriter;
 import org.apache.lucene.util.LuceneTestCase;
 import org.apache.lucene.util._TestUtil;
 
Index: lucene/src/test/org/apache/lucene/codecs/lucene40/TestReuseDocsEnum.java
===================================================================
--- lucene/src/test/org/apache/lucene/codecs/lucene40/TestReuseDocsEnum.java	(working copy)
+++ lucene/src/test/org/apache/lucene/codecs/lucene40/TestReuseDocsEnum.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
  * contributor license agreements.  See the NOTICE file distributed with
@@ -20,12 +20,13 @@
 import java.util.Random;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsFormat;
 import org.apache.lucene.index.DocsEnum;
 import org.apache.lucene.index.IndexReader;
 import org.apache.lucene.index.RandomIndexWriter;
 import org.apache.lucene.index.Terms;
 import org.apache.lucene.index.TermsEnum;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.util.Bits;
 import org.apache.lucene.util.Bits.MatchNoBits;
Index: lucene/src/test/org/apache/lucene/codecs/lucene40/TestDocValues.java
===================================================================
--- lucene/src/test/org/apache/lucene/codecs/lucene40/TestDocValues.java	(working copy)
+++ lucene/src/test/org/apache/lucene/codecs/lucene40/TestDocValues.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.values;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,14 +20,14 @@
 import java.io.IOException;
 import java.util.Comparator;
 
+import org.apache.lucene.codecs.lucene40.values.Bytes;
+import org.apache.lucene.codecs.lucene40.values.Floats;
+import org.apache.lucene.codecs.lucene40.values.Ints;
+import org.apache.lucene.codecs.lucene40.values.Writer;
 import org.apache.lucene.index.DocValues;
 import org.apache.lucene.index.DocValues.SortedSource;
 import org.apache.lucene.index.DocValues.Source;
 import org.apache.lucene.index.DocValues.Type;
-import org.apache.lucene.index.codecs.lucene40.values.Bytes;
-import org.apache.lucene.index.codecs.lucene40.values.Floats;
-import org.apache.lucene.index.codecs.lucene40.values.Ints;
-import org.apache.lucene.index.codecs.lucene40.values.Writer;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.util.BytesRef;
 import org.apache.lucene.util.Counter;
Index: lucene/src/test/org/apache/lucene/codecs/pulsing/Test10KPulsings.java
===================================================================
--- lucene/src/test/org/apache/lucene/codecs/pulsing/Test10KPulsings.java	(working copy)
+++ lucene/src/test/org/apache/lucene/codecs/pulsing/Test10KPulsings.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.pulsing;
+package org.apache.lucene.codecs.pulsing;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -24,6 +24,8 @@
 import java.util.Locale;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.pulsing.Pulsing40PostingsFormat;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.FieldType;
@@ -34,7 +36,6 @@
 import org.apache.lucene.index.MultiFields;
 import org.apache.lucene.index.RandomIndexWriter;
 import org.apache.lucene.index.TermsEnum;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.search.DocIdSetIterator;
 import org.apache.lucene.store.MockDirectoryWrapper;
 import org.apache.lucene.util.LuceneTestCase;
Index: lucene/src/test/org/apache/lucene/codecs/pulsing/TestPulsingReuse.java
===================================================================
--- lucene/src/test/org/apache/lucene/codecs/pulsing/TestPulsingReuse.java	(working copy)
+++ lucene/src/test/org/apache/lucene/codecs/pulsing/TestPulsingReuse.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.pulsing;
+package org.apache.lucene.codecs.pulsing;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -21,6 +21,9 @@
 import java.util.Map;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.nestedpulsing.NestedPulsingPostingsFormat;
+import org.apache.lucene.codecs.pulsing.Pulsing40PostingsFormat;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.TextField;
@@ -30,8 +33,6 @@
 import org.apache.lucene.index.IndexReader;
 import org.apache.lucene.index.RandomIndexWriter;
 import org.apache.lucene.index.TermsEnum;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.nestedpulsing.NestedPulsingPostingsFormat;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.MockDirectoryWrapper;
 import org.apache.lucene.util.LuceneTestCase;
Index: lucene/src/test/org/apache/lucene/codecs/intblock/TestIntBlockCodec.java
===================================================================
--- lucene/src/test/org/apache/lucene/codecs/intblock/TestIntBlockCodec.java	(working copy)
+++ lucene/src/test/org/apache/lucene/codecs/intblock/TestIntBlockCodec.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.intblock;
+package org.apache.lucene.codecs.intblock;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -19,8 +19,8 @@
 
 import org.apache.lucene.util.LuceneTestCase;
 import org.apache.lucene.store.*;
-import org.apache.lucene.index.codecs.sep.*;
-import org.apache.lucene.index.codecs.mockintblock.*;
+import org.apache.lucene.codecs.mockintblock.*;
+import org.apache.lucene.codecs.sep.*;
 
 public class TestIntBlockCodec extends LuceneTestCase {
 
Index: lucene/src/test/org/apache/lucene/codecs/appending/TestAppendingCodec.java
===================================================================
--- lucene/src/test/org/apache/lucene/codecs/appending/TestAppendingCodec.java	(working copy)
+++ lucene/src/test/org/apache/lucene/codecs/appending/TestAppendingCodec.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.appending;
+package org.apache.lucene.codecs.appending;
 
 /*
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -21,6 +21,7 @@
 import java.util.Random;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.appending.AppendingCodec;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.FieldType;
 import org.apache.lucene.document.TextField;
Index: lucene/src/test/org/apache/lucene/codecs/lucene3x/TestTermInfosReaderIndex.java
===================================================================
--- lucene/src/test/org/apache/lucene/codecs/lucene3x/TestTermInfosReaderIndex.java	(working copy)
+++ lucene/src/test/org/apache/lucene/codecs/lucene3x/TestTermInfosReaderIndex.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene3x;
+package org.apache.lucene.codecs.lucene3x;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -25,6 +25,12 @@
 
 import org.apache.lucene.analysis.MockAnalyzer;
 import org.apache.lucene.analysis.MockTokenizer;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.FieldInfosReader;
+import org.apache.lucene.codecs.lucene3x.Lucene3xPostingsFormat;
+import org.apache.lucene.codecs.lucene3x.SegmentTermEnum;
+import org.apache.lucene.codecs.lucene3x.TermInfosReaderIndex;
+import org.apache.lucene.codecs.preflexrw.PreFlexRWCodec;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.StringField;
 import org.apache.lucene.index.CorruptIndexException;
@@ -40,9 +46,6 @@
 import org.apache.lucene.index.Term;
 import org.apache.lucene.index.Terms;
 import org.apache.lucene.index.TermsEnum;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.FieldInfosReader;
-import org.apache.lucene.index.codecs.preflexrw.PreFlexRWCodec;
 import org.apache.lucene.search.IndexSearcher;
 import org.apache.lucene.search.TermQuery;
 import org.apache.lucene.search.TopDocs;
Index: lucene/src/test/org/apache/lucene/codecs/lucene3x/TestImpersonation.java
===================================================================
--- lucene/src/test/org/apache/lucene/codecs/lucene3x/TestImpersonation.java	(working copy)
+++ lucene/src/test/org/apache/lucene/codecs/lucene3x/TestImpersonation.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene3x;
+package org.apache.lucene.codecs.lucene3x;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -17,8 +17,8 @@
  * limitations under the License.
  */
 
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.preflexrw.PreFlexRWCodec;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.preflexrw.PreFlexRWCodec;
 import org.apache.lucene.util.LuceneTestCase;
 
 /**
Index: lucene/src/test/org/apache/lucene/codecs/lucene3x/TestSurrogates.java
===================================================================
--- lucene/src/test/org/apache/lucene/codecs/lucene3x/TestSurrogates.java	(working copy)
+++ lucene/src/test/org/apache/lucene/codecs/lucene3x/TestSurrogates.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene3x;
+package org.apache.lucene.codecs.lucene3x;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -18,10 +18,10 @@
  */
 
 import org.apache.lucene.store.*;
+import org.apache.lucene.codecs.preflexrw.PreFlexRWCodec;
 import org.apache.lucene.document.*;
 import org.apache.lucene.analysis.*;
 import org.apache.lucene.index.*;
-import org.apache.lucene.index.codecs.preflexrw.PreFlexRWCodec;
 import org.apache.lucene.util.*;
 
 import java.util.*;
Index: lucene/src/test/org/apache/lucene/codecs/perfield/TestPerFieldPostingsFormat.java
===================================================================
--- lucene/src/test/org/apache/lucene/codecs/perfield/TestPerFieldPostingsFormat.java	(working copy)
+++ lucene/src/test/org/apache/lucene/codecs/perfield/TestPerFieldPostingsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.perfield;
+package org.apache.lucene.codecs.perfield;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -19,6 +19,11 @@
 import java.io.IOException;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40Codec;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsFormat;
+import org.apache.lucene.codecs.mocksep.MockSepPostingsFormat;
+import org.apache.lucene.codecs.simpletext.SimpleTextPostingsFormat;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.FieldType;
@@ -31,11 +36,6 @@
 import org.apache.lucene.index.LogDocMergePolicy;
 import org.apache.lucene.index.Term;
 import org.apache.lucene.index.IndexWriterConfig.OpenMode;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40Codec;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsFormat;
-import org.apache.lucene.index.codecs.mocksep.MockSepPostingsFormat;
-import org.apache.lucene.index.codecs.simpletext.SimpleTextPostingsFormat;
 import org.apache.lucene.search.IndexSearcher;
 import org.apache.lucene.search.TermQuery;
 import org.apache.lucene.search.TopDocs;
Index: lucene/src/test/org/apache/lucene/search/TestSort.java
===================================================================
--- lucene/src/test/org/apache/lucene/search/TestSort.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/search/TestSort.java	(working copy)
@@ -25,6 +25,7 @@
 import java.util.concurrent.TimeUnit;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.FieldType;
@@ -41,7 +42,6 @@
 import org.apache.lucene.index.RandomIndexWriter;
 import org.apache.lucene.index.SlowMultiReaderWrapper;
 import org.apache.lucene.index.Term;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.index.DocValues;
 import org.apache.lucene.search.BooleanClause.Occur;
 import org.apache.lucene.search.FieldValueHitQueue.Entry;
Index: lucene/src/test/org/apache/lucene/search/TestDocValuesScoring.java
===================================================================
--- lucene/src/test/org/apache/lucene/search/TestDocValuesScoring.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/search/TestDocValuesScoring.java	(working copy)
@@ -19,6 +19,7 @@
 
 import java.io.IOException;
 
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.DocValuesField;
@@ -29,7 +30,6 @@
 import org.apache.lucene.index.Term;
 import org.apache.lucene.index.DocValues.Source;
 import org.apache.lucene.index.IndexReader.AtomicReaderContext;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.search.similarities.DefaultSimilarityProvider;
 import org.apache.lucene.search.similarities.Similarity;
 import org.apache.lucene.search.similarities.SimilarityProvider;
Index: lucene/src/test/org/apache/lucene/search/TestRegexpRandom2.java
===================================================================
--- lucene/src/test/org/apache/lucene/search/TestRegexpRandom2.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/search/TestRegexpRandom2.java	(working copy)
@@ -24,6 +24,7 @@
 
 import org.apache.lucene.analysis.MockAnalyzer;
 import org.apache.lucene.analysis.MockTokenizer;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.StringField;
@@ -33,7 +34,6 @@
 import org.apache.lucene.index.Term;
 import org.apache.lucene.index.Terms;
 import org.apache.lucene.index.TermsEnum;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.util.AttributeSource;
 import org.apache.lucene.util.BytesRef;
Index: lucene/src/test/org/apache/lucene/search/TestPrefixRandom.java
===================================================================
--- lucene/src/test/org/apache/lucene/search/TestPrefixRandom.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/search/TestPrefixRandom.java	(working copy)
@@ -21,6 +21,7 @@
 
 import org.apache.lucene.analysis.MockAnalyzer;
 import org.apache.lucene.analysis.MockTokenizer;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.StringField;
@@ -30,7 +31,6 @@
 import org.apache.lucene.index.Term;
 import org.apache.lucene.index.Terms;
 import org.apache.lucene.index.TermsEnum;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.util.AttributeSource;
 import org.apache.lucene.util.BytesRef;
Index: lucene/src/test/org/apache/lucene/search/similarities/TestSimilarityBase.java
===================================================================
--- lucene/src/test/org/apache/lucene/search/similarities/TestSimilarityBase.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/search/similarities/TestSimilarityBase.java	(working copy)
@@ -21,6 +21,7 @@
 import java.util.ArrayList;
 import java.util.List;
 
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.FieldType;
@@ -29,7 +30,6 @@
 import org.apache.lucene.index.OrdTermState;
 import org.apache.lucene.index.RandomIndexWriter;
 import org.apache.lucene.index.Term;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.search.CollectionStatistics;
 import org.apache.lucene.search.Explanation;
 import org.apache.lucene.search.IndexSearcher;
Index: lucene/src/test/org/apache/lucene/index/TestDoc.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestDoc.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestDoc.java	(working copy)
@@ -30,10 +30,10 @@
 import junit.textui.TestRunner;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.TextField;
 import org.apache.lucene.index.IndexWriterConfig.OpenMode;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.search.DocIdSetIterator;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
Index: lucene/src/test/org/apache/lucene/index/TestAddIndexes.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestAddIndexes.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestAddIndexes.java	(working copy)
@@ -24,6 +24,22 @@
 import java.util.List;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.DocValuesFormat;
+import org.apache.lucene.codecs.FieldInfosFormat;
+import org.apache.lucene.codecs.NormsFormat;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.SegmentInfosFormat;
+import org.apache.lucene.codecs.StoredFieldsFormat;
+import org.apache.lucene.codecs.TermVectorsFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40Codec;
+import org.apache.lucene.codecs.lucene40.Lucene40DocValuesFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40FieldInfosFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40NormsFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40SegmentInfosFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40StoredFieldsFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40TermVectorsFormat;
+import org.apache.lucene.codecs.pulsing.Pulsing40PostingsFormat;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.FieldType;
@@ -31,22 +47,6 @@
 import org.apache.lucene.document.StringField;
 import org.apache.lucene.document.TextField;
 import org.apache.lucene.index.IndexWriterConfig.OpenMode;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.DocValuesFormat;
-import org.apache.lucene.index.codecs.FieldInfosFormat;
-import org.apache.lucene.index.codecs.NormsFormat;
-import org.apache.lucene.index.codecs.StoredFieldsFormat;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.SegmentInfosFormat;
-import org.apache.lucene.index.codecs.TermVectorsFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40Codec;
-import org.apache.lucene.index.codecs.lucene40.Lucene40FieldInfosFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40DocValuesFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40NormsFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40SegmentInfosFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40StoredFieldsFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40TermVectorsFormat;
-import org.apache.lucene.index.codecs.pulsing.Pulsing40PostingsFormat;
 import org.apache.lucene.search.DocIdSetIterator;
 import org.apache.lucene.search.PhraseQuery;
 import org.apache.lucene.store.AlreadyClosedException;
Index: lucene/src/test/org/apache/lucene/index/TestBackwardsCompatibility.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestBackwardsCompatibility.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestBackwardsCompatibility.java	(working copy)
@@ -27,6 +27,8 @@
 import java.util.Random;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.FieldInfosReader;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.FieldType;
@@ -35,8 +37,6 @@
 import org.apache.lucene.document.TextField;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
 import org.apache.lucene.index.IndexWriterConfig.OpenMode;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.FieldInfosReader;
 import org.apache.lucene.search.DocIdSetIterator;
 import org.apache.lucene.search.FieldCache;
 import org.apache.lucene.search.IndexSearcher;
Index: lucene/src/test/org/apache/lucene/index/TestIndexReader.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestIndexReader.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestIndexReader.java	(working copy)
@@ -29,6 +29,7 @@
 import java.util.Set;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsFormat;
 import org.apache.lucene.document.BinaryField;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
@@ -37,7 +38,6 @@
 import org.apache.lucene.document.TextField;
 import org.apache.lucene.index.IndexReader.FieldOption;
 import org.apache.lucene.index.IndexWriterConfig.OpenMode;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsFormat;
 import org.apache.lucene.search.DocIdSetIterator;
 import org.apache.lucene.search.FieldCache;
 import org.apache.lucene.store.Directory;
Index: lucene/src/test/org/apache/lucene/index/TestTermVectorsReader.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestTermVectorsReader.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestTermVectorsReader.java	(working copy)
@@ -27,12 +27,12 @@
 import org.apache.lucene.analysis.tokenattributes.CharTermAttribute;
 import org.apache.lucene.analysis.tokenattributes.OffsetAttribute;
 import org.apache.lucene.analysis.tokenattributes.PositionIncrementAttribute;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.TermVectorsReader;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.FieldType;
 import org.apache.lucene.document.TextField;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.TermVectorsReader;
 import org.apache.lucene.search.DocIdSetIterator;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.util.BytesRef;
Index: lucene/src/test/org/apache/lucene/index/TestMultiLevelSkipList.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestMultiLevelSkipList.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestMultiLevelSkipList.java	(working copy)
@@ -23,9 +23,9 @@
 
 import org.apache.lucene.analysis.*;
 import org.apache.lucene.analysis.tokenattributes.PayloadAttribute;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsFormat;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.TextField;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsFormat;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexInput;
Index: lucene/src/test/org/apache/lucene/index/TestDuelingCodecs.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestDuelingCodecs.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestDuelingCodecs.java	(working copy)
@@ -25,9 +25,9 @@
 
 import org.apache.lucene.analysis.Analyzer;
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.index.IndexReader.FieldOption;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.search.DocIdSetIterator;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.util.Bits;
Index: lucene/src/test/org/apache/lucene/index/TestIndexFileDeleter.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestIndexFileDeleter.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestIndexFileDeleter.java	(working copy)
@@ -21,12 +21,12 @@
 import java.util.*;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.FieldInfosReader;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.StringField;
 import org.apache.lucene.document.TextField;
 import org.apache.lucene.index.IndexWriterConfig.OpenMode;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.FieldInfosReader;
 import org.apache.lucene.search.similarities.DefaultSimilarity;
 import org.apache.lucene.store.CompoundFileDirectory;
 import org.apache.lucene.store.Directory;
Index: lucene/src/test/org/apache/lucene/index/TestIndexWriterConfig.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestIndexWriterConfig.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestIndexWriterConfig.java	(working copy)
@@ -24,9 +24,9 @@
 import java.util.Set;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.index.DocumentsWriterPerThread.IndexingChain;
 import org.apache.lucene.index.IndexWriterConfig.OpenMode;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.search.IndexSearcher;
 import org.apache.lucene.search.similarities.DefaultSimilarityProvider;
 import org.apache.lucene.util.InfoStream;
Index: lucene/src/test/org/apache/lucene/index/TestFieldInfos.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestFieldInfos.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestFieldInfos.java	(working copy)
@@ -19,11 +19,11 @@
 
 import org.apache.lucene.util.LuceneTestCase;
 import org.apache.lucene.util._TestUtil;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.FieldInfosReader;
+import org.apache.lucene.codecs.FieldInfosWriter;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.FieldInfosReader;
-import org.apache.lucene.index.codecs.FieldInfosWriter;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexOutput;
Index: lucene/src/test/org/apache/lucene/index/TestDocTermOrds.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestDocTermOrds.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestDocTermOrds.java	(working copy)
@@ -24,14 +24,14 @@
 import java.util.Set;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.PostingsFormat;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.NumericField;
 import org.apache.lucene.document.StringField;
 import org.apache.lucene.document.TextField;
 import org.apache.lucene.index.DocTermOrds.TermOrdsIterator;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.PostingsFormat;
 import org.apache.lucene.search.FieldCache;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.MockDirectoryWrapper;
Index: lucene/src/test/org/apache/lucene/index/TestTermsEnum2.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestTermsEnum2.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestTermsEnum2.java	(working copy)
@@ -25,11 +25,11 @@
 
 import org.apache.lucene.analysis.MockAnalyzer;
 import org.apache.lucene.analysis.MockTokenizer;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.StringField;
 import org.apache.lucene.index.TermsEnum.SeekStatus;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.search.AutomatonQuery;
 import org.apache.lucene.search.CheckHits;
 import org.apache.lucene.search.IndexSearcher;
Index: lucene/src/test/org/apache/lucene/index/TestDocValuesIndexing.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestDocValuesIndexing.java	(working copy)
+++ lucene/src/test/org/apache/lucene/index/TestDocValuesIndexing.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.values;
+package org.apache.lucene.index;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -25,6 +25,8 @@
 import java.util.List;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.PerDocProducer;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.DocValuesField;
@@ -42,8 +44,6 @@
 import org.apache.lucene.index.Term;
 import org.apache.lucene.index.DocValues.Source;
 import org.apache.lucene.index.DocValues.Type;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.PerDocProducer;
 import org.apache.lucene.search.*;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.LockObtainFailedException;
Index: lucene/src/test/org/apache/lucene/index/Test2BTerms.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/Test2BTerms.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/Test2BTerms.java	(working copy)
@@ -22,9 +22,9 @@
 import org.apache.lucene.search.*;
 import org.apache.lucene.analysis.*;
 import org.apache.lucene.analysis.tokenattributes.*;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.document.*;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
-import org.apache.lucene.index.codecs.Codec;
 
 import java.io.IOException;
 import java.util.ArrayList;
Index: lucene/src/test/org/apache/lucene/index/codecs/lucene40/TestReuseDocsEnum.java (deleted)
===================================================================
Index: lucene/src/test/org/apache/lucene/index/codecs/pulsing/Test10KPulsings.java (deleted)
===================================================================
Index: lucene/src/test/org/apache/lucene/index/codecs/pulsing/TestPulsingReuse.java (deleted)
===================================================================
Index: lucene/src/test/org/apache/lucene/index/codecs/appending/TestAppendingCodec.java (deleted)
===================================================================
Index: lucene/src/test/org/apache/lucene/index/codecs/intblock/TestIntBlockCodec.java (deleted)
===================================================================
Index: lucene/src/test/org/apache/lucene/index/codecs/lucene3x/TestTermInfosReaderIndex.java (deleted)
===================================================================
Index: lucene/src/test/org/apache/lucene/index/codecs/lucene3x/TestImpersonation.java (deleted)
===================================================================
Index: lucene/src/test/org/apache/lucene/index/codecs/lucene3x/TestSurrogates.java (deleted)
===================================================================
Index: lucene/src/test/org/apache/lucene/index/codecs/perfield/TestPerFieldPostingsFormat.java (deleted)
===================================================================
Index: lucene/src/test/org/apache/lucene/index/TestSegmentTermEnum.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestSegmentTermEnum.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestSegmentTermEnum.java	(working copy)
@@ -23,10 +23,10 @@
 import org.apache.lucene.util.BytesRef;
 import org.apache.lucene.util._TestUtil;
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsFormat;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.TextField;
 import org.apache.lucene.index.IndexWriterConfig.OpenMode;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsFormat;
 import org.apache.lucene.store.Directory;
 
 
Index: lucene/src/test/org/apache/lucene/index/TestFlex.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestFlex.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestFlex.java	(working copy)
@@ -19,8 +19,8 @@
 
 import org.apache.lucene.store.*;
 import org.apache.lucene.analysis.*;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsFormat;
 import org.apache.lucene.document.*;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsFormat;
 import org.apache.lucene.util.*;
 
 public class TestFlex extends LuceneTestCase {
Index: lucene/src/test/org/apache/lucene/index/values/TestDocValues.java (deleted)
===================================================================
Index: lucene/src/test/org/apache/lucene/index/values/TestTypePromotion.java (deleted)
===================================================================
Index: lucene/src/test/org/apache/lucene/index/values/TestDocValuesIndexing.java (deleted)
===================================================================
Index: lucene/src/test/org/apache/lucene/index/TestIndexWriterReader.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestIndexWriterReader.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestIndexWriterReader.java	(working copy)
@@ -24,11 +24,11 @@
 import java.util.concurrent.atomic.AtomicBoolean;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.StringField;
 import org.apache.lucene.document.TextField;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.search.TermQuery;
 import org.apache.lucene.search.IndexSearcher;
 import org.apache.lucene.search.Query;
Index: lucene/src/test/org/apache/lucene/index/TestRollingUpdates.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestRollingUpdates.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestRollingUpdates.java	(working copy)
@@ -18,9 +18,9 @@
  */
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.memory.MemoryPostingsFormat;
 import org.apache.lucene.document.*;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.memory.MemoryPostingsFormat;
 import org.apache.lucene.store.*;
 import org.apache.lucene.util.*;
 import org.junit.Test;
Index: lucene/src/test/org/apache/lucene/index/TestBinaryTerms.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestBinaryTerms.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestBinaryTerms.java	(working copy)
@@ -19,11 +19,11 @@
 
 import java.io.IOException;
 
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.FieldType;
 import org.apache.lucene.document.TextField;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.search.IndexSearcher;
 import org.apache.lucene.search.TermQuery;
 import org.apache.lucene.search.TopDocs;
Index: lucene/src/test/org/apache/lucene/index/TestSegmentMerger.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestSegmentMerger.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestSegmentMerger.java	(working copy)
@@ -21,10 +21,10 @@
 import java.util.Collection;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.TextField;
 import org.apache.lucene.index.IndexWriterConfig.OpenMode;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.util.BytesRef;
 import org.apache.lucene.util.InfoStream;
Index: lucene/src/test/org/apache/lucene/index/TestDocCount.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestDocCount.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestDocCount.java	(working copy)
@@ -17,9 +17,9 @@
  * limitations under the License.
  */
 
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.StringField;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.search.DocIdSetIterator;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.util.FixedBitSet;
Index: lucene/src/test/org/apache/lucene/index/TestTypePromotion.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestTypePromotion.java	(working copy)
+++ lucene/src/test/org/apache/lucene/index/TestTypePromotion.java	(working copy)
@@ -1,10 +1,12 @@
-package org.apache.lucene.index.values;
+package org.apache.lucene.index;
 
 import java.io.IOException;
 import java.util.EnumSet;
 import java.util.Random;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.lucene40.values.BytesRefUtils;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.DocValuesField;
@@ -19,8 +21,6 @@
 import org.apache.lucene.index.IndexWriterConfig;
 import org.apache.lucene.index.NoMergePolicy;
 import org.apache.lucene.index.SlowMultiReaderWrapper;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.lucene40.values.BytesRefUtils;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.util.BytesRef;
 import org.apache.lucene.util.LuceneTestCase;
Index: lucene/src/test/org/apache/lucene/index/TestIndexWriter.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestIndexWriter.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestIndexWriter.java	(working copy)
@@ -35,6 +35,8 @@
 import org.apache.lucene.analysis.*;
 import org.apache.lucene.analysis.tokenattributes.CharTermAttribute;
 import org.apache.lucene.analysis.tokenattributes.PositionIncrementAttribute;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.simpletext.SimpleTextCodec;
 import org.apache.lucene.document.BinaryField;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
@@ -42,8 +44,6 @@
 import org.apache.lucene.document.StringField;
 import org.apache.lucene.document.TextField;
 import org.apache.lucene.index.IndexWriterConfig.OpenMode;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.simpletext.SimpleTextCodec;
 import org.apache.lucene.search.DocIdSetIterator;
 import org.apache.lucene.search.FieldCache;
 import org.apache.lucene.search.IndexSearcher;
Index: lucene/src/test/org/apache/lucene/index/TestCodecs.java
===================================================================
--- lucene/src/test/org/apache/lucene/index/TestCodecs.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/index/TestCodecs.java	(working copy)
@@ -22,18 +22,18 @@
 import java.util.HashSet;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.FieldsProducer;
+import org.apache.lucene.codecs.PostingsConsumer;
+import org.apache.lucene.codecs.TermStats;
+import org.apache.lucene.codecs.TermsConsumer;
+import org.apache.lucene.codecs.lucene3x.Lucene3xCodec;
+import org.apache.lucene.codecs.mocksep.MockSepPostingsFormat;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
 import org.apache.lucene.document.FieldType;
 import org.apache.lucene.document.TextField;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.FieldsProducer;
-import org.apache.lucene.index.codecs.PostingsConsumer;
-import org.apache.lucene.index.codecs.TermStats;
-import org.apache.lucene.index.codecs.TermsConsumer;
-import org.apache.lucene.index.codecs.lucene3x.Lucene3xCodec;
-import org.apache.lucene.index.codecs.mocksep.MockSepPostingsFormat;
 import org.apache.lucene.search.DocIdSetIterator;
 import org.apache.lucene.search.IndexSearcher;
 import org.apache.lucene.search.PhraseQuery;
Index: lucene/src/test/org/apache/lucene/util/TestNamedSPILoader.java
===================================================================
--- lucene/src/test/org/apache/lucene/util/TestNamedSPILoader.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/util/TestNamedSPILoader.java	(working copy)
@@ -2,7 +2,7 @@
 
 import java.util.Set;
 
-import org.apache.lucene.index.codecs.Codec;
+import org.apache.lucene.codecs.Codec;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/test/org/apache/lucene/util/fst/TestFSTs.java
===================================================================
--- lucene/src/test/org/apache/lucene/util/fst/TestFSTs.java	(revision 1215093)
+++ lucene/src/test/org/apache/lucene/util/fst/TestFSTs.java	(working copy)
@@ -29,6 +29,8 @@
 import java.util.*;
 
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsFormat;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.StringField;
@@ -40,8 +42,6 @@
 import org.apache.lucene.index.Term;
 import org.apache.lucene.index.Terms;
 import org.apache.lucene.index.TermsEnum;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsFormat;
 import org.apache.lucene.search.IndexSearcher;
 import org.apache.lucene.search.TermQuery;
 import org.apache.lucene.store.Directory;
Index: lucene/src/java/org/apache/lucene/codecs/MappingMultiDocsAndPositionsEnum.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/MappingMultiDocsAndPositionsEnum.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/MappingMultiDocsAndPositionsEnum.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40TermVectorsReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40TermVectorsReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40TermVectorsReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -25,6 +25,7 @@
 import java.util.Set;
 
 import org.apache.lucene.analysis.tokenattributes.OffsetAttribute;
+import org.apache.lucene.codecs.TermVectorsReader;
 import org.apache.lucene.index.CorruptIndexException;
 import org.apache.lucene.index.DocsAndPositionsEnum;
 import org.apache.lucene.index.DocsEnum;
@@ -38,7 +39,6 @@
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.Terms;
 import org.apache.lucene.index.TermsEnum;
-import org.apache.lucene.index.codecs.TermVectorsReader;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexInput;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40PostingsWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40PostingsWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40PostingsWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -24,14 +24,14 @@
 import java.util.ArrayList;
 import java.util.List;
 
+import org.apache.lucene.codecs.PostingsWriterBase;
+import org.apache.lucene.codecs.TermStats;
 import org.apache.lucene.index.CorruptIndexException;
 import org.apache.lucene.index.DocsEnum;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.SegmentWriteState;
-import org.apache.lucene.index.codecs.PostingsWriterBase;
-import org.apache.lucene.index.codecs.TermStats;
 import org.apache.lucene.store.IndexOutput;
 import org.apache.lucene.store.RAMOutputStream;
 import org.apache.lucene.util.BytesRef;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40NormsFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40NormsFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40NormsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,12 +20,12 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.NormsFormat;
+import org.apache.lucene.codecs.NormsReader;
+import org.apache.lucene.codecs.NormsWriter;
 import org.apache.lucene.index.FieldInfos;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentWriteState;
-import org.apache.lucene.index.codecs.NormsFormat;
-import org.apache.lucene.index.codecs.NormsReader;
-import org.apache.lucene.index.codecs.NormsWriter;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40TermVectorsWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40TermVectorsWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40TermVectorsWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -19,14 +19,14 @@
 
 import java.io.IOException;
 
+import org.apache.lucene.codecs.TermVectorsReader;
+import org.apache.lucene.codecs.TermVectorsWriter;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.Fields;
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.MergePolicy.MergeAbortedException;
 import org.apache.lucene.index.MergeState;
 import org.apache.lucene.index.SegmentReader;
-import org.apache.lucene.index.codecs.TermVectorsReader;
-import org.apache.lucene.index.codecs.TermVectorsWriter;
 import org.apache.lucene.store.DataInput;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40Codec.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40Codec.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40Codec.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -17,15 +17,15 @@
  * limitations under the License.
  */
 
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.DocValuesFormat;
-import org.apache.lucene.index.codecs.FieldInfosFormat;
-import org.apache.lucene.index.codecs.NormsFormat;
-import org.apache.lucene.index.codecs.StoredFieldsFormat;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.SegmentInfosFormat;
-import org.apache.lucene.index.codecs.TermVectorsFormat;
-import org.apache.lucene.index.codecs.perfield.PerFieldPostingsFormat;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.DocValuesFormat;
+import org.apache.lucene.codecs.FieldInfosFormat;
+import org.apache.lucene.codecs.NormsFormat;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.SegmentInfosFormat;
+import org.apache.lucene.codecs.StoredFieldsFormat;
+import org.apache.lucene.codecs.TermVectorsFormat;
+import org.apache.lucene.codecs.perfield.PerFieldPostingsFormat;
 
 /**
  * Implements the Lucene 4.0 index format, with configurable per-field postings formats.
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40NormsReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40NormsReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40NormsReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -24,11 +24,11 @@
 import java.util.Set;
 import java.util.Map.Entry;
 
+import org.apache.lucene.codecs.NormsReader;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.FieldInfos;
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.SegmentInfo;
-import org.apache.lucene.index.codecs.NormsReader;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexInput;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40SkipListReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40SkipListReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40SkipListReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,7 +20,7 @@
 import java.io.IOException;
 import java.util.Arrays;
 
-import org.apache.lucene.index.codecs.MultiLevelSkipListReader;
+import org.apache.lucene.codecs.MultiLevelSkipListReader;
 import org.apache.lucene.store.IndexInput;
 
 /**
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40DocValuesProducer.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40DocValuesProducer.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40DocValuesProducer.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -24,10 +24,10 @@
 import java.util.Map;
 import java.util.TreeMap;
 
+import org.apache.lucene.codecs.DocValuesReaderBase;
 import org.apache.lucene.index.DocValues;
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.SegmentReadState;
-import org.apache.lucene.index.codecs.DocValuesReaderBase;
 import org.apache.lucene.store.CompoundFileDirectory;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.util.IOUtils;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40FieldInfosFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40FieldInfosFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40FieldInfosFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,10 +20,10 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.FieldInfosFormat;
+import org.apache.lucene.codecs.FieldInfosReader;
+import org.apache.lucene.codecs.FieldInfosWriter;
 import org.apache.lucene.index.SegmentInfo;
-import org.apache.lucene.index.codecs.FieldInfosFormat;
-import org.apache.lucene.index.codecs.FieldInfosReader;
-import org.apache.lucene.index.codecs.FieldInfosWriter;
 import org.apache.lucene.store.Directory;
 
 /**
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40NormsWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40NormsWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40NormsWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,10 +20,10 @@
 import java.io.IOException;
 import java.util.Arrays;
 
+import org.apache.lucene.codecs.NormsWriter;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.MergeState;
-import org.apache.lucene.index.codecs.NormsWriter;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexOutput;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40DocValuesFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40DocValuesFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40DocValuesFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,12 +20,12 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.DocValuesFormat;
+import org.apache.lucene.codecs.PerDocConsumer;
+import org.apache.lucene.codecs.PerDocProducer;
 import org.apache.lucene.index.PerDocWriteState;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentReadState;
-import org.apache.lucene.index.codecs.DocValuesFormat;
-import org.apache.lucene.index.codecs.PerDocConsumer;
-import org.apache.lucene.index.codecs.PerDocProducer;
 import org.apache.lucene.store.Directory;
 
 public class Lucene40DocValuesFormat extends DocValuesFormat {
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40SkipListWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40SkipListWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40SkipListWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -21,7 +21,7 @@
 import java.util.Arrays;
 
 import org.apache.lucene.store.IndexOutput;
-import org.apache.lucene.index.codecs.MultiLevelSkipListWriter;
+import org.apache.lucene.codecs.MultiLevelSkipListWriter;
 
 
 /**
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40StoredFieldsFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40StoredFieldsFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40StoredFieldsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,11 +20,11 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.StoredFieldsFormat;
+import org.apache.lucene.codecs.StoredFieldsReader;
+import org.apache.lucene.codecs.StoredFieldsWriter;
 import org.apache.lucene.index.FieldInfos;
 import org.apache.lucene.index.SegmentInfo;
-import org.apache.lucene.index.codecs.StoredFieldsFormat;
-import org.apache.lucene.index.codecs.StoredFieldsReader;
-import org.apache.lucene.index.codecs.StoredFieldsWriter;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40DocValuesConsumer.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40DocValuesConsumer.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40DocValuesConsumer.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,12 +20,12 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.DocValuesWriterBase;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.FieldInfos;
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.PerDocWriteState;
 import org.apache.lucene.index.SegmentInfo;
-import org.apache.lucene.index.codecs.DocValuesWriterBase;
 import org.apache.lucene.store.CompoundFileDirectory;
 import org.apache.lucene.store.Directory;
 
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40FieldInfosReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40FieldInfosReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40FieldInfosReader.java	(working copy)
@@ -1,8 +1,9 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.FieldInfosReader;
 import org.apache.lucene.index.CorruptIndexException;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.FieldInfos;
@@ -11,7 +12,6 @@
 import org.apache.lucene.index.IndexFormatTooOldException;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
-import org.apache.lucene.index.codecs.FieldInfosReader;
 import org.apache.lucene.index.DocValues;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40SegmentInfosFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40SegmentInfosFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40SegmentInfosFormat.java	(working copy)
@@ -1,8 +1,8 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
-import org.apache.lucene.index.codecs.SegmentInfosFormat;
-import org.apache.lucene.index.codecs.SegmentInfosReader;
-import org.apache.lucene.index.codecs.SegmentInfosWriter;
+import org.apache.lucene.codecs.SegmentInfosFormat;
+import org.apache.lucene.codecs.SegmentInfosReader;
+import org.apache.lucene.codecs.SegmentInfosWriter;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40StoredFieldsReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40StoredFieldsReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40StoredFieldsReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -19,6 +19,7 @@
 
 import java.io.IOException;
 
+import org.apache.lucene.codecs.StoredFieldsReader;
 import org.apache.lucene.index.CorruptIndexException;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.FieldInfos;
@@ -27,7 +28,6 @@
 import org.apache.lucene.index.IndexFormatTooOldException;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.StoredFieldVisitor;
-import org.apache.lucene.index.codecs.StoredFieldsReader;
 import org.apache.lucene.store.AlreadyClosedException;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40PostingsBaseFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40PostingsBaseFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40PostingsBaseFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,12 +20,12 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.PostingsBaseFormat;
+import org.apache.lucene.codecs.PostingsReaderBase;
+import org.apache.lucene.codecs.PostingsWriterBase;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentReadState;
 import org.apache.lucene.index.SegmentWriteState;
-import org.apache.lucene.index.codecs.PostingsBaseFormat;
-import org.apache.lucene.index.codecs.PostingsReaderBase;
-import org.apache.lucene.index.codecs.PostingsWriterBase;
 import org.apache.lucene.store.Directory;
 
 /** 
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40PostingsFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40PostingsFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40PostingsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,16 +20,16 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.BlockTreeTermsReader;
+import org.apache.lucene.codecs.BlockTreeTermsWriter;
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.FieldsProducer;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.PostingsReaderBase;
+import org.apache.lucene.codecs.PostingsWriterBase;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentReadState;
 import org.apache.lucene.index.SegmentWriteState;
-import org.apache.lucene.index.codecs.PostingsReaderBase;
-import org.apache.lucene.index.codecs.PostingsWriterBase;
-import org.apache.lucene.index.codecs.BlockTreeTermsReader;
-import org.apache.lucene.index.codecs.BlockTreeTermsWriter;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.FieldsProducer;
 import org.apache.lucene.store.Directory;
 
 /** Default codec. 
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/values/VarSortedBytesImpl.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/values/VarSortedBytesImpl.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/values/VarSortedBytesImpl.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40.values;
+package org.apache.lucene.codecs.lucene40.values;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -21,6 +21,9 @@
 import java.util.Comparator;
 import java.util.List;
 
+import org.apache.lucene.codecs.lucene40.values.Bytes.BytesReaderBase;
+import org.apache.lucene.codecs.lucene40.values.Bytes.BytesSortedSourceBase;
+import org.apache.lucene.codecs.lucene40.values.Bytes.DerefBytesWriterBase;
 import org.apache.lucene.index.DocValues;
 import org.apache.lucene.index.SortedBytesMergeUtils;
 import org.apache.lucene.index.DocValues.SortedSource;
@@ -28,9 +31,6 @@
 import org.apache.lucene.index.SortedBytesMergeUtils.MergeContext;
 import org.apache.lucene.index.SortedBytesMergeUtils.SortedSourceSlice;
 import org.apache.lucene.index.MergeState;
-import org.apache.lucene.index.codecs.lucene40.values.Bytes.BytesReaderBase;
-import org.apache.lucene.index.codecs.lucene40.values.Bytes.BytesSortedSourceBase;
-import org.apache.lucene.index.codecs.lucene40.values.Bytes.DerefBytesWriterBase;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexInput;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/values/BytesRefUtils.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/values/BytesRefUtils.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/values/BytesRefUtils.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40.values;
+package org.apache.lucene.codecs.lucene40.values;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/values/FixedSortedBytesImpl.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/values/FixedSortedBytesImpl.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/values/FixedSortedBytesImpl.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40.values;
+package org.apache.lucene.codecs.lucene40.values;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -21,6 +21,9 @@
 import java.util.Comparator;
 import java.util.List;
 
+import org.apache.lucene.codecs.lucene40.values.Bytes.BytesReaderBase;
+import org.apache.lucene.codecs.lucene40.values.Bytes.BytesSortedSourceBase;
+import org.apache.lucene.codecs.lucene40.values.Bytes.DerefBytesWriterBase;
 import org.apache.lucene.index.DocValues;
 import org.apache.lucene.index.SortedBytesMergeUtils;
 import org.apache.lucene.index.DocValues.SortedSource;
@@ -28,9 +31,6 @@
 import org.apache.lucene.index.SortedBytesMergeUtils.MergeContext;
 import org.apache.lucene.index.SortedBytesMergeUtils.SortedSourceSlice;
 import org.apache.lucene.index.MergeState;
-import org.apache.lucene.index.codecs.lucene40.values.Bytes.BytesReaderBase;
-import org.apache.lucene.index.codecs.lucene40.values.Bytes.BytesSortedSourceBase;
-import org.apache.lucene.index.codecs.lucene40.values.Bytes.DerefBytesWriterBase;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexInput;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/values/Writer.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/values/Writer.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/values/Writer.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40.values;
+package org.apache.lucene.codecs.lucene40.values;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -19,9 +19,9 @@
 import java.io.IOException;
 import java.util.Comparator;
 
+import org.apache.lucene.codecs.DocValuesConsumer;
 import org.apache.lucene.index.DocValues.Source;
 import org.apache.lucene.index.DocValues.Type;
-import org.apache.lucene.index.codecs.DocValuesConsumer;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.util.Bits;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/values/Ints.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/values/Ints.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/values/Ints.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40.values;
+package org.apache.lucene.codecs.lucene40.values;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/values/PackedIntValues.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/values/PackedIntValues.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/values/PackedIntValues.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40.values;
+package org.apache.lucene.codecs.lucene40.values;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -18,13 +18,13 @@
  */
 import java.io.IOException;
 
+import org.apache.lucene.codecs.lucene40.values.DocValuesArray.LongValues;
+import org.apache.lucene.codecs.lucene40.values.FixedStraightBytesImpl.FixedBytesWriterBase;
 import org.apache.lucene.index.DocValues;
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.DocValue;
 import org.apache.lucene.index.DocValues.Source;
 import org.apache.lucene.index.DocValues.Type;
-import org.apache.lucene.index.codecs.lucene40.values.FixedStraightBytesImpl.FixedBytesWriterBase;
-import org.apache.lucene.index.codecs.lucene40.values.DocValuesArray.LongValues;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexInput;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/values/DocValuesArray.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/values/DocValuesArray.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/values/DocValuesArray.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40.values;
+package org.apache.lucene.codecs.lucene40.values;
 
 import java.io.IOException;
 import java.util.Collections;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/values/Bytes.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/values/Bytes.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/values/Bytes.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40.values;
+package org.apache.lucene.codecs.lucene40.values;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/values/VarDerefBytesImpl.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/values/VarDerefBytesImpl.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/values/VarDerefBytesImpl.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40.values;
+package org.apache.lucene.codecs.lucene40.values;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -19,9 +19,9 @@
 
 import java.io.IOException;
 
-import org.apache.lucene.index.codecs.lucene40.values.Bytes.BytesReaderBase;
-import org.apache.lucene.index.codecs.lucene40.values.Bytes.BytesSourceBase;
-import org.apache.lucene.index.codecs.lucene40.values.Bytes.DerefBytesWriterBase;
+import org.apache.lucene.codecs.lucene40.values.Bytes.BytesReaderBase;
+import org.apache.lucene.codecs.lucene40.values.Bytes.BytesSourceBase;
+import org.apache.lucene.codecs.lucene40.values.Bytes.DerefBytesWriterBase;
 import org.apache.lucene.index.DocValues.Type;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/values/VarStraightBytesImpl.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/values/VarStraightBytesImpl.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/values/VarStraightBytesImpl.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40.values;
+package org.apache.lucene.codecs.lucene40.values;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -19,9 +19,9 @@
 
 import java.io.IOException;
 
-import org.apache.lucene.index.codecs.lucene40.values.Bytes.BytesReaderBase;
-import org.apache.lucene.index.codecs.lucene40.values.Bytes.BytesSourceBase;
-import org.apache.lucene.index.codecs.lucene40.values.Bytes.BytesWriterBase;
+import org.apache.lucene.codecs.lucene40.values.Bytes.BytesReaderBase;
+import org.apache.lucene.codecs.lucene40.values.Bytes.BytesSourceBase;
+import org.apache.lucene.codecs.lucene40.values.Bytes.BytesWriterBase;
 import org.apache.lucene.index.DocValues.Type;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/values/Floats.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/values/Floats.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/values/Floats.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40.values;
+package org.apache.lucene.codecs.lucene40.values;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/values/DirectSource.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/values/DirectSource.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/values/DirectSource.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40.values;
+package org.apache.lucene.codecs.lucene40.values;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/values/FixedStraightBytesImpl.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/values/FixedStraightBytesImpl.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/values/FixedStraightBytesImpl.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40.values;
+package org.apache.lucene.codecs.lucene40.values;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -21,12 +21,12 @@
 
 import java.io.IOException;
 
+import org.apache.lucene.codecs.lucene40.values.Bytes.BytesReaderBase;
+import org.apache.lucene.codecs.lucene40.values.Bytes.BytesSourceBase;
+import org.apache.lucene.codecs.lucene40.values.Bytes.BytesWriterBase;
 import org.apache.lucene.index.DocValues;
 import org.apache.lucene.index.DocValues.Source;
 import org.apache.lucene.index.DocValues.Type;
-import org.apache.lucene.index.codecs.lucene40.values.Bytes.BytesReaderBase;
-import org.apache.lucene.index.codecs.lucene40.values.Bytes.BytesSourceBase;
-import org.apache.lucene.index.codecs.lucene40.values.Bytes.BytesWriterBase;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexInput;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/values/FixedDerefBytesImpl.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/values/FixedDerefBytesImpl.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/values/FixedDerefBytesImpl.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40.values;
+package org.apache.lucene.codecs.lucene40.values;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -19,9 +19,9 @@
 
 import java.io.IOException;
 
-import org.apache.lucene.index.codecs.lucene40.values.Bytes.BytesReaderBase;
-import org.apache.lucene.index.codecs.lucene40.values.Bytes.BytesSourceBase;
-import org.apache.lucene.index.codecs.lucene40.values.Bytes.DerefBytesWriterBase;
+import org.apache.lucene.codecs.lucene40.values.Bytes.BytesReaderBase;
+import org.apache.lucene.codecs.lucene40.values.Bytes.BytesSourceBase;
+import org.apache.lucene.codecs.lucene40.values.Bytes.DerefBytesWriterBase;
 import org.apache.lucene.index.DocValues.Type;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40FieldInfosWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40FieldInfosWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40FieldInfosWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -18,11 +18,11 @@
  */
 import java.io.IOException;
 
+import org.apache.lucene.codecs.FieldInfosWriter;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.FieldInfos;
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
-import org.apache.lucene.index.codecs.FieldInfosWriter;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexOutput;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40SegmentInfosReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40SegmentInfosReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40SegmentInfosReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -21,13 +21,13 @@
 import java.util.HashMap;
 import java.util.Map;
 
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.SegmentInfosReader;
+import org.apache.lucene.codecs.lucene40.Lucene40TermVectorsReader;
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.IndexFormatTooOldException;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentInfos;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.SegmentInfosReader;
-import org.apache.lucene.index.codecs.lucene40.Lucene40TermVectorsReader;
 import org.apache.lucene.store.ChecksumIndexInput;
 import org.apache.lucene.store.CompoundFileDirectory;
 import org.apache.lucene.store.Directory;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40StoredFieldsWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40StoredFieldsWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40StoredFieldsWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Copyright 2004 The Apache Software Foundation
@@ -18,6 +18,8 @@
 
 import java.io.IOException;
 
+import org.apache.lucene.codecs.StoredFieldsReader;
+import org.apache.lucene.codecs.StoredFieldsWriter;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.index.CorruptIndexException;
 import org.apache.lucene.index.FieldInfo;
@@ -26,8 +28,6 @@
 import org.apache.lucene.index.MergeState;
 import org.apache.lucene.index.SegmentReader;
 import org.apache.lucene.index.MergePolicy.MergeAbortedException;
-import org.apache.lucene.index.codecs.StoredFieldsReader;
-import org.apache.lucene.index.codecs.StoredFieldsWriter;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexInput;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40TermVectorsFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40TermVectorsFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40TermVectorsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,11 +20,11 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.TermVectorsFormat;
+import org.apache.lucene.codecs.TermVectorsReader;
+import org.apache.lucene.codecs.TermVectorsWriter;
 import org.apache.lucene.index.FieldInfos;
 import org.apache.lucene.index.SegmentInfo;
-import org.apache.lucene.index.codecs.TermVectorsFormat;
-import org.apache.lucene.index.codecs.TermVectorsReader;
-import org.apache.lucene.index.codecs.TermVectorsWriter;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40PostingsReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40PostingsReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40PostingsReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,6 +20,8 @@
 import java.io.IOException;
 import java.util.Collection;
 
+import org.apache.lucene.codecs.BlockTermState;
+import org.apache.lucene.codecs.PostingsReaderBase;
 import org.apache.lucene.index.DocsAndPositionsEnum;
 import org.apache.lucene.index.DocsEnum;
 import org.apache.lucene.index.FieldInfo;
@@ -27,8 +29,6 @@
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.TermState;
-import org.apache.lucene.index.codecs.PostingsReaderBase;
-import org.apache.lucene.index.codecs.BlockTermState;
 import org.apache.lucene.store.ByteArrayDataInput;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
Index: lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40SegmentInfosWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40SegmentInfosWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene40/Lucene40SegmentInfosWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40;
+package org.apache.lucene.codecs.lucene40;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -21,9 +21,9 @@
 import java.util.Map;
 import java.util.Map.Entry;
 
+import org.apache.lucene.codecs.SegmentInfosWriter;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentInfos;
-import org.apache.lucene.index.codecs.SegmentInfosWriter;
 import org.apache.lucene.store.ChecksumIndexOutput;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.FlushInfo;
Index: lucene/src/java/org/apache/lucene/codecs/DocValuesConsumer.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/DocValuesConsumer.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/DocValuesConsumer.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/DocValuesReaderBase.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/DocValuesReaderBase.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/DocValuesReaderBase.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -24,13 +24,13 @@
 import java.util.Map;
 import java.util.TreeMap;
 
+import org.apache.lucene.codecs.lucene40.values.Bytes;
+import org.apache.lucene.codecs.lucene40.values.Floats;
+import org.apache.lucene.codecs.lucene40.values.Ints;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.FieldInfos;
 import org.apache.lucene.index.DocValues;
 import org.apache.lucene.index.DocValues.Type; // javadocs
-import org.apache.lucene.index.codecs.lucene40.values.Bytes;
-import org.apache.lucene.index.codecs.lucene40.values.Floats;
-import org.apache.lucene.index.codecs.lucene40.values.Ints;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.util.BytesRef;
Index: lucene/src/java/org/apache/lucene/codecs/MappingMultiDocsEnum.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/MappingMultiDocsEnum.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/MappingMultiDocsEnum.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/DocValuesWriterBase.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/DocValuesWriterBase.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/DocValuesWriterBase.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,9 +20,9 @@
 import java.io.IOException;
 import java.util.Comparator;
 
+import org.apache.lucene.codecs.lucene40.values.Writer;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.PerDocWriteState;
-import org.apache.lucene.index.codecs.lucene40.values.Writer;
 import org.apache.lucene.index.DocValues;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
Index: lucene/src/java/org/apache/lucene/codecs/FieldsConsumer.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/FieldsConsumer.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/FieldsConsumer.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/PostingsReaderBase.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/PostingsReaderBase.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/PostingsReaderBase.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/memory/MemoryPostingsFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/memory/MemoryPostingsFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/memory/MemoryPostingsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.memory;
+package org.apache.lucene.codecs.memory;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -24,6 +24,12 @@
 import java.util.SortedMap;
 import java.util.TreeMap;
 
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.FieldsProducer;
+import org.apache.lucene.codecs.PostingsConsumer;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.TermStats;
+import org.apache.lucene.codecs.TermsConsumer;
 import org.apache.lucene.index.DocsAndPositionsEnum;
 import org.apache.lucene.index.DocsEnum;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
@@ -36,12 +42,6 @@
 import org.apache.lucene.index.SegmentWriteState;
 import org.apache.lucene.index.Terms;
 import org.apache.lucene.index.TermsEnum;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.FieldsProducer;
-import org.apache.lucene.index.codecs.PostingsConsumer;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.TermStats;
-import org.apache.lucene.index.codecs.TermsConsumer;
 import org.apache.lucene.store.ByteArrayDataInput;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
Index: lucene/src/java/org/apache/lucene/codecs/PostingsWriterBase.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/PostingsWriterBase.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/PostingsWriterBase.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/TermsIndexReaderBase.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/TermsIndexReaderBase.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/TermsIndexReaderBase.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/VariableGapTermsIndexReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/VariableGapTermsIndexReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/VariableGapTermsIndexReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/TermsConsumer.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/TermsConsumer.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/TermsConsumer.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/lucene3x/TermBuffer.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene3x/TermBuffer.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene3x/TermBuffer.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene3x;
+package org.apache.lucene.codecs.lucene3x;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/lucene3x/SegmentTermPositions.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene3x/SegmentTermPositions.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene3x/SegmentTermPositions.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene3x;
+package org.apache.lucene.codecs.lucene3x;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/lucene3x/SegmentTermDocs.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene3x/SegmentTermDocs.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene3x/SegmentTermDocs.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene3x;
+package org.apache.lucene.codecs.lucene3x;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -19,11 +19,11 @@
 
 import java.io.IOException;
 
+import org.apache.lucene.codecs.lucene40.Lucene40SkipListReader;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
 import org.apache.lucene.index.FieldInfos;
 import org.apache.lucene.index.Term;
-import org.apache.lucene.index.codecs.lucene40.Lucene40SkipListReader;
 import org.apache.lucene.store.IndexInput;
 import org.apache.lucene.util.Bits;
 
Index: lucene/src/java/org/apache/lucene/codecs/lucene3x/Lucene3xFields.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene3x/Lucene3xFields.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene3x/Lucene3xFields.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene3x;
+package org.apache.lucene.codecs.lucene3x;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -25,6 +25,7 @@
 import java.util.Map;
 import java.util.TreeMap;
 
+import org.apache.lucene.codecs.FieldsProducer;
 import org.apache.lucene.index.DocsAndPositionsEnum;
 import org.apache.lucene.index.DocsEnum;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
@@ -36,7 +37,6 @@
 import org.apache.lucene.index.Term;
 import org.apache.lucene.index.Terms;
 import org.apache.lucene.index.TermsEnum;
-import org.apache.lucene.index.codecs.FieldsProducer;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexInput;
Index: lucene/src/java/org/apache/lucene/codecs/lucene3x/SegmentTermEnum.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene3x/SegmentTermEnum.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene3x/SegmentTermEnum.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene3x;
+package org.apache.lucene.codecs.lucene3x;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/lucene3x/TermInfosReaderIndex.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene3x/TermInfosReaderIndex.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene3x/TermInfosReaderIndex.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene3x;
+package org.apache.lucene.codecs.lucene3x;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/lucene3x/TermInfo.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene3x/TermInfo.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene3x/TermInfo.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene3x;
+package org.apache.lucene.codecs.lucene3x;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/lucene3x/Lucene3xCodec.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene3x/Lucene3xCodec.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene3x/Lucene3xCodec.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene3x;
+package org.apache.lucene.codecs.lucene3x;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,24 +20,24 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.DocValuesFormat;
+import org.apache.lucene.codecs.FieldInfosFormat;
+import org.apache.lucene.codecs.NormsFormat;
+import org.apache.lucene.codecs.PerDocConsumer;
+import org.apache.lucene.codecs.PerDocProducer;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.SegmentInfosFormat;
+import org.apache.lucene.codecs.StoredFieldsFormat;
+import org.apache.lucene.codecs.TermVectorsFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40FieldInfosFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40NormsFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40SegmentInfosFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40StoredFieldsFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40TermVectorsFormat;
 import org.apache.lucene.index.PerDocWriteState;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentReadState;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.DocValuesFormat;
-import org.apache.lucene.index.codecs.FieldInfosFormat;
-import org.apache.lucene.index.codecs.NormsFormat;
-import org.apache.lucene.index.codecs.PerDocProducer;
-import org.apache.lucene.index.codecs.StoredFieldsFormat;
-import org.apache.lucene.index.codecs.PerDocConsumer;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.SegmentInfosFormat;
-import org.apache.lucene.index.codecs.TermVectorsFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40FieldInfosFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40NormsFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40SegmentInfosFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40StoredFieldsFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40TermVectorsFormat;
 import org.apache.lucene.store.Directory;
 
 /**
Index: lucene/src/java/org/apache/lucene/codecs/lucene3x/Lucene3xPostingsFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene3x/Lucene3xPostingsFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene3x/Lucene3xPostingsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene3x;
+package org.apache.lucene.codecs.lucene3x;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -21,12 +21,12 @@
 import java.io.IOException;
 
 import org.apache.lucene.store.Directory;
-import org.apache.lucene.index.codecs.PostingsFormat;
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.FieldsProducer;
+import org.apache.lucene.codecs.PostingsFormat;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentWriteState;
 import org.apache.lucene.index.SegmentReadState;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.FieldsProducer;
 
 /** Codec that reads the pre-flex-indexing postings
  *  format.  It does not provide a writer because newly
Index: lucene/src/java/org/apache/lucene/codecs/lucene3x/TermInfosReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/lucene3x/TermInfosReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/lucene3x/TermInfosReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene3x;
+package org.apache.lucene.codecs.lucene3x;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/sep/SepDocValuesProducer.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/sep/SepDocValuesProducer.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/sep/SepDocValuesProducer.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.sep;
+package org.apache.lucene.codecs.sep;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -22,9 +22,9 @@
 import java.util.Map;
 import java.util.TreeMap;
 
+import org.apache.lucene.codecs.DocValuesReaderBase;
 import org.apache.lucene.index.DocValues;
 import org.apache.lucene.index.SegmentReadState;
-import org.apache.lucene.index.codecs.DocValuesReaderBase;
 import org.apache.lucene.util.IOUtils;
 
 /**
Index: lucene/src/java/org/apache/lucene/codecs/sep/SepPostingsReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/sep/SepPostingsReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/sep/SepPostingsReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.sep;
+package org.apache.lucene.codecs.sep;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,6 +20,8 @@
 import java.io.IOException;
 import java.util.Collection;
 
+import org.apache.lucene.codecs.BlockTermState;
+import org.apache.lucene.codecs.PostingsReaderBase;
 import org.apache.lucene.index.DocsAndPositionsEnum;
 import org.apache.lucene.index.DocsEnum;
 import org.apache.lucene.index.FieldInfo;
@@ -27,8 +29,6 @@
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.TermState;
-import org.apache.lucene.index.codecs.BlockTermState;
-import org.apache.lucene.index.codecs.PostingsReaderBase;
 import org.apache.lucene.store.ByteArrayDataInput;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
Index: lucene/src/java/org/apache/lucene/codecs/sep/IntIndexInput.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/sep/IntIndexInput.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/sep/IntIndexInput.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.sep;
+package org.apache.lucene.codecs.sep;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/sep/IntIndexOutput.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/sep/IntIndexOutput.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/sep/IntIndexOutput.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.sep;
+package org.apache.lucene.codecs.sep;
 
 /**
  * LICENSED to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/sep/SepSkipListWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/sep/SepSkipListWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/sep/SepSkipListWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.sep;
+package org.apache.lucene.codecs.sep;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -21,8 +21,8 @@
 import java.util.Arrays;
 
 import org.apache.lucene.store.IndexOutput;
+import org.apache.lucene.codecs.MultiLevelSkipListWriter;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
-import org.apache.lucene.index.codecs.MultiLevelSkipListWriter;
 
 // TODO: -- skip data should somehow be more local to the
 // particular stream (doc, freq, pos, payload)
Index: lucene/src/java/org/apache/lucene/codecs/sep/SepDocValuesConsumer.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/sep/SepDocValuesConsumer.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/sep/SepDocValuesConsumer.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.sep;
+package org.apache.lucene.codecs.sep;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,13 +20,13 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.DocValuesWriterBase;
+import org.apache.lucene.codecs.lucene40.values.Writer;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.FieldInfos;
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.PerDocWriteState;
 import org.apache.lucene.index.SegmentInfo;
-import org.apache.lucene.index.codecs.DocValuesWriterBase;
-import org.apache.lucene.index.codecs.lucene40.values.Writer;
 import org.apache.lucene.store.Directory;
 
 /**
Index: lucene/src/java/org/apache/lucene/codecs/sep/SepPostingsWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/sep/SepPostingsWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/sep/SepPostingsWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.sep;
+package org.apache.lucene.codecs.sep;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -21,14 +21,14 @@
 import java.util.ArrayList;
 import java.util.List;
 
+import org.apache.lucene.codecs.PostingsWriterBase;
+import org.apache.lucene.codecs.TermStats;
 import org.apache.lucene.index.CorruptIndexException;
 import org.apache.lucene.index.DocsEnum;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.SegmentWriteState;
-import org.apache.lucene.index.codecs.PostingsWriterBase;
-import org.apache.lucene.index.codecs.TermStats;
 import org.apache.lucene.store.IndexOutput;
 import org.apache.lucene.store.RAMOutputStream;
 import org.apache.lucene.util.BytesRef;
Index: lucene/src/java/org/apache/lucene/codecs/sep/SepSkipListReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/sep/SepSkipListReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/sep/SepSkipListReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.sep;
+package org.apache.lucene.codecs.sep;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -21,8 +21,8 @@
 import java.util.Arrays;
 
 import org.apache.lucene.store.IndexInput;
+import org.apache.lucene.codecs.MultiLevelSkipListReader;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
-import org.apache.lucene.index.codecs.MultiLevelSkipListReader;
 
 /**
  * Implements the skip list reader for the default posting list format
Index: lucene/src/java/org/apache/lucene/codecs/sep/IntStreamFactory.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/sep/IntStreamFactory.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/sep/IntStreamFactory.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.sep;
+package org.apache.lucene.codecs.sep;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/TermsIndexWriterBase.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/TermsIndexWriterBase.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/TermsIndexWriterBase.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/VariableGapTermsIndexWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/VariableGapTermsIndexWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/VariableGapTermsIndexWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/PerDocConsumer.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/PerDocConsumer.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/PerDocConsumer.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
  * contributor license agreements. See the NOTICE file distributed with this
Index: lucene/src/java/org/apache/lucene/codecs/BlockTermsReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/BlockTermsReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/BlockTermsReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/FieldInfosFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/FieldInfosFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/FieldInfosFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/DocValuesFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/DocValuesFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/DocValuesFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/StoredFieldsFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/StoredFieldsFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/StoredFieldsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 import java.io.IOException;
 import java.util.Set;
Index: lucene/src/java/org/apache/lucene/codecs/pulsing/PulsingPostingsFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/pulsing/PulsingPostingsFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/pulsing/PulsingPostingsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.pulsing;
+package org.apache.lucene.codecs.pulsing;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,17 +20,17 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.BlockTreeTermsReader;
+import org.apache.lucene.codecs.BlockTreeTermsWriter;
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.FieldsProducer;
+import org.apache.lucene.codecs.PostingsBaseFormat;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.PostingsReaderBase;
+import org.apache.lucene.codecs.PostingsWriterBase;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentReadState;
 import org.apache.lucene.index.SegmentWriteState;
-import org.apache.lucene.index.codecs.PostingsReaderBase;
-import org.apache.lucene.index.codecs.PostingsWriterBase;
-import org.apache.lucene.index.codecs.BlockTreeTermsReader;
-import org.apache.lucene.index.codecs.BlockTreeTermsWriter;
-import org.apache.lucene.index.codecs.PostingsBaseFormat;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.FieldsProducer;
 import org.apache.lucene.store.Directory;
 
 /** This postings format "inlines" the postings for terms that have
Index: lucene/src/java/org/apache/lucene/codecs/pulsing/PulsingPostingsWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/pulsing/PulsingPostingsWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/pulsing/PulsingPostingsWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.pulsing;
+package org.apache.lucene.codecs.pulsing;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -21,10 +21,10 @@
 import java.util.List;
 import java.util.ArrayList;
 
+import org.apache.lucene.codecs.PostingsWriterBase;
+import org.apache.lucene.codecs.TermStats;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
-import org.apache.lucene.index.codecs.PostingsWriterBase;
-import org.apache.lucene.index.codecs.TermStats;
 import org.apache.lucene.store.IndexOutput;
 import org.apache.lucene.store.RAMOutputStream;
 import org.apache.lucene.util.BytesRef;
Index: lucene/src/java/org/apache/lucene/codecs/pulsing/Pulsing40PostingsFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/pulsing/Pulsing40PostingsFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/pulsing/Pulsing40PostingsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.pulsing;
+package org.apache.lucene.codecs.pulsing;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -17,8 +17,8 @@
  * limitations under the License.
  */
 
-import org.apache.lucene.index.codecs.BlockTreeTermsWriter;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsBaseFormat;
+import org.apache.lucene.codecs.BlockTreeTermsWriter;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsBaseFormat;
 
 /**
  * @lucene.experimental
Index: lucene/src/java/org/apache/lucene/codecs/pulsing/PulsingPostingsReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/pulsing/PulsingPostingsReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/pulsing/PulsingPostingsReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.pulsing;
+package org.apache.lucene.codecs.pulsing;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -21,13 +21,13 @@
 import java.util.IdentityHashMap;
 import java.util.Map;
 
+import org.apache.lucene.codecs.BlockTermState;
+import org.apache.lucene.codecs.PostingsReaderBase;
 import org.apache.lucene.index.DocsAndPositionsEnum;
 import org.apache.lucene.index.DocsEnum;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
 import org.apache.lucene.index.TermState;
-import org.apache.lucene.index.codecs.PostingsReaderBase;
-import org.apache.lucene.index.codecs.BlockTermState;
 import org.apache.lucene.store.ByteArrayDataInput;
 import org.apache.lucene.store.IndexInput;
 import org.apache.lucene.util.ArrayUtil;
Index: lucene/src/java/org/apache/lucene/codecs/BlockTermsWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/BlockTermsWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/BlockTermsWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/FieldInfosReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/FieldInfosReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/FieldInfosReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/PostingsBaseFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/PostingsBaseFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/PostingsBaseFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/StoredFieldsReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/StoredFieldsReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/StoredFieldsReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Copyright 2004 The Apache Software Foundation
Index: lucene/src/java/org/apache/lucene/codecs/SegmentInfosFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/SegmentInfosFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/SegmentInfosFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/FieldsProducer.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/FieldsProducer.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/FieldsProducer.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/FixedGapTermsIndexReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/FixedGapTermsIndexReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/FixedGapTermsIndexReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextNormsReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextNormsReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextNormsReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -22,10 +22,10 @@
 import java.util.Map;
 import java.util.Set;
 
+import org.apache.lucene.codecs.NormsReader;
 import org.apache.lucene.index.FieldInfos;
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.SegmentInfo;
-import org.apache.lucene.index.codecs.NormsReader;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexInput;
@@ -33,7 +33,7 @@
 import org.apache.lucene.util.IOUtils;
 import org.apache.lucene.util.StringHelper;
 
-import static org.apache.lucene.index.codecs.simpletext.SimpleTextNormsWriter.*;
+import static org.apache.lucene.codecs.simpletext.SimpleTextNormsWriter.*;
 
 /**
  * Reads plain-text norms
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextStoredFieldsWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextStoredFieldsWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextStoredFieldsWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -19,10 +19,10 @@
 
 import java.io.IOException;
 
+import org.apache.lucene.codecs.StoredFieldsWriter;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.IndexableField;
-import org.apache.lucene.index.codecs.StoredFieldsWriter;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexOutput;
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextSegmentInfosReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextSegmentInfosReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextSegmentInfosReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -21,11 +21,11 @@
 import java.util.HashMap;
 import java.util.Map;
 
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.SegmentInfosReader;
 import org.apache.lucene.index.CorruptIndexException;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentInfos;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.SegmentInfosReader;
 import org.apache.lucene.store.ChecksumIndexInput;
 import org.apache.lucene.store.DataInput;
 import org.apache.lucene.store.Directory;
@@ -34,7 +34,7 @@
 import org.apache.lucene.util.IOUtils;
 import org.apache.lucene.util.StringHelper;
 
-import static org.apache.lucene.index.codecs.simpletext.SimpleTextSegmentInfosWriter.*;
+import static org.apache.lucene.codecs.simpletext.SimpleTextSegmentInfosWriter.*;
 
 /**
  * reads plaintext segments files
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextFieldsReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextFieldsReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextFieldsReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -22,6 +22,7 @@
 import java.util.HashMap;
 import java.util.Map;
 
+import org.apache.lucene.codecs.FieldsProducer;
 import org.apache.lucene.index.DocsAndPositionsEnum;
 import org.apache.lucene.index.DocsEnum;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
@@ -30,7 +31,6 @@
 import org.apache.lucene.index.SegmentReadState;
 import org.apache.lucene.index.Terms;
 import org.apache.lucene.index.TermsEnum;
-import org.apache.lucene.index.codecs.FieldsProducer;
 import org.apache.lucene.store.IndexInput;
 import org.apache.lucene.util.ArrayUtil;
 import org.apache.lucene.util.Bits;
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextNormsWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextNormsWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextNormsWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -19,9 +19,9 @@
 
 import java.io.IOException;
 
+import org.apache.lucene.codecs.NormsWriter;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.IndexFileNames;
-import org.apache.lucene.index.codecs.NormsWriter;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexOutput;
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextSegmentInfosWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextSegmentInfosWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextSegmentInfosWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -21,9 +21,9 @@
 import java.util.Map;
 import java.util.Map.Entry;
 
+import org.apache.lucene.codecs.SegmentInfosWriter;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentInfos;
-import org.apache.lucene.index.codecs.SegmentInfosWriter;
 import org.apache.lucene.store.ChecksumIndexOutput;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.FlushInfo;
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextFieldsWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextFieldsWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextFieldsWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -18,10 +18,10 @@
  */
 
 import org.apache.lucene.util.BytesRef;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.TermsConsumer;
-import org.apache.lucene.index.codecs.PostingsConsumer;
-import org.apache.lucene.index.codecs.TermStats;
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.PostingsConsumer;
+import org.apache.lucene.codecs.TermStats;
+import org.apache.lucene.codecs.TermsConsumer;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
 import org.apache.lucene.index.SegmentWriteState;
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextUtil.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextUtil.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextUtil.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextTermVectorsFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextTermVectorsFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextTermVectorsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,11 +20,11 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.TermVectorsFormat;
+import org.apache.lucene.codecs.TermVectorsReader;
+import org.apache.lucene.codecs.TermVectorsWriter;
 import org.apache.lucene.index.FieldInfos;
 import org.apache.lucene.index.SegmentInfo;
-import org.apache.lucene.index.codecs.TermVectorsFormat;
-import org.apache.lucene.index.codecs.TermVectorsReader;
-import org.apache.lucene.index.codecs.TermVectorsWriter;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextFieldInfosFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextFieldInfosFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextFieldInfosFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,10 +20,10 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.FieldInfosFormat;
+import org.apache.lucene.codecs.FieldInfosReader;
+import org.apache.lucene.codecs.FieldInfosWriter;
 import org.apache.lucene.index.SegmentInfo;
-import org.apache.lucene.index.codecs.FieldInfosFormat;
-import org.apache.lucene.index.codecs.FieldInfosReader;
-import org.apache.lucene.index.codecs.FieldInfosWriter;
 import org.apache.lucene.store.Directory;
 
 /**
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextStoredFieldsFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextStoredFieldsFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextStoredFieldsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,11 +20,11 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.StoredFieldsFormat;
+import org.apache.lucene.codecs.StoredFieldsReader;
+import org.apache.lucene.codecs.StoredFieldsWriter;
 import org.apache.lucene.index.FieldInfos;
 import org.apache.lucene.index.SegmentInfo;
-import org.apache.lucene.index.codecs.StoredFieldsFormat;
-import org.apache.lucene.index.codecs.StoredFieldsReader;
-import org.apache.lucene.index.codecs.StoredFieldsWriter;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextTermVectorsReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextTermVectorsReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextTermVectorsReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -27,6 +27,7 @@
 import java.util.TreeMap;
 
 import org.apache.lucene.analysis.tokenattributes.OffsetAttribute;
+import org.apache.lucene.codecs.TermVectorsReader;
 import org.apache.lucene.index.DocsAndPositionsEnum;
 import org.apache.lucene.index.DocsEnum;
 import org.apache.lucene.index.FieldInfos;
@@ -36,7 +37,6 @@
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.Terms;
 import org.apache.lucene.index.TermsEnum;
-import org.apache.lucene.index.codecs.TermVectorsReader;
 import org.apache.lucene.store.AlreadyClosedException;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
@@ -49,7 +49,7 @@
 import org.apache.lucene.util.StringHelper;
 import org.apache.lucene.util.UnicodeUtil;
 
-import static org.apache.lucene.index.codecs.simpletext.SimpleTextTermVectorsWriter.*;
+import static org.apache.lucene.codecs.simpletext.SimpleTextTermVectorsWriter.*;
 
 /**
  * Reads plain-text term vectors.
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextFieldInfosReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextFieldInfosReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextFieldInfosReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,6 +20,7 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.FieldInfosReader;
 import org.apache.lucene.index.CorruptIndexException;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.FieldInfos;
@@ -27,7 +28,6 @@
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
 import org.apache.lucene.index.DocValues;
-import org.apache.lucene.index.codecs.FieldInfosReader;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexInput;
@@ -35,7 +35,7 @@
 import org.apache.lucene.util.IOUtils;
 import org.apache.lucene.util.StringHelper;
 
-import static org.apache.lucene.index.codecs.simpletext.SimpleTextFieldInfosWriter.*;
+import static org.apache.lucene.codecs.simpletext.SimpleTextFieldInfosWriter.*;
 
 /**
  * reads plaintext field infos files
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextNormsFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextNormsFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextNormsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,12 +20,12 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.NormsFormat;
+import org.apache.lucene.codecs.NormsReader;
+import org.apache.lucene.codecs.NormsWriter;
 import org.apache.lucene.index.FieldInfos;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentWriteState;
-import org.apache.lucene.index.codecs.NormsFormat;
-import org.apache.lucene.index.codecs.NormsReader;
-import org.apache.lucene.index.codecs.NormsWriter;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextStoredFieldsReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextStoredFieldsReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextStoredFieldsReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -21,13 +21,13 @@
 import java.util.ArrayList;
 import java.util.Set;
 
+import org.apache.lucene.codecs.StoredFieldsReader;
 import org.apache.lucene.index.CorruptIndexException;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.FieldInfos;
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.StoredFieldVisitor;
-import org.apache.lucene.index.codecs.StoredFieldsReader;
 import org.apache.lucene.store.AlreadyClosedException;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
@@ -39,7 +39,7 @@
 import org.apache.lucene.util.StringHelper;
 import org.apache.lucene.util.UnicodeUtil;
 
-import static org.apache.lucene.index.codecs.simpletext.SimpleTextStoredFieldsWriter.*;
+import static org.apache.lucene.codecs.simpletext.SimpleTextStoredFieldsWriter.*;
 
 /**
  * reads plaintext stored fields
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextTermVectorsWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextTermVectorsWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextTermVectorsWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -19,9 +19,9 @@
 
 import java.io.IOException;
 
+import org.apache.lucene.codecs.TermVectorsWriter;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.IndexFileNames;
-import org.apache.lucene.index.codecs.TermVectorsWriter;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexOutput;
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextSegmentInfosFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextSegmentInfosFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextSegmentInfosFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -17,9 +17,9 @@
  * limitations under the License.
  */
 
-import org.apache.lucene.index.codecs.SegmentInfosFormat;
-import org.apache.lucene.index.codecs.SegmentInfosReader;
-import org.apache.lucene.index.codecs.SegmentInfosWriter;
+import org.apache.lucene.codecs.SegmentInfosFormat;
+import org.apache.lucene.codecs.SegmentInfosReader;
+import org.apache.lucene.codecs.SegmentInfosWriter;
 
 /**
  * plain text segments file format.
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextCodec.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextCodec.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextCodec.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -17,15 +17,15 @@
  * limitations under the License.
  */
 
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.DocValuesFormat;
-import org.apache.lucene.index.codecs.FieldInfosFormat;
-import org.apache.lucene.index.codecs.NormsFormat;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.SegmentInfosFormat;
-import org.apache.lucene.index.codecs.StoredFieldsFormat;
-import org.apache.lucene.index.codecs.TermVectorsFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40DocValuesFormat;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.DocValuesFormat;
+import org.apache.lucene.codecs.FieldInfosFormat;
+import org.apache.lucene.codecs.NormsFormat;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.SegmentInfosFormat;
+import org.apache.lucene.codecs.StoredFieldsFormat;
+import org.apache.lucene.codecs.TermVectorsFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40DocValuesFormat;
 
 /**
  * plain text index format.
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextFieldInfosWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextFieldInfosWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextFieldInfosWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -18,11 +18,11 @@
  */
 import java.io.IOException;
 
+import org.apache.lucene.codecs.FieldInfosWriter;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.FieldInfos;
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
-import org.apache.lucene.index.codecs.FieldInfosWriter;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexOutput;
Index: lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextPostingsFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextPostingsFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/simpletext/SimpleTextPostingsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.simpletext;
+package org.apache.lucene.codecs.simpletext;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,13 +20,13 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.FieldsProducer;
+import org.apache.lucene.codecs.PostingsFormat;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentWriteState;
 import org.apache.lucene.index.SegmentReadState;
 import org.apache.lucene.index.IndexFileNames;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.FieldsProducer;
 import org.apache.lucene.store.Directory;
 
 /** For debugging, curiosity, transparency only!!  Do not
Index: lucene/src/java/org/apache/lucene/codecs/FieldInfosWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/FieldInfosWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/FieldInfosWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/PostingsFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/PostingsFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/PostingsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/PostingsConsumer.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/PostingsConsumer.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/PostingsConsumer.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/BlockTermState.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/BlockTermState.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/BlockTermState.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
  * contributor license agreements.  See the NOTICE file distributed with
Index: lucene/src/java/org/apache/lucene/codecs/SegmentInfosReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/SegmentInfosReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/SegmentInfosReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/StoredFieldsWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/StoredFieldsWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/StoredFieldsWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 import java.io.Closeable;
 import java.io.IOException;
Index: lucene/src/java/org/apache/lucene/codecs/intblock/VariableIntBlockIndexInput.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/intblock/VariableIntBlockIndexInput.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/intblock/VariableIntBlockIndexInput.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.intblock;
+package org.apache.lucene.codecs.intblock;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -23,7 +23,7 @@
 
 import java.io.IOException;
 
-import org.apache.lucene.index.codecs.sep.IntIndexInput;
+import org.apache.lucene.codecs.sep.IntIndexInput;
 import org.apache.lucene.store.DataInput;
 import org.apache.lucene.store.IndexInput;
 import org.apache.lucene.util.IntsRef;
Index: lucene/src/java/org/apache/lucene/codecs/intblock/VariableIntBlockIndexOutput.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/intblock/VariableIntBlockIndexOutput.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/intblock/VariableIntBlockIndexOutput.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.intblock;
+package org.apache.lucene.codecs.intblock;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -23,7 +23,7 @@
 
 import java.io.IOException;
 
-import org.apache.lucene.index.codecs.sep.IntIndexOutput;
+import org.apache.lucene.codecs.sep.IntIndexOutput;
 import org.apache.lucene.store.IndexOutput;
 
 // TODO: much of this can be shared code w/ the fixed case
Index: lucene/src/java/org/apache/lucene/codecs/intblock/FixedIntBlockIndexInput.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/intblock/FixedIntBlockIndexInput.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/intblock/FixedIntBlockIndexInput.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.intblock;
+package org.apache.lucene.codecs.intblock;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -23,7 +23,7 @@
 
 import java.io.IOException;
 
-import org.apache.lucene.index.codecs.sep.IntIndexInput;
+import org.apache.lucene.codecs.sep.IntIndexInput;
 import org.apache.lucene.store.DataInput;
 import org.apache.lucene.store.IndexInput;
 import org.apache.lucene.util.IntsRef;
Index: lucene/src/java/org/apache/lucene/codecs/intblock/FixedIntBlockIndexOutput.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/intblock/FixedIntBlockIndexOutput.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/intblock/FixedIntBlockIndexOutput.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.intblock;
+package org.apache.lucene.codecs.intblock;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -23,7 +23,7 @@
 
 import java.io.IOException;
 
-import org.apache.lucene.index.codecs.sep.IntIndexOutput;
+import org.apache.lucene.codecs.sep.IntIndexOutput;
 import org.apache.lucene.store.IndexOutput;
 
 /** Abstract base class that writes fixed-size blocks of ints
Index: lucene/src/java/org/apache/lucene/codecs/appending/AppendingSegmentInfosFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/appending/AppendingSegmentInfosFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/appending/AppendingSegmentInfosFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.appending;
+package org.apache.lucene.codecs.appending;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -17,8 +17,8 @@
  * limitations under the License.
  */
 
-import org.apache.lucene.index.codecs.SegmentInfosWriter;
-import org.apache.lucene.index.codecs.lucene40.Lucene40SegmentInfosFormat;
+import org.apache.lucene.codecs.SegmentInfosWriter;
+import org.apache.lucene.codecs.lucene40.Lucene40SegmentInfosFormat;
 
 public class AppendingSegmentInfosFormat extends Lucene40SegmentInfosFormat {
   private final SegmentInfosWriter writer = new AppendingSegmentInfosWriter();
Index: lucene/src/java/org/apache/lucene/codecs/appending/AppendingCodec.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/appending/AppendingCodec.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/appending/AppendingCodec.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.appending;
+package org.apache.lucene.codecs.appending;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -17,20 +17,20 @@
  * limitations under the License.
  */
 
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.DocValuesFormat;
-import org.apache.lucene.index.codecs.FieldInfosFormat;
-import org.apache.lucene.index.codecs.NormsFormat;
-import org.apache.lucene.index.codecs.StoredFieldsFormat;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.SegmentInfosFormat;
-import org.apache.lucene.index.codecs.TermVectorsFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40Codec;
-import org.apache.lucene.index.codecs.lucene40.Lucene40FieldInfosFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40DocValuesFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40NormsFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40StoredFieldsFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40TermVectorsFormat;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.DocValuesFormat;
+import org.apache.lucene.codecs.FieldInfosFormat;
+import org.apache.lucene.codecs.NormsFormat;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.SegmentInfosFormat;
+import org.apache.lucene.codecs.StoredFieldsFormat;
+import org.apache.lucene.codecs.TermVectorsFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40Codec;
+import org.apache.lucene.codecs.lucene40.Lucene40DocValuesFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40FieldInfosFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40NormsFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40StoredFieldsFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40TermVectorsFormat;
 
 /**
  * This codec extends {@link Lucene40Codec} to work on append-only outputs, such
Index: lucene/src/java/org/apache/lucene/codecs/appending/AppendingTermsReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/appending/AppendingTermsReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/appending/AppendingTermsReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.appending;
+package org.apache.lucene.codecs.appending;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -19,9 +19,9 @@
 
 import java.io.IOException;
 
+import org.apache.lucene.codecs.BlockTreeTermsReader;
+import org.apache.lucene.codecs.PostingsReaderBase;
 import org.apache.lucene.index.FieldInfos;
-import org.apache.lucene.index.codecs.BlockTreeTermsReader;
-import org.apache.lucene.index.codecs.PostingsReaderBase;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexInput;
Index: lucene/src/java/org/apache/lucene/codecs/appending/AppendingSegmentInfosWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/appending/AppendingSegmentInfosWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/appending/AppendingSegmentInfosWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.appending;
+package org.apache.lucene.codecs.appending;
 
 /*
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -19,7 +19,7 @@
 
 import java.io.IOException;
 
-import org.apache.lucene.index.codecs.lucene40.Lucene40SegmentInfosWriter;
+import org.apache.lucene.codecs.lucene40.Lucene40SegmentInfosWriter;
 import org.apache.lucene.store.IndexOutput;
 
 public class AppendingSegmentInfosWriter extends Lucene40SegmentInfosWriter {
Index: lucene/src/java/org/apache/lucene/codecs/appending/AppendingPostingsFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/appending/AppendingPostingsFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/appending/AppendingPostingsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.appending;
+package org.apache.lucene.codecs.appending;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,18 +20,18 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.BlockTreeTermsReader;
+import org.apache.lucene.codecs.BlockTreeTermsWriter;
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.FieldsProducer;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.PostingsReaderBase;
+import org.apache.lucene.codecs.PostingsWriterBase;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsReader;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsWriter;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentReadState;
 import org.apache.lucene.index.SegmentWriteState;
-import org.apache.lucene.index.codecs.BlockTreeTermsReader;
-import org.apache.lucene.index.codecs.BlockTreeTermsWriter;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.FieldsProducer;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsReader;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsWriter;
-import org.apache.lucene.index.codecs.PostingsReaderBase;
-import org.apache.lucene.index.codecs.PostingsWriterBase;
 import org.apache.lucene.store.Directory;
 
 /**
Index: lucene/src/java/org/apache/lucene/codecs/appending/AppendingTermsWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/appending/AppendingTermsWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/appending/AppendingTermsWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.appending;
+package org.apache.lucene.codecs.appending;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -19,9 +19,9 @@
 
 import java.io.IOException;
 
+import org.apache.lucene.codecs.BlockTreeTermsWriter;
+import org.apache.lucene.codecs.PostingsWriterBase;
 import org.apache.lucene.index.SegmentWriteState;
-import org.apache.lucene.index.codecs.BlockTreeTermsWriter;
-import org.apache.lucene.index.codecs.PostingsWriterBase;
 import org.apache.lucene.store.IndexOutput;
 import org.apache.lucene.util.CodecUtil;
 
Index: lucene/src/java/org/apache/lucene/codecs/TermVectorsFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/TermVectorsFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/TermVectorsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/TermStats.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/TermStats.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/TermStats.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/FixedGapTermsIndexWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/FixedGapTermsIndexWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/FixedGapTermsIndexWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/MultiLevelSkipListReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/MultiLevelSkipListReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/MultiLevelSkipListReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/SegmentInfosWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/SegmentInfosWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/SegmentInfosWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/TermVectorsReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/TermVectorsReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/TermVectorsReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/MultiLevelSkipListWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/MultiLevelSkipListWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/MultiLevelSkipListWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/NormsFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/NormsFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/NormsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/BlockTreeTermsReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/BlockTreeTermsReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/BlockTreeTermsReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/TermVectorsWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/TermVectorsWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/TermVectorsWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/perfield/PerFieldPostingsFormat.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/perfield/PerFieldPostingsFormat.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/perfield/PerFieldPostingsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.perfield;
+package org.apache.lucene.codecs.perfield;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -27,6 +27,10 @@
 import java.util.Set;
 import java.util.TreeMap;
 
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.FieldsProducer;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.TermsConsumer;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.FieldsEnum;
 import org.apache.lucene.index.IndexFileNames;
@@ -34,10 +38,6 @@
 import org.apache.lucene.index.SegmentReadState;
 import org.apache.lucene.index.SegmentWriteState;
 import org.apache.lucene.index.Terms;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.FieldsProducer;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.TermsConsumer;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexInput;
Index: lucene/src/java/org/apache/lucene/codecs/Codec.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/Codec.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/Codec.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/PerDocProducer.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/PerDocProducer.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/PerDocProducer.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
  * contributor license agreements.  See the NOTICE file distributed with
Index: lucene/src/java/org/apache/lucene/codecs/NormsReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/NormsReader.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/NormsReader.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/BlockTreeTermsWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/BlockTreeTermsWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/BlockTreeTermsWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/codecs/NormsWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/codecs/NormsWriter.java	(working copy)
+++ lucene/src/java/org/apache/lucene/codecs/NormsWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs;
+package org.apache.lucene.codecs;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
Index: lucene/src/java/org/apache/lucene/index/StoredFieldsConsumer.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/StoredFieldsConsumer.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/StoredFieldsConsumer.java	(working copy)
@@ -19,8 +19,8 @@
 
 import java.io.IOException;
 
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.StoredFieldsWriter;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.StoredFieldsWriter;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.util.ArrayUtil;
 import org.apache.lucene.util.RamUsageEstimator;
Index: lucene/src/java/org/apache/lucene/index/TermVectorsConsumer.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/TermVectorsConsumer.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/TermVectorsConsumer.java	(working copy)
@@ -20,7 +20,7 @@
 import java.io.IOException;
 import java.util.Map;
 
-import org.apache.lucene.index.codecs.TermVectorsWriter;
+import org.apache.lucene.codecs.TermVectorsWriter;
 import org.apache.lucene.store.FlushInfo;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.util.ArrayUtil;
Index: lucene/src/java/org/apache/lucene/index/IndexFileNames.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/IndexFileNames.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/IndexFileNames.java	(working copy)
@@ -17,7 +17,7 @@
  * limitations under the License.
  */
 
-import org.apache.lucene.index.codecs.Codec;  // for javadocs
+import org.apache.lucene.codecs.Codec;
 
 // TODO: put all files under codec and remove all the static extensions here
 
Index: lucene/src/java/org/apache/lucene/index/DocumentsWriterPerThread.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/DocumentsWriterPerThread.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/DocumentsWriterPerThread.java	(working copy)
@@ -24,8 +24,8 @@
 import java.text.NumberFormat;
 
 import org.apache.lucene.analysis.Analyzer;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.index.DocumentsWriterDeleteQueue.DeleteSlice;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.search.similarities.SimilarityProvider;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.FlushInfo;
Index: lucene/src/java/org/apache/lucene/index/DocValue.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/DocValue.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/DocValue.java	(working copy)
@@ -18,10 +18,10 @@
  */
 import java.util.Comparator;
 
+import org.apache.lucene.codecs.DocValuesConsumer;
 import org.apache.lucene.document.DocValuesField;
 import org.apache.lucene.index.DocValues;
 import org.apache.lucene.index.DocValues.Type; // javadocs
-import org.apache.lucene.index.codecs.DocValuesConsumer; // javadocs
 import org.apache.lucene.util.BytesRef;
 
 /**
Index: lucene/src/java/org/apache/lucene/index/TermVectorsConsumerPerField.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/TermVectorsConsumerPerField.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/TermVectorsConsumerPerField.java	(working copy)
@@ -20,7 +20,7 @@
 import java.io.IOException;
 
 import org.apache.lucene.analysis.tokenattributes.OffsetAttribute;
-import org.apache.lucene.index.codecs.TermVectorsWriter;
+import org.apache.lucene.codecs.TermVectorsWriter;
 import org.apache.lucene.util.ByteBlockPool;
 import org.apache.lucene.util.BytesRef;
 import org.apache.lucene.util.RamUsageEstimator;
Index: lucene/src/java/org/apache/lucene/index/SegmentInfo.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/SegmentInfo.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/SegmentInfo.java	(working copy)
@@ -27,8 +27,8 @@
 import java.util.Map.Entry;
 import java.util.Set;
 
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.FieldInfosReader;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.FieldInfosReader;
 import org.apache.lucene.store.CompoundFileDirectory;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
Index: lucene/src/java/org/apache/lucene/index/SegmentReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/SegmentReader.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/SegmentReader.java	(working copy)
@@ -26,10 +26,10 @@
 import java.util.concurrent.atomic.AtomicInteger;
 
 import org.apache.lucene.store.Directory;
+import org.apache.lucene.codecs.PerDocProducer;
+import org.apache.lucene.codecs.StoredFieldsReader;
+import org.apache.lucene.codecs.TermVectorsReader;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
-import org.apache.lucene.index.codecs.PerDocProducer;
-import org.apache.lucene.index.codecs.StoredFieldsReader;
-import org.apache.lucene.index.codecs.TermVectorsReader;
 import org.apache.lucene.search.FieldCache; // javadocs
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.util.BitVector;
Index: lucene/src/java/org/apache/lucene/index/SegmentInfos.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/SegmentInfos.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/SegmentInfos.java	(working copy)
@@ -31,10 +31,10 @@
 import java.util.Map;
 import java.util.Set;
 
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.SegmentInfosReader;
+import org.apache.lucene.codecs.SegmentInfosWriter;
 import org.apache.lucene.index.FieldInfos.FieldNumberBiMap;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.SegmentInfosReader;
-import org.apache.lucene.index.codecs.SegmentInfosWriter;
 import org.apache.lucene.store.ChecksumIndexInput;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
Index: lucene/src/java/org/apache/lucene/index/CheckIndex.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/CheckIndex.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/CheckIndex.java	(working copy)
@@ -17,6 +17,8 @@
  * limitations under the License.
  */
 
+import org.apache.lucene.codecs.BlockTreeTermsReader;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.document.FieldType; // for javadocs
 import org.apache.lucene.search.DocIdSetIterator;
 import org.apache.lucene.search.IndexSearcher;
@@ -27,7 +29,6 @@
 import org.apache.lucene.document.Document;
 import org.apache.lucene.index.DocValues.SortedSource;
 import org.apache.lucene.index.DocValues.Source;
-import org.apache.lucene.index.codecs.Codec;
 
 import java.io.File;
 import java.io.IOException;
@@ -48,9 +49,7 @@
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexInput;
 import org.apache.lucene.document.Document;
-import org.apache.lucene.index.codecs.Codec;
 
-import org.apache.lucene.index.codecs.BlockTreeTermsReader;
 import org.apache.lucene.store.FSDirectory;
 import org.apache.lucene.util.Bits;
 import org.apache.lucene.util.BytesRef;
Index: lucene/src/java/org/apache/lucene/index/NormsConsumer.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/NormsConsumer.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/NormsConsumer.java	(working copy)
@@ -21,8 +21,8 @@
 import java.util.Collection;
 import java.util.Map;
 
-import org.apache.lucene.index.codecs.NormsFormat;
-import org.apache.lucene.index.codecs.NormsWriter;
+import org.apache.lucene.codecs.NormsFormat;
+import org.apache.lucene.codecs.NormsWriter;
 import org.apache.lucene.util.IOUtils;
 
 // TODO FI: norms could actually be stored as doc store
Index: lucene/src/java/org/apache/lucene/index/PerDocWriteState.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/PerDocWriteState.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/PerDocWriteState.java	(working copy)
@@ -17,7 +17,7 @@
  */
 import java.io.PrintStream;
 
-import org.apache.lucene.index.codecs.PerDocConsumer;
+import org.apache.lucene.codecs.PerDocConsumer;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.util.Counter;
Index: lucene/src/java/org/apache/lucene/index/SegmentMerger.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/SegmentMerger.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/SegmentMerger.java	(working copy)
@@ -24,16 +24,16 @@
 import java.util.List;
 import java.util.Map;
 
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.FieldInfosWriter;
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.NormsWriter;
+import org.apache.lucene.codecs.PerDocConsumer;
+import org.apache.lucene.codecs.StoredFieldsWriter;
+import org.apache.lucene.codecs.TermVectorsWriter;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
 import org.apache.lucene.index.IndexReader.FieldOption;
 import org.apache.lucene.index.DocValues;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.FieldInfosWriter;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.NormsWriter;
-import org.apache.lucene.index.codecs.StoredFieldsWriter;
-import org.apache.lucene.index.codecs.PerDocConsumer;
-import org.apache.lucene.index.codecs.TermVectorsWriter;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.util.Bits;
Index: lucene/src/java/org/apache/lucene/index/DocFieldProcessor.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/DocFieldProcessor.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/DocFieldProcessor.java	(working copy)
@@ -24,12 +24,12 @@
 import java.util.HashSet;
 import java.util.Map;
 
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.DocValuesConsumer;
+import org.apache.lucene.codecs.DocValuesFormat;
+import org.apache.lucene.codecs.FieldInfosWriter;
+import org.apache.lucene.codecs.PerDocConsumer;
 import org.apache.lucene.index.DocumentsWriterPerThread.DocState;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.DocValuesConsumer;
-import org.apache.lucene.index.codecs.DocValuesFormat;
-import org.apache.lucene.index.codecs.FieldInfosWriter;
-import org.apache.lucene.index.codecs.PerDocConsumer;
 import org.apache.lucene.index.DocValues;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.util.ArrayUtil;
Index: lucene/src/java/org/apache/lucene/index/FreqProxTermsWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/FreqProxTermsWriter.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/FreqProxTermsWriter.java	(working copy)
@@ -22,8 +22,8 @@
 import java.util.List;
 import java.util.Map;
 
+import org.apache.lucene.codecs.FieldsConsumer;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
-import org.apache.lucene.index.codecs.FieldsConsumer;
 import org.apache.lucene.util.BytesRef;
 import org.apache.lucene.util.CollectionUtil;
 import org.apache.lucene.util.IOUtils;
Index: lucene/src/java/org/apache/lucene/index/FreqProxTermsWriterPerField.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/FreqProxTermsWriterPerField.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/FreqProxTermsWriterPerField.java	(working copy)
@@ -22,11 +22,11 @@
 import java.util.Map;
 
 import org.apache.lucene.analysis.tokenattributes.PayloadAttribute;
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.PostingsConsumer;
+import org.apache.lucene.codecs.TermStats;
+import org.apache.lucene.codecs.TermsConsumer;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.PostingsConsumer;
-import org.apache.lucene.index.codecs.TermStats;
-import org.apache.lucene.index.codecs.TermsConsumer;
 import org.apache.lucene.util.BitVector;
 import org.apache.lucene.util.BytesRef;
 import org.apache.lucene.util.FixedBitSet;
Index: lucene/src/java/org/apache/lucene/index/DocValues.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/DocValues.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/DocValues.java	(working copy)
@@ -20,8 +20,8 @@
 import java.io.IOException;
 import java.util.Comparator;
 
+import org.apache.lucene.codecs.DocValuesFormat;
 import org.apache.lucene.document.DocValuesField;
-import org.apache.lucene.index.codecs.DocValuesFormat;
 import org.apache.lucene.util.BytesRef;
 import org.apache.lucene.util.packed.PackedInts;
 
Index: lucene/src/java/org/apache/lucene/index/DocumentsWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/DocumentsWriter.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/DocumentsWriter.java	(working copy)
@@ -26,11 +26,11 @@
 import java.util.concurrent.atomic.AtomicInteger;
 
 import org.apache.lucene.analysis.Analyzer;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.index.DocumentsWriterPerThread.FlushedSegment;
 import org.apache.lucene.index.DocumentsWriterPerThread.IndexingChain;
 import org.apache.lucene.index.DocumentsWriterPerThreadPool.ThreadState;
 import org.apache.lucene.index.FieldInfos.FieldNumberBiMap;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.search.Query;
 import org.apache.lucene.search.similarities.SimilarityProvider;
 import org.apache.lucene.store.AlreadyClosedException;
Index: lucene/src/java/org/apache/lucene/index/IndexWriter.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/IndexWriter.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/IndexWriter.java	(working copy)
@@ -32,12 +32,12 @@
 import java.util.regex.Pattern;
 
 import org.apache.lucene.analysis.Analyzer;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.index.DocumentsWriterPerThread.FlushedSegment;
 import org.apache.lucene.index.FieldInfos.FieldNumberBiMap;
 import org.apache.lucene.index.IndexWriterConfig.OpenMode;
 import org.apache.lucene.index.MergeState.CheckAbort;
 import org.apache.lucene.index.PayloadProcessorProvider.DirPayloadProcessor;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.search.Query;
 import org.apache.lucene.store.AlreadyClosedException;
 import org.apache.lucene.store.CompoundFileDirectory;
Index: lucene/src/java/org/apache/lucene/index/SegmentWriteState.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/SegmentWriteState.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/SegmentWriteState.java	(working copy)
@@ -17,7 +17,7 @@
  * limitations under the License.
  */
 
-import org.apache.lucene.index.codecs.Codec;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.util.BitVector;
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40SkipListWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40TermVectorsReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40StoredFieldsFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40DocValuesConsumer.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40PostingsWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40FieldInfosReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40NormsFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40StoredFieldsReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40TermVectorsWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40PostingsBaseFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40SegmentInfosFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40Codec.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/package.html (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/values/VarSortedBytesImpl.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/values/PackedIntValues.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/values/DocValuesArray.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/values/BytesRefUtils.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/values/Bytes.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/values/VarStraightBytesImpl.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/values/VarDerefBytesImpl.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/values/Floats.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/values/FixedSortedBytesImpl.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/values/DirectSource.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/values/Writer.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/values/Ints.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/values/FixedStraightBytesImpl.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/values/FixedDerefBytesImpl.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40FieldInfosWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40PostingsFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40NormsReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40StoredFieldsWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40SegmentInfosReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40SkipListReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40TermVectorsFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40PostingsReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40DocValuesProducer.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40NormsWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40FieldInfosFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40DocValuesFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene40/Lucene40SegmentInfosWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/MappingMultiDocsAndPositionsEnum.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/StoredFieldsFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/DocValuesConsumer.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/pulsing/PulsingPostingsFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/pulsing/PulsingPostingsWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/pulsing/Pulsing40PostingsFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/pulsing/PulsingPostingsReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/pulsing/package.html (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/BlockTermsWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/DocValuesReaderBase.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/MappingMultiDocsEnum.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/FieldInfosReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/StoredFieldsReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/FieldsProducer.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/PostingsBaseFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/SegmentInfosFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/DocValuesWriterBase.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/FixedGapTermsIndexReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextNormsReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextSegmentInfosReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextStoredFieldsWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextTermVectorsFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextFieldsReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextNormsWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextFieldInfosFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextSegmentInfosWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/package.html (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextStoredFieldsFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextTermVectorsReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextFieldsWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextFieldInfosReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextNormsFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextSegmentInfosFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextStoredFieldsReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextTermVectorsWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextCodec.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextUtil.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextFieldInfosWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/simpletext/SimpleTextPostingsFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/PostingsFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/FieldInfosWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/PostingsConsumer.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/FieldsConsumer.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/BlockTermState.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/StoredFieldsWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/PostingsReaderBase.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/SegmentInfosReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/appending/AppendingSegmentInfosFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/appending/AppendingCodec.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/appending/AppendingTermsReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/appending/AppendingSegmentInfosWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/appending/AppendingPostingsFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/appending/AppendingTermsWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/intblock/VariableIntBlockIndexInput.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/intblock/VariableIntBlockIndexOutput.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/intblock/FixedIntBlockIndexInput.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/intblock/package.html (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/intblock/FixedIntBlockIndexOutput.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/TermVectorsFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/TermStats.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/FixedGapTermsIndexWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/memory/MemoryPostingsFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/MultiLevelSkipListReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/SegmentInfosWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/PostingsWriterBase.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/TermVectorsReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/TermsIndexReaderBase.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/MultiLevelSkipListWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/VariableGapTermsIndexReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene3x/SegmentTermEnum.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene3x/TermInfosReaderIndex.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene3x/TermBuffer.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene3x/SegmentTermPositions.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene3x/TermInfo.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene3x/SegmentTermDocs.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene3x/Lucene3xCodec.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene3x/Lucene3xPostingsFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene3x/TermInfosReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene3x/Lucene3xFields.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/lucene3x/package.html (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/TermsConsumer.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/sep/SepDocValuesProducer.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/sep/SepPostingsReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/sep/IntIndexInput.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/sep/IntIndexOutput.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/sep/SepSkipListWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/sep/SepDocValuesConsumer.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/sep/SepPostingsWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/sep/SepSkipListReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/sep/package.html (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/sep/IntStreamFactory.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/NormsFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/BlockTreeTermsReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/perfield/PerFieldPostingsFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/TermsIndexWriterBase.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/TermVectorsWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/Codec.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/VariableGapTermsIndexWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/package.html (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/PerDocProducer.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/NormsReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/BlockTreeTermsWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/PerDocConsumer.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/BlockTermsReader.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/NormsWriter.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/FieldInfosFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/codecs/DocValuesFormat.java (deleted)
===================================================================
Index: lucene/src/java/org/apache/lucene/index/SegmentCoreReaders.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/SegmentCoreReaders.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/SegmentCoreReaders.java	(working copy)
@@ -22,14 +22,14 @@
 import java.util.concurrent.ConcurrentHashMap;
 import java.util.concurrent.atomic.AtomicInteger;
 
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.FieldsProducer;
+import org.apache.lucene.codecs.NormsReader;
+import org.apache.lucene.codecs.PerDocProducer;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.StoredFieldsReader;
+import org.apache.lucene.codecs.TermVectorsReader;
 import org.apache.lucene.index.SegmentReader.CoreClosedListener;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.NormsReader;
-import org.apache.lucene.index.codecs.PerDocProducer;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.FieldsProducer;
-import org.apache.lucene.index.codecs.StoredFieldsReader;
-import org.apache.lucene.index.codecs.TermVectorsReader;
 import org.apache.lucene.store.CompoundFileDirectory;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
Index: lucene/src/java/org/apache/lucene/index/IndexWriterConfig.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/IndexWriterConfig.java	(revision 1215093)
+++ lucene/src/java/org/apache/lucene/index/IndexWriterConfig.java	(working copy)
@@ -20,9 +20,9 @@
 import java.io.PrintStream;
 
 import org.apache.lucene.analysis.Analyzer;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.index.DocumentsWriterPerThread.IndexingChain;
 import org.apache.lucene.index.IndexWriter.IndexReaderWarmer;
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.search.IndexSearcher;
 import org.apache.lucene.search.similarities.SimilarityProvider;
 import org.apache.lucene.util.InfoStream;
Index: lucene/src/test-framework/java/org/apache/lucene/codecs/mockintblock/MockFixedIntBlockPostingsFormat.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/codecs/mockintblock/MockFixedIntBlockPostingsFormat.java	(working copy)
+++ lucene/src/test-framework/java/org/apache/lucene/codecs/mockintblock/MockFixedIntBlockPostingsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.mockintblock;
+package org.apache.lucene.codecs.mockintblock;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,28 +20,28 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.BlockTermsReader;
+import org.apache.lucene.codecs.BlockTermsWriter;
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.FieldsProducer;
+import org.apache.lucene.codecs.FixedGapTermsIndexReader;
+import org.apache.lucene.codecs.FixedGapTermsIndexWriter;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.PostingsReaderBase;
+import org.apache.lucene.codecs.PostingsWriterBase;
+import org.apache.lucene.codecs.TermsIndexReaderBase;
+import org.apache.lucene.codecs.TermsIndexWriterBase;
+import org.apache.lucene.codecs.intblock.FixedIntBlockIndexInput;
+import org.apache.lucene.codecs.intblock.FixedIntBlockIndexOutput;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsFormat;
+import org.apache.lucene.codecs.sep.IntIndexInput;
+import org.apache.lucene.codecs.sep.IntIndexOutput;
+import org.apache.lucene.codecs.sep.IntStreamFactory;
+import org.apache.lucene.codecs.sep.SepPostingsReader;
+import org.apache.lucene.codecs.sep.SepPostingsWriter;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentWriteState;
 import org.apache.lucene.index.SegmentReadState;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.FieldsProducer;
-import org.apache.lucene.index.codecs.sep.IntStreamFactory;
-import org.apache.lucene.index.codecs.sep.IntIndexInput;
-import org.apache.lucene.index.codecs.sep.IntIndexOutput;
-import org.apache.lucene.index.codecs.sep.SepPostingsReader;
-import org.apache.lucene.index.codecs.sep.SepPostingsWriter;
-import org.apache.lucene.index.codecs.intblock.FixedIntBlockIndexInput;
-import org.apache.lucene.index.codecs.intblock.FixedIntBlockIndexOutput;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsFormat;
-import org.apache.lucene.index.codecs.FixedGapTermsIndexReader;
-import org.apache.lucene.index.codecs.FixedGapTermsIndexWriter;
-import org.apache.lucene.index.codecs.PostingsWriterBase;
-import org.apache.lucene.index.codecs.PostingsReaderBase;
-import org.apache.lucene.index.codecs.BlockTermsReader;
-import org.apache.lucene.index.codecs.BlockTermsWriter;
-import org.apache.lucene.index.codecs.TermsIndexReaderBase;
-import org.apache.lucene.index.codecs.TermsIndexWriterBase;
 import org.apache.lucene.store.*;
 import org.apache.lucene.util.BytesRef;
 import org.apache.lucene.util.IOUtils;
Index: lucene/src/test-framework/java/org/apache/lucene/codecs/mockintblock/MockVariableIntBlockPostingsFormat.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/codecs/mockintblock/MockVariableIntBlockPostingsFormat.java	(working copy)
+++ lucene/src/test-framework/java/org/apache/lucene/codecs/mockintblock/MockVariableIntBlockPostingsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.mockintblock;
+package org.apache.lucene.codecs.mockintblock;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,28 +20,28 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.BlockTermsReader;
+import org.apache.lucene.codecs.BlockTermsWriter;
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.FieldsProducer;
+import org.apache.lucene.codecs.FixedGapTermsIndexReader;
+import org.apache.lucene.codecs.FixedGapTermsIndexWriter;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.PostingsReaderBase;
+import org.apache.lucene.codecs.PostingsWriterBase;
+import org.apache.lucene.codecs.TermsIndexReaderBase;
+import org.apache.lucene.codecs.TermsIndexWriterBase;
+import org.apache.lucene.codecs.intblock.VariableIntBlockIndexInput;
+import org.apache.lucene.codecs.intblock.VariableIntBlockIndexOutput;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsFormat;
+import org.apache.lucene.codecs.sep.IntIndexInput;
+import org.apache.lucene.codecs.sep.IntIndexOutput;
+import org.apache.lucene.codecs.sep.IntStreamFactory;
+import org.apache.lucene.codecs.sep.SepPostingsReader;
+import org.apache.lucene.codecs.sep.SepPostingsWriter;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentWriteState;
 import org.apache.lucene.index.SegmentReadState;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.FieldsProducer;
-import org.apache.lucene.index.codecs.sep.IntStreamFactory;
-import org.apache.lucene.index.codecs.sep.IntIndexInput;
-import org.apache.lucene.index.codecs.sep.IntIndexOutput;
-import org.apache.lucene.index.codecs.sep.SepPostingsReader;
-import org.apache.lucene.index.codecs.sep.SepPostingsWriter;
-import org.apache.lucene.index.codecs.intblock.VariableIntBlockIndexInput;
-import org.apache.lucene.index.codecs.intblock.VariableIntBlockIndexOutput;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsFormat;
-import org.apache.lucene.index.codecs.FixedGapTermsIndexReader;
-import org.apache.lucene.index.codecs.FixedGapTermsIndexWriter;
-import org.apache.lucene.index.codecs.PostingsWriterBase;
-import org.apache.lucene.index.codecs.PostingsReaderBase;
-import org.apache.lucene.index.codecs.BlockTermsReader;
-import org.apache.lucene.index.codecs.BlockTermsWriter;
-import org.apache.lucene.index.codecs.TermsIndexReaderBase;
-import org.apache.lucene.index.codecs.TermsIndexWriterBase;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexInput;
Index: lucene/src/test-framework/java/org/apache/lucene/codecs/mocksep/MockSingleIntIndexOutput.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/codecs/mocksep/MockSingleIntIndexOutput.java	(working copy)
+++ lucene/src/test-framework/java/org/apache/lucene/codecs/mocksep/MockSingleIntIndexOutput.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.mocksep;
+package org.apache.lucene.codecs.mocksep;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -22,7 +22,8 @@
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.util.CodecUtil;
 import org.apache.lucene.util.IOUtils;
-import org.apache.lucene.index.codecs.sep.IntIndexOutput;
+import org.apache.lucene.codecs.sep.IntIndexOutput;
+
 import java.io.IOException;
 
 /** Writes ints directly to the file (not in blocks) as
Index: lucene/src/test-framework/java/org/apache/lucene/codecs/mocksep/MockSepDocValuesFormat.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/codecs/mocksep/MockSepDocValuesFormat.java	(working copy)
+++ lucene/src/test-framework/java/org/apache/lucene/codecs/mocksep/MockSepDocValuesFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.mocksep;
+package org.apache.lucene.codecs.mocksep;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,14 +20,14 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.DocValuesFormat;
+import org.apache.lucene.codecs.PerDocConsumer;
+import org.apache.lucene.codecs.PerDocProducer;
+import org.apache.lucene.codecs.sep.SepDocValuesConsumer;
+import org.apache.lucene.codecs.sep.SepDocValuesProducer;
 import org.apache.lucene.index.PerDocWriteState;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentReadState;
-import org.apache.lucene.index.codecs.DocValuesFormat;
-import org.apache.lucene.index.codecs.PerDocConsumer;
-import org.apache.lucene.index.codecs.PerDocProducer;
-import org.apache.lucene.index.codecs.sep.SepDocValuesConsumer;
-import org.apache.lucene.index.codecs.sep.SepDocValuesProducer;
 import org.apache.lucene.store.Directory;
 
 /**
Index: lucene/src/test-framework/java/org/apache/lucene/codecs/mocksep/MockSepPostingsFormat.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/codecs/mocksep/MockSepPostingsFormat.java	(working copy)
+++ lucene/src/test-framework/java/org/apache/lucene/codecs/mocksep/MockSepPostingsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.mocksep;
+package org.apache.lucene.codecs.mocksep;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,23 +20,23 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.BlockTermsReader;
+import org.apache.lucene.codecs.BlockTermsWriter;
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.FieldsProducer;
+import org.apache.lucene.codecs.FixedGapTermsIndexReader;
+import org.apache.lucene.codecs.FixedGapTermsIndexWriter;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.PostingsReaderBase;
+import org.apache.lucene.codecs.PostingsWriterBase;
+import org.apache.lucene.codecs.TermsIndexReaderBase;
+import org.apache.lucene.codecs.TermsIndexWriterBase;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsFormat;
+import org.apache.lucene.codecs.sep.SepPostingsReader;
+import org.apache.lucene.codecs.sep.SepPostingsWriter;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentWriteState;
 import org.apache.lucene.index.SegmentReadState;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.FieldsProducer;
-import org.apache.lucene.index.codecs.FixedGapTermsIndexReader;
-import org.apache.lucene.index.codecs.FixedGapTermsIndexWriter;
-import org.apache.lucene.index.codecs.PostingsReaderBase;
-import org.apache.lucene.index.codecs.PostingsWriterBase;
-import org.apache.lucene.index.codecs.BlockTermsReader;
-import org.apache.lucene.index.codecs.BlockTermsWriter;
-import org.apache.lucene.index.codecs.TermsIndexReaderBase;
-import org.apache.lucene.index.codecs.TermsIndexWriterBase;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsFormat;
-import org.apache.lucene.index.codecs.sep.SepPostingsWriter;
-import org.apache.lucene.index.codecs.sep.SepPostingsReader;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.util.BytesRef;
 
Index: lucene/src/test-framework/java/org/apache/lucene/codecs/mocksep/MockSingleIntIndexInput.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/codecs/mocksep/MockSingleIntIndexInput.java	(working copy)
+++ lucene/src/test-framework/java/org/apache/lucene/codecs/mocksep/MockSingleIntIndexInput.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.mocksep;
+package org.apache.lucene.codecs.mocksep;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -19,7 +19,7 @@
 
 import java.io.IOException;
 
-import org.apache.lucene.index.codecs.sep.IntIndexInput;
+import org.apache.lucene.codecs.sep.IntIndexInput;
 import org.apache.lucene.store.DataInput;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
Index: lucene/src/test-framework/java/org/apache/lucene/codecs/mocksep/MockSingleIntFactory.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/codecs/mocksep/MockSingleIntFactory.java	(working copy)
+++ lucene/src/test-framework/java/org/apache/lucene/codecs/mocksep/MockSingleIntFactory.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.mocksep;
+package org.apache.lucene.codecs.mocksep;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -19,9 +19,9 @@
 
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
-import org.apache.lucene.index.codecs.sep.IntStreamFactory;
-import org.apache.lucene.index.codecs.sep.IntIndexInput;
-import org.apache.lucene.index.codecs.sep.IntIndexOutput;
+import org.apache.lucene.codecs.sep.IntIndexInput;
+import org.apache.lucene.codecs.sep.IntIndexOutput;
+import org.apache.lucene.codecs.sep.IntStreamFactory;
 
 import java.io.IOException;
 
Index: lucene/src/test-framework/java/org/apache/lucene/codecs/ramonly/RAMOnlyPostingsFormat.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/codecs/ramonly/RAMOnlyPostingsFormat.java	(working copy)
+++ lucene/src/test-framework/java/org/apache/lucene/codecs/ramonly/RAMOnlyPostingsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.ramonly;
+package org.apache.lucene.codecs.ramonly;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -29,6 +29,12 @@
 import java.util.TreeMap;
 import java.util.concurrent.atomic.AtomicInteger;
 
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.FieldsProducer;
+import org.apache.lucene.codecs.PostingsConsumer;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.TermStats;
+import org.apache.lucene.codecs.TermsConsumer;
 import org.apache.lucene.index.DocsAndPositionsEnum;
 import org.apache.lucene.index.DocsEnum;
 import org.apache.lucene.index.FieldInfo;
@@ -39,12 +45,6 @@
 import org.apache.lucene.index.SegmentWriteState;
 import org.apache.lucene.index.Terms;
 import org.apache.lucene.index.TermsEnum;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.FieldsProducer;
-import org.apache.lucene.index.codecs.PostingsConsumer;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.TermStats;
-import org.apache.lucene.index.codecs.TermsConsumer;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IndexInput;
 import org.apache.lucene.store.IndexOutput;
Index: lucene/src/test-framework/java/org/apache/lucene/codecs/nestedpulsing/NestedPulsingPostingsFormat.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/codecs/nestedpulsing/NestedPulsingPostingsFormat.java	(working copy)
+++ lucene/src/test-framework/java/org/apache/lucene/codecs/nestedpulsing/NestedPulsingPostingsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.nestedpulsing;
+package org.apache.lucene.codecs.nestedpulsing;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,20 +20,20 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.BlockTreeTermsReader;
+import org.apache.lucene.codecs.BlockTreeTermsWriter;
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.FieldsProducer;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.PostingsReaderBase;
+import org.apache.lucene.codecs.PostingsWriterBase;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsReader;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsWriter;
+import org.apache.lucene.codecs.pulsing.PulsingPostingsReader;
+import org.apache.lucene.codecs.pulsing.PulsingPostingsWriter;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentReadState;
 import org.apache.lucene.index.SegmentWriteState;
-import org.apache.lucene.index.codecs.BlockTreeTermsReader;
-import org.apache.lucene.index.codecs.BlockTreeTermsWriter;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.FieldsProducer;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.PostingsReaderBase;
-import org.apache.lucene.index.codecs.PostingsWriterBase;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsReader;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsWriter;
-import org.apache.lucene.index.codecs.pulsing.PulsingPostingsReader;
-import org.apache.lucene.index.codecs.pulsing.PulsingPostingsWriter;
 import org.apache.lucene.store.Directory;
 
 /**
Index: lucene/src/test-framework/java/org/apache/lucene/codecs/lucene40ords/Lucene40WithOrds.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/codecs/lucene40ords/Lucene40WithOrds.java	(working copy)
+++ lucene/src/test-framework/java/org/apache/lucene/codecs/lucene40ords/Lucene40WithOrds.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.lucene40ords;
+package org.apache.lucene.codecs.lucene40ords;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,22 +20,22 @@
 import java.io.IOException;
 import java.util.Set;
 
+import org.apache.lucene.codecs.BlockTermsReader;
+import org.apache.lucene.codecs.BlockTermsWriter;
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.FieldsProducer;
+import org.apache.lucene.codecs.FixedGapTermsIndexReader;
+import org.apache.lucene.codecs.FixedGapTermsIndexWriter;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.PostingsReaderBase;
+import org.apache.lucene.codecs.PostingsWriterBase;
+import org.apache.lucene.codecs.TermsIndexReaderBase;
+import org.apache.lucene.codecs.TermsIndexWriterBase;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsReader;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsWriter;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentReadState;
 import org.apache.lucene.index.SegmentWriteState;
-import org.apache.lucene.index.codecs.BlockTermsReader;
-import org.apache.lucene.index.codecs.BlockTermsWriter;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.FieldsProducer;
-import org.apache.lucene.index.codecs.FixedGapTermsIndexReader;
-import org.apache.lucene.index.codecs.FixedGapTermsIndexWriter;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.PostingsReaderBase;
-import org.apache.lucene.index.codecs.PostingsWriterBase;
-import org.apache.lucene.index.codecs.TermsIndexReaderBase;
-import org.apache.lucene.index.codecs.TermsIndexWriterBase;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsReader;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsWriter;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.util.BytesRef;
 
Index: lucene/src/test-framework/java/org/apache/lucene/codecs/mockrandom/MockRandomPostingsFormat.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/codecs/mockrandom/MockRandomPostingsFormat.java	(working copy)
+++ lucene/src/test-framework/java/org/apache/lucene/codecs/mockrandom/MockRandomPostingsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.mockrandom;
+package org.apache.lucene.codecs.mockrandom;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -24,39 +24,39 @@
 import java.util.Random;
 import java.util.Set;
 
+import org.apache.lucene.codecs.BlockTermsReader;
+import org.apache.lucene.codecs.BlockTermsWriter;
+import org.apache.lucene.codecs.BlockTreeTermsReader;
+import org.apache.lucene.codecs.BlockTreeTermsWriter;
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.FieldsProducer;
+import org.apache.lucene.codecs.FixedGapTermsIndexReader;
+import org.apache.lucene.codecs.FixedGapTermsIndexWriter;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.PostingsReaderBase;
+import org.apache.lucene.codecs.PostingsWriterBase;
+import org.apache.lucene.codecs.TermStats;
+import org.apache.lucene.codecs.TermsIndexReaderBase;
+import org.apache.lucene.codecs.TermsIndexWriterBase;
+import org.apache.lucene.codecs.VariableGapTermsIndexReader;
+import org.apache.lucene.codecs.VariableGapTermsIndexWriter;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsReader;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsWriter;
+import org.apache.lucene.codecs.mockintblock.MockFixedIntBlockPostingsFormat;
+import org.apache.lucene.codecs.mockintblock.MockVariableIntBlockPostingsFormat;
+import org.apache.lucene.codecs.mocksep.MockSingleIntFactory;
+import org.apache.lucene.codecs.pulsing.PulsingPostingsReader;
+import org.apache.lucene.codecs.pulsing.PulsingPostingsWriter;
+import org.apache.lucene.codecs.sep.IntIndexInput;
+import org.apache.lucene.codecs.sep.IntIndexOutput;
+import org.apache.lucene.codecs.sep.IntStreamFactory;
+import org.apache.lucene.codecs.sep.SepPostingsReader;
+import org.apache.lucene.codecs.sep.SepPostingsWriter;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.SegmentInfo;
 import org.apache.lucene.index.SegmentReadState;
 import org.apache.lucene.index.SegmentWriteState;
-import org.apache.lucene.index.codecs.BlockTreeTermsReader;
-import org.apache.lucene.index.codecs.BlockTreeTermsWriter;
-import org.apache.lucene.index.codecs.BlockTermsReader;
-import org.apache.lucene.index.codecs.BlockTermsWriter;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.FieldsProducer;
-import org.apache.lucene.index.codecs.FixedGapTermsIndexReader;
-import org.apache.lucene.index.codecs.FixedGapTermsIndexWriter;
-import org.apache.lucene.index.codecs.PostingsReaderBase;
-import org.apache.lucene.index.codecs.PostingsWriterBase;
-import org.apache.lucene.index.codecs.TermStats;
-import org.apache.lucene.index.codecs.TermsIndexReaderBase;
-import org.apache.lucene.index.codecs.TermsIndexWriterBase;
-import org.apache.lucene.index.codecs.VariableGapTermsIndexReader;
-import org.apache.lucene.index.codecs.VariableGapTermsIndexWriter;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsReader;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsWriter;
-import org.apache.lucene.index.codecs.mockintblock.MockFixedIntBlockPostingsFormat;
-import org.apache.lucene.index.codecs.mockintblock.MockVariableIntBlockPostingsFormat;
-import org.apache.lucene.index.codecs.mocksep.MockSingleIntFactory;
-import org.apache.lucene.index.codecs.pulsing.PulsingPostingsReader;
-import org.apache.lucene.index.codecs.pulsing.PulsingPostingsWriter;
-import org.apache.lucene.index.codecs.sep.IntIndexInput;
-import org.apache.lucene.index.codecs.sep.IntIndexOutput;
-import org.apache.lucene.index.codecs.sep.IntStreamFactory;
-import org.apache.lucene.index.codecs.sep.SepPostingsReader;
-import org.apache.lucene.index.codecs.sep.SepPostingsWriter;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexInput;
Index: lucene/src/test-framework/java/org/apache/lucene/codecs/preflexrw/TermInfosWriter.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/codecs/preflexrw/TermInfosWriter.java	(working copy)
+++ lucene/src/test-framework/java/org/apache/lucene/codecs/preflexrw/TermInfosWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.preflexrw;
+package org.apache.lucene.codecs.preflexrw;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -21,10 +21,10 @@
 import java.io.Closeable;
 import java.io.IOException;
 
+import org.apache.lucene.codecs.lucene3x.Lucene3xPostingsFormat;
+import org.apache.lucene.codecs.lucene3x.TermInfo;
 import org.apache.lucene.index.FieldInfos;
 import org.apache.lucene.index.IndexFileNames;
-import org.apache.lucene.index.codecs.lucene3x.Lucene3xPostingsFormat;
-import org.apache.lucene.index.codecs.lucene3x.TermInfo;
 import org.apache.lucene.store.Directory;
 import org.apache.lucene.store.IOContext;
 import org.apache.lucene.store.IndexOutput;
Index: lucene/src/test-framework/java/org/apache/lucene/codecs/preflexrw/PreFlexFieldsWriter.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/codecs/preflexrw/PreFlexFieldsWriter.java	(working copy)
+++ lucene/src/test-framework/java/org/apache/lucene/codecs/preflexrw/PreFlexFieldsWriter.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.preflexrw;
+package org.apache.lucene.codecs.preflexrw;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -20,18 +20,18 @@
 import java.io.IOException;
 import java.util.Comparator;
 
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.PostingsConsumer;
+import org.apache.lucene.codecs.TermStats;
+import org.apache.lucene.codecs.TermsConsumer;
+import org.apache.lucene.codecs.lucene3x.Lucene3xPostingsFormat;
+import org.apache.lucene.codecs.lucene3x.TermInfo;
+import org.apache.lucene.codecs.lucene40.Lucene40SkipListWriter;
 import org.apache.lucene.index.CorruptIndexException;
 import org.apache.lucene.index.FieldInfo;
 import org.apache.lucene.index.FieldInfo.IndexOptions;
 import org.apache.lucene.index.IndexFileNames;
 import org.apache.lucene.index.SegmentWriteState;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.PostingsConsumer;
-import org.apache.lucene.index.codecs.TermStats;
-import org.apache.lucene.index.codecs.TermsConsumer;
-import org.apache.lucene.index.codecs.lucene3x.Lucene3xPostingsFormat;
-import org.apache.lucene.index.codecs.lucene3x.TermInfo;
-import org.apache.lucene.index.codecs.lucene40.Lucene40SkipListWriter;
 import org.apache.lucene.store.IndexOutput;
 import org.apache.lucene.util.BytesRef;
 import org.apache.lucene.util.IOUtils;
Index: lucene/src/test-framework/java/org/apache/lucene/codecs/preflexrw/PreFlexRWCodec.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/codecs/preflexrw/PreFlexRWCodec.java	(working copy)
+++ lucene/src/test-framework/java/org/apache/lucene/codecs/preflexrw/PreFlexRWCodec.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.preflexrw;
+package org.apache.lucene.codecs.preflexrw;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -17,8 +17,8 @@
  * limitations under the License.
  */
 
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.lucene3x.Lucene3xCodec;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.lucene3x.Lucene3xCodec;
 import org.apache.lucene.util.LuceneTestCase;
 
 /**
Index: lucene/src/test-framework/java/org/apache/lucene/codecs/preflexrw/PreFlexRWPostingsFormat.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/codecs/preflexrw/PreFlexRWPostingsFormat.java	(working copy)
+++ lucene/src/test-framework/java/org/apache/lucene/codecs/preflexrw/PreFlexRWPostingsFormat.java	(working copy)
@@ -1,4 +1,4 @@
-package org.apache.lucene.index.codecs.preflexrw;
+package org.apache.lucene.codecs.preflexrw;
 
 /**
  * Licensed to the Apache Software Foundation (ASF) under one or more
@@ -19,12 +19,12 @@
 
 import java.io.IOException;
 
+import org.apache.lucene.codecs.FieldsConsumer;
+import org.apache.lucene.codecs.FieldsProducer;
+import org.apache.lucene.codecs.lucene3x.Lucene3xFields;
+import org.apache.lucene.codecs.lucene3x.Lucene3xPostingsFormat;
 import org.apache.lucene.index.SegmentWriteState;
 import org.apache.lucene.index.SegmentReadState;
-import org.apache.lucene.index.codecs.lucene3x.Lucene3xFields;
-import org.apache.lucene.index.codecs.lucene3x.Lucene3xPostingsFormat;
-import org.apache.lucene.index.codecs.FieldsConsumer;
-import org.apache.lucene.index.codecs.FieldsProducer;
 import org.apache.lucene.util.LuceneTestCase;
 
 /** Codec, only for testing, that can write and read the
Index: lucene/src/test-framework/java/org/apache/lucene/index/codecs/mockintblock/MockFixedIntBlockPostingsFormat.java (deleted)
===================================================================
Index: lucene/src/test-framework/java/org/apache/lucene/index/codecs/mockintblock/MockVariableIntBlockPostingsFormat.java (deleted)
===================================================================
Index: lucene/src/test-framework/java/org/apache/lucene/index/codecs/mocksep/MockSingleIntIndexOutput.java (deleted)
===================================================================
Index: lucene/src/test-framework/java/org/apache/lucene/index/codecs/mocksep/MockSepDocValuesFormat.java (deleted)
===================================================================
Index: lucene/src/test-framework/java/org/apache/lucene/index/codecs/mocksep/MockSepPostingsFormat.java (deleted)
===================================================================
Index: lucene/src/test-framework/java/org/apache/lucene/index/codecs/mocksep/MockSingleIntIndexInput.java (deleted)
===================================================================
Index: lucene/src/test-framework/java/org/apache/lucene/index/codecs/mocksep/MockSingleIntFactory.java (deleted)
===================================================================
Index: lucene/src/test-framework/java/org/apache/lucene/index/codecs/ramonly/RAMOnlyPostingsFormat.java (deleted)
===================================================================
Index: lucene/src/test-framework/java/org/apache/lucene/index/codecs/nestedpulsing/NestedPulsingPostingsFormat.java (deleted)
===================================================================
Index: lucene/src/test-framework/java/org/apache/lucene/index/codecs/lucene40ords/Lucene40WithOrds.java (deleted)
===================================================================
Index: lucene/src/test-framework/java/org/apache/lucene/index/codecs/mockrandom/MockRandomPostingsFormat.java (deleted)
===================================================================
Index: lucene/src/test-framework/java/org/apache/lucene/index/codecs/preflexrw/TermInfosWriter.java (deleted)
===================================================================
Index: lucene/src/test-framework/java/org/apache/lucene/index/codecs/preflexrw/PreFlexFieldsWriter.java (deleted)
===================================================================
Index: lucene/src/test-framework/java/org/apache/lucene/index/codecs/preflexrw/PreFlexRWCodec.java (deleted)
===================================================================
Index: lucene/src/test-framework/java/org/apache/lucene/index/codecs/preflexrw/PreFlexRWPostingsFormat.java (deleted)
===================================================================
Index: lucene/src/test-framework/java/org/apache/lucene/index/RandomIndexWriter.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/index/RandomIndexWriter.java	(revision 1215093)
+++ lucene/src/test-framework/java/org/apache/lucene/index/RandomIndexWriter.java	(working copy)
@@ -24,10 +24,10 @@
 
 import org.apache.lucene.analysis.Analyzer;
 import org.apache.lucene.analysis.MockAnalyzer;
+import org.apache.lucene.codecs.Codec;
 import org.apache.lucene.document.DocValuesField;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.index.IndexWriter; // javadoc
-import org.apache.lucene.index.codecs.Codec;
 import org.apache.lucene.index.DocValues;
 import org.apache.lucene.search.Query;
 import org.apache.lucene.store.Directory;
Index: lucene/src/test-framework/java/org/apache/lucene/index/RandomCodec.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/index/RandomCodec.java	(revision 1215093)
+++ lucene/src/test-framework/java/org/apache/lucene/index/RandomCodec.java	(working copy)
@@ -25,18 +25,18 @@
 import java.util.Map;
 import java.util.Random;
 
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40Codec;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsFormat;
-import org.apache.lucene.index.codecs.lucene40ords.Lucene40WithOrds;
-import org.apache.lucene.index.codecs.memory.MemoryPostingsFormat;
-import org.apache.lucene.index.codecs.mockintblock.MockFixedIntBlockPostingsFormat;
-import org.apache.lucene.index.codecs.mockintblock.MockVariableIntBlockPostingsFormat;
-import org.apache.lucene.index.codecs.mockrandom.MockRandomPostingsFormat;
-import org.apache.lucene.index.codecs.mocksep.MockSepPostingsFormat;
-import org.apache.lucene.index.codecs.nestedpulsing.NestedPulsingPostingsFormat;
-import org.apache.lucene.index.codecs.pulsing.Pulsing40PostingsFormat;
-import org.apache.lucene.index.codecs.simpletext.SimpleTextPostingsFormat;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40Codec;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsFormat;
+import org.apache.lucene.codecs.lucene40ords.Lucene40WithOrds;
+import org.apache.lucene.codecs.memory.MemoryPostingsFormat;
+import org.apache.lucene.codecs.mockintblock.MockFixedIntBlockPostingsFormat;
+import org.apache.lucene.codecs.mockintblock.MockVariableIntBlockPostingsFormat;
+import org.apache.lucene.codecs.mockrandom.MockRandomPostingsFormat;
+import org.apache.lucene.codecs.mocksep.MockSepPostingsFormat;
+import org.apache.lucene.codecs.nestedpulsing.NestedPulsingPostingsFormat;
+import org.apache.lucene.codecs.pulsing.Pulsing40PostingsFormat;
+import org.apache.lucene.codecs.simpletext.SimpleTextPostingsFormat;
 import org.apache.lucene.util._TestUtil;
 
 /**
Index: lucene/src/test-framework/java/org/apache/lucene/util/LuceneTestCase.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/util/LuceneTestCase.java	(revision 1215093)
+++ lucene/src/test-framework/java/org/apache/lucene/util/LuceneTestCase.java	(working copy)
@@ -33,16 +33,16 @@
 import java.util.concurrent.TimeUnit;
 
 import org.apache.lucene.analysis.Analyzer;
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.appending.AppendingCodec;
+import org.apache.lucene.codecs.lucene40.Lucene40Codec;
+import org.apache.lucene.codecs.preflexrw.PreFlexRWCodec;
+import org.apache.lucene.codecs.simpletext.SimpleTextCodec;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.FieldType;
 import org.apache.lucene.index.*;
 import org.apache.lucene.index.IndexReader.ReaderClosedListener;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.appending.AppendingCodec;
-import org.apache.lucene.index.codecs.lucene40.Lucene40Codec;
-import org.apache.lucene.index.codecs.preflexrw.PreFlexRWCodec;
-import org.apache.lucene.index.codecs.simpletext.SimpleTextCodec;
 import org.apache.lucene.search.BooleanQuery;
 import org.apache.lucene.search.FieldCache;
 import org.apache.lucene.search.FieldCache.CacheEntry;
Index: lucene/src/test-framework/java/org/apache/lucene/util/_TestUtil.java
===================================================================
--- lucene/src/test-framework/java/org/apache/lucene/util/_TestUtil.java	(revision 1215093)
+++ lucene/src/test-framework/java/org/apache/lucene/util/_TestUtil.java	(working copy)
@@ -33,6 +33,10 @@
 import java.util.zip.ZipEntry;
 import java.util.zip.ZipFile;
 
+import org.apache.lucene.codecs.Codec;
+import org.apache.lucene.codecs.PostingsFormat;
+import org.apache.lucene.codecs.lucene40.Lucene40Codec;
+import org.apache.lucene.codecs.perfield.PerFieldPostingsFormat;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.index.CheckIndex;
@@ -50,10 +54,6 @@
 import org.apache.lucene.index.Terms;
 import org.apache.lucene.index.TermsEnum;
 import org.apache.lucene.index.TieredMergePolicy;
-import org.apache.lucene.index.codecs.Codec;
-import org.apache.lucene.index.codecs.PostingsFormat;
-import org.apache.lucene.index.codecs.lucene40.Lucene40Codec;
-import org.apache.lucene.index.codecs.perfield.PerFieldPostingsFormat;
 import org.apache.lucene.search.FieldDoc;
 import org.apache.lucene.search.ScoreDoc;
 import org.apache.lucene.search.TopDocs;
Index: lucene/src/test-framework/resources/META-INF/services/org.apache.lucene.index.codecs.Codec (deleted)
===================================================================
Index: lucene/src/test-framework/resources/META-INF/services/org.apache.lucene.index.codecs.PostingsFormat (deleted)
===================================================================
Index: lucene/src/test-framework/resources/META-INF/services/org.apache.lucene.codecs.Codec
===================================================================
--- lucene/src/test-framework/resources/META-INF/services/org.apache.lucene.codecs.Codec	(working copy)
+++ lucene/src/test-framework/resources/META-INF/services/org.apache.lucene.codecs.Codec	(working copy)
@@ -13,4 +13,4 @@
 #  See the License for the specific language governing permissions and
 #  limitations under the License.
 
-org.apache.lucene.index.codecs.preflexrw.PreFlexRWCodec
+org.apache.lucene.codecs.preflexrw.PreFlexRWCodec
Index: lucene/src/test-framework/resources/META-INF/services/org.apache.lucene.codecs.PostingsFormat
===================================================================
--- lucene/src/test-framework/resources/META-INF/services/org.apache.lucene.codecs.PostingsFormat	(working copy)
+++ lucene/src/test-framework/resources/META-INF/services/org.apache.lucene.codecs.PostingsFormat	(working copy)
@@ -13,10 +13,10 @@
 #  See the License for the specific language governing permissions and
 #  limitations under the License.
 
-org.apache.lucene.index.codecs.mockintblock.MockFixedIntBlockPostingsFormat
-org.apache.lucene.index.codecs.mockintblock.MockVariableIntBlockPostingsFormat
-org.apache.lucene.index.codecs.mockrandom.MockRandomPostingsFormat
-org.apache.lucene.index.codecs.mocksep.MockSepPostingsFormat
-org.apache.lucene.index.codecs.nestedpulsing.NestedPulsingPostingsFormat
-org.apache.lucene.index.codecs.ramonly.RAMOnlyPostingsFormat
-org.apache.lucene.index.codecs.lucene40ords.Lucene40WithOrds
+org.apache.lucene.codecs.mockintblock.MockFixedIntBlockPostingsFormat
+org.apache.lucene.codecs.mockintblock.MockVariableIntBlockPostingsFormat
+org.apache.lucene.codecs.mockrandom.MockRandomPostingsFormat
+org.apache.lucene.codecs.mocksep.MockSepPostingsFormat
+org.apache.lucene.codecs.nestedpulsing.NestedPulsingPostingsFormat
+org.apache.lucene.codecs.ramonly.RAMOnlyPostingsFormat
+org.apache.lucene.codecs.lucene40ords.Lucene40WithOrds
Index: lucene/src/resources/META-INF/services/org.apache.lucene.index.codecs.Codec (deleted)
===================================================================
Index: lucene/src/resources/META-INF/services/org.apache.lucene.index.codecs.PostingsFormat (deleted)
===================================================================
Index: lucene/src/resources/META-INF/services/org.apache.lucene.codecs.Codec
===================================================================
--- lucene/src/resources/META-INF/services/org.apache.lucene.codecs.Codec	(working copy)
+++ lucene/src/resources/META-INF/services/org.apache.lucene.codecs.Codec	(working copy)
@@ -13,7 +13,7 @@
 #  See the License for the specific language governing permissions and
 #  limitations under the License.
 
-org.apache.lucene.index.codecs.lucene40.Lucene40Codec
-org.apache.lucene.index.codecs.lucene3x.Lucene3xCodec
-org.apache.lucene.index.codecs.simpletext.SimpleTextCodec
-org.apache.lucene.index.codecs.appending.AppendingCodec
+org.apache.lucene.codecs.lucene40.Lucene40Codec
+org.apache.lucene.codecs.lucene3x.Lucene3xCodec
+org.apache.lucene.codecs.simpletext.SimpleTextCodec
+org.apache.lucene.codecs.appending.AppendingCodec
Index: lucene/src/resources/META-INF/services/org.apache.lucene.codecs.PostingsFormat
===================================================================
--- lucene/src/resources/META-INF/services/org.apache.lucene.codecs.PostingsFormat	(working copy)
+++ lucene/src/resources/META-INF/services/org.apache.lucene.codecs.PostingsFormat	(working copy)
@@ -13,7 +13,7 @@
 #  See the License for the specific language governing permissions and
 #  limitations under the License.
 
-org.apache.lucene.index.codecs.lucene40.Lucene40PostingsFormat
-org.apache.lucene.index.codecs.pulsing.Pulsing40PostingsFormat
-org.apache.lucene.index.codecs.simpletext.SimpleTextPostingsFormat
-org.apache.lucene.index.codecs.memory.MemoryPostingsFormat
+org.apache.lucene.codecs.lucene40.Lucene40PostingsFormat
+org.apache.lucene.codecs.pulsing.Pulsing40PostingsFormat
+org.apache.lucene.codecs.simpletext.SimpleTextPostingsFormat
+org.apache.lucene.codecs.memory.MemoryPostingsFormat
Index: lucene/contrib/memory/src/test/org/apache/lucene/index/memory/MemoryIndexTest.java
===================================================================
--- lucene/contrib/memory/src/test/org/apache/lucene/index/memory/MemoryIndexTest.java	(revision 1215093)
+++ lucene/contrib/memory/src/test/org/apache/lucene/index/memory/MemoryIndexTest.java	(working copy)
@@ -29,6 +29,7 @@
 import org.apache.lucene.analysis.MockAnalyzer;
 import org.apache.lucene.analysis.MockTokenFilter;
 import org.apache.lucene.analysis.MockTokenizer;
+import org.apache.lucene.codecs.lucene40.Lucene40PostingsFormat;
 import org.apache.lucene.document.Document;
 import org.apache.lucene.document.Field;
 import org.apache.lucene.document.TextField;
@@ -38,7 +39,6 @@
 import org.apache.lucene.index.IndexWriter;
 import org.apache.lucene.index.IndexWriterConfig;
 import org.apache.lucene.index.TermsEnum;
-import org.apache.lucene.index.codecs.lucene40.Lucene40PostingsFormat;
 import org.apache.lucene.queryparser.classic.QueryParser;
 import org.apache.lucene.search.DocIdSetIterator;
 import org.apache.lucene.search.IndexSearcher;
Index: dev-tools/idea/.idea/compiler.xml
===================================================================
--- dev-tools/idea/.idea/compiler.xml	(revision 1215093)
+++ dev-tools/idea/.idea/compiler.xml	(working copy)
@@ -36,7 +36,7 @@
       <entry name="?*.xsl" />
       <entry name="?*.vm" />
       <entry name="?*.zip" />
-      <entry name="org.apache.lucene.index.codecs*" />
+      <entry name="org.apache.lucene.codecs*" />
       <entry name="README*" />
       <entry name="[a-zA-Z][a-zA-Z]" />
       <entry name="[a-zA-Z][a-zA-Z]-[a-zA-Z][a-zA-Z]" />
