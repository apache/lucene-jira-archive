Index: IndexWriter.java
===================================================================
RCS file: /home/cvspublic/jakarta-lucene/src/java/org/apache/lucene/index/IndexWriter.java,v
retrieving revision 1.15
diff -u -r1.15 IndexWriter.java
--- IndexWriter.java	15 Sep 2003 12:40:23 -0000	1.15
+++ IndexWriter.java	20 Sep 2003 12:22:13 -0000
@@ -249,6 +249,16 @@
    *
    * <p>This must never be less than 2.  The default value is 10.*/
   public int mergeFactor = 10;
+  
+  /** Determines the minimal number of documents required before merging
+   * and starting a new Segment. Since Documents are merged in a 
+   * {@link org.apache.lucene.store.RAMDirectory}, large value gives faster 
+   * indexing. At the same time mergeFactor limits the number of files open in 
+   * a FSDirectory.
+   * 
+   * <p> The default value is 10.*/
+  public int minMergeDocs = 10;
+  
 
   /** Determines the largest number of documents ever merged by addDocument().
    * Small values (e.g., less than 10,000) are best for interactive indexing,
@@ -316,7 +326,7 @@
 
   /** Incremental segment merger.  */
   private final void maybeMergeSegments() throws IOException {
-    long targetMergeDocs = mergeFactor;
+    long targetMergeDocs = minMergeDocs;
     while (targetMergeDocs <= maxMergeDocs) {
       // find segments smaller than current target size
       int minSegment = segmentInfos.size();
