Index: lucene/core/src/java/org/apache/lucene/store/MMapDirectory.java
===================================================================
--- lucene/core/src/java/org/apache/lucene/store/MMapDirectory.java	(revision 1687579)
+++ lucene/core/src/java/org/apache/lucene/store/MMapDirectory.java	(working copy)
@@ -167,7 +167,9 @@
   
   private static boolean checkUnmapSupported() {
     try {
-      Class.forName("java.nio.DirectByteBuffer").getMethod("cleaner");
+      Class<?> clazz = Class.forName("java.nio.DirectByteBuffer");
+      Method method = clazz.getMethod("cleaner");
+      method.setAccessible(true);
       return true;
     } catch (Exception e) {
       return false;
