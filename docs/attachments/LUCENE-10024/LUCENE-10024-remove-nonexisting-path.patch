diff --git a/lucene/luke/src/java/org/apache/lucene/luke/app/IndexHandler.java b/lucene/luke/src/java/org/apache/lucene/luke/app/IndexHandler.java
index 4f1ee8feaab..46e2e3de4d4 100644
--- a/lucene/luke/src/java/org/apache/lucene/luke/app/IndexHandler.java
+++ b/lucene/luke/src/java/org/apache/lucene/luke/app/IndexHandler.java
@@ -17,11 +17,13 @@
 
 package org.apache.lucene.luke.app;
 
+import java.io.IOException;
 import java.lang.invoke.MethodHandles;
 import java.nio.file.NoSuchFileException;
 import java.util.Objects;
 import org.apache.logging.log4j.Logger;
 import org.apache.lucene.index.IndexReader;
+import org.apache.lucene.luke.app.desktop.PreferencesFactory;
 import org.apache.lucene.luke.app.desktop.util.MessageUtils;
 import org.apache.lucene.luke.models.LukeException;
 import org.apache.lucene.luke.models.util.IndexUtils;
@@ -74,6 +76,12 @@ public final class IndexHandler extends AbstractHandler<IndexObserver> {
       reader = IndexUtils.openIndex(indexPath, dirImpl);
     } catch (NoSuchFileException e) {
       log.error("Error opening index", e);
+      try {
+        // remove the non-existing index path from history.
+        PreferencesFactory.getInstance().removeHistory(indexPath);
+      } catch (IOException ioe) {
+        log.error("Preference file is deleted?", ioe);
+      }
       throw new LukeException(
           MessageUtils.getLocalizedMessage(
               "openindex.message.index_path_does_not_exist", indexPath),
diff --git a/lucene/luke/src/java/org/apache/lucene/luke/app/desktop/Preferences.java b/lucene/luke/src/java/org/apache/lucene/luke/app/desktop/Preferences.java
index 982e4d858d5..0ead39d5109 100644
--- a/lucene/luke/src/java/org/apache/lucene/luke/app/desktop/Preferences.java
+++ b/lucene/luke/src/java/org/apache/lucene/luke/app/desktop/Preferences.java
@@ -28,6 +28,8 @@ public interface Preferences {
 
   void addHistory(String indexPath) throws IOException;
 
+  void removeHistory(String indexPath) throws IOException;
+
   boolean isReadOnly();
 
   String getDirImpl();
diff --git a/lucene/luke/src/java/org/apache/lucene/luke/app/desktop/PreferencesImpl.java b/lucene/luke/src/java/org/apache/lucene/luke/app/desktop/PreferencesImpl.java
index 4f94c7b9e8c..b8f67b652df 100644
--- a/lucene/luke/src/java/org/apache/lucene/luke/app/desktop/PreferencesImpl.java
+++ b/lucene/luke/src/java/org/apache/lucene/luke/app/desktop/PreferencesImpl.java
@@ -76,6 +76,14 @@ public final class PreferencesImpl implements Preferences {
     saveHistory();
   }
 
+  @Override
+  public void removeHistory(String indexPath) throws IOException {
+    if (history.contains(indexPath)) {
+      history.remove(indexPath);
+      saveHistory();
+    }
+  }
+
   private void saveHistory() throws IOException {
     Files.write(historyFile(), history);
   }
