JUnit version 4.10
Loaded codec: 'Lucene40': org.apache.lucene.codecs.lucene40.Lucene40Codec
Loaded codec: 'SimpleText': org.apache.lucene.codecs.simpletext.SimpleTextCodec
Loaded codec: 'Appending': org.apache.lucene.codecs.appending.AppendingCodec
Loaded postingsFormat: 'MockFixedIntBlock': org.apache.lucene.codecs.mockintblock.MockFixedIntBlockPostingsFormat
Loaded postingsFormat: 'MockVariableIntBlock': org.apache.lucene.codecs.mockintblock.MockVariableIntBlockPostingsFormat
Loaded postingsFormat: 'MockRandom': org.apache.lucene.codecs.mockrandom.MockRandomPostingsFormat
Loaded postingsFormat: 'MockSep': org.apache.lucene.codecs.mocksep.MockSepPostingsFormat
Loaded postingsFormat: 'NestedPulsing': org.apache.lucene.codecs.nestedpulsing.NestedPulsingPostingsFormat
Loaded postingsFormat: 'RAMOnly': org.apache.lucene.codecs.ramonly.RAMOnlyPostingsFormat
Loaded postingsFormat: 'Lucene40WithOrds': org.apache.lucene.codecs.lucene40ords.Lucene40WithOrds
Loaded postingsFormat: 'Lucene40': org.apache.lucene.codecs.lucene40.Lucene40PostingsFormat
Loaded postingsFormat: 'Pulsing40': org.apache.lucene.codecs.pulsing.Pulsing40PostingsFormat
Loaded postingsFormat: 'SimpleText': org.apache.lucene.codecs.simpletext.SimpleTextPostingsFormat
Loaded postingsFormat: 'Memory': org.apache.lucene.codecs.memory.MemoryPostingsFormat
.IFD 0 [Tue Jun 19 13:06:24 ART 2012; main]: init: current segments file is "null"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@38a663a4
IFD 0 [Tue Jun 19 13:06:24 ART 2012; main]: now checkpoint "" [0 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; main]: init: create=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; main]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=148
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1d7d6ac2
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=31, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=91.9130859375, floorSegmentMB=0.2138671875, forceMergeDeletesPctAllowed=13.143017014260401, segmentsPerTier=19.0, useCompoundFile=false, noCFSRatio=0.4373407965499324
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@271353e6
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@65e93514
perThreadHardLimitMB=1945

TEST: LineFileDocs: stream skip to fp=4223386 on open

TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]:   index before flush 
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@249c38d5 minGen=9223372036854775807 packetCount=0
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: startCommit index= changeCount=1
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: done all syncs: []
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: commit: pendingCommit != null
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: commit: wrote segments file "segments_1"
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: now checkpoint "" [0 segments ; isCommit = true]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: commit: done

TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]:   index before flush 
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@249c38d5 minGen=9223372036854775807 packetCount=0
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: commit: done

TEST: Thread-1: now add

TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]:   index before flush 
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@249c38d5 minGen=9223372036854775807 packetCount=0
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: commit: done

TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]:   index before flush 
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@249c38d5 minGen=9223372036854775807 packetCount=0
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: commit: done

TEST: Thread-2: now add

TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]:   index before flush 
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@249c38d5 minGen=9223372036854775807 packetCount=0
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: commit: done

TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]:   index before flush 
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false

TEST: Thread-1: now rollback
DWFC 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: addFlushableState DocumentsWriterPerThread [pendingDeletes=gen=0, segment=_0, aborting=false, numDocsInRAM=1, deleteQueue=DWDQ: [ generation: 5 ]]
DWFC 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: addFlushableState DocumentsWriterPerThread [pendingDeletes=gen=0, segment=_1, aborting=false, numDocsInRAM=1, deleteQueue=DWDQ: [ generation: 5 ]]
DWPT 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: flush postings as segment _0 numDocs=1
DWPT 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: new segment has 0 deleted docs
DWPT 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: new segment has vectors; norms; docValues; prox; freqs
DWPT 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: flushedFiles=[_0_2.len, _0_1.len, _0.inf, _0.vec, _0_5.dv, _0.pst, _0.fld]
DWPT 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: flushed codec=SimpleText
DWPT 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: flushed: segment=_0 ramUsed=0.256 MB newFlushedSize(includes docstores)=0.009 MB docs/MB=108.358
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: Thread-3: publishFlushedSegment seg-private deletes=null
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: publishFlushedSegment
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: publish sets newSegment delGen=6 seg=_0(5.0):C1
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1" [1 segments ; isCommit = false]
DWPT 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: flush postings as segment _1 numDocs=1
DWPT 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: new segment has 0 deleted docs
DWPT 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: new segment has vectors; norms; docValues; prox; freqs
DWPT 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: flushedFiles=[_1_1.len, _1.pst, _1.fld, _1.vec, _1_5.dv, _1.inf, _1_2.len]
DWPT 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: flushed codec=SimpleText
DWPT 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: flushed: segment=_1 ramUsed=0.129 MB newFlushedSize(includes docstores)=0.018 MB docs/MB=57.103
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: Thread-3: publishFlushedSegment seg-private deletes=null
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: publishFlushedSegment
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: publish sets newSegment delGen=7 seg=_1(5.0):C1
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@249c38d5 minGen=6 packetCount=0
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
TMP 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: findMerges: 2 segments
TMP 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]:   seg=_1(5.0):C1 size=0.017 MB [floored]
TMP 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]:   seg=_0(5.0):C1 size=0.009 MB [floored]
TMP 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]:   allowedSegmentCount=1 vs count=2 (eligible count=2) tooBigCount=0
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: startCommit index=_0(5.0):C1 _1(5.0):C1 changeCount=5
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: done all syncs: [_1_1.len, _1.fld, _0_1.len, _1.inf, _0_5.dv, _0.pst, _0.fld, _1.pst, _0_2.len, _1.vec, _1.si, _1_5.dv, _0.inf, _0.vec, _0.si, _1_2.len]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: commit: pendingCommit != null
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: commit: wrote segments file "segments_2"
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = true]
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: deleteCommits: now decRef commit "segments_1"
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: delete "segments_1"
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: commit: done

TEST: Thread-3: now add

TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: rollback

TEST: Thread-4: now commit

TEST: Thread-4: now add
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: all running merges have aborted

TEST: Thread-5: now commit
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: rollback: done finish merges

TEST: Thread-5: now commit

TEST: Thread-5: now add

TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1

TEST: Thread-6: now commit

TEST: Thread-6: now add
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: abort
DWPT 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: done abort
DWPT 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7574cada
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=512
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6acff4eb
readerTermsIndexDivisor=1
termIndexInterval=121
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=45, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7ad8a715
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@25c192b5
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@12911b4f
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=512
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5e89583a
readerTermsIndexDivisor=1
termIndexInterval=121
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=45, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@aff7853
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@a3496c9
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@50dc907a
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=512
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4be95777
readerTermsIndexDivisor=1
termIndexInterval=121
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=45, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@446d6c90
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6bf28508
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@66a5de12
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=512
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@339699dd
readerTermsIndexDivisor=1
termIndexInterval=121
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=45, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@644f96a0
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@252a15d3
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3f987899
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=512
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@235343c2
readerTermsIndexDivisor=1
termIndexInterval=121
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=45, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2f8587ac
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@678e4593
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@9896c52
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=512
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7d9d067f
readerTermsIndexDivisor=1
termIndexInterval=121
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=45, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5015bc46
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@42fbc0bd
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@20e28e2
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=699
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@579f99ae
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=570241314, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2f229b73
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@90bb332
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@5f219c41 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now add
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@19adc78d
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=699
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2a9f5bd8
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=570241314, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4446d7c4
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6ffa7e1
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@7a66a85d minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now add
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7a2b6ed5
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=699
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6e0e0380
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=570241314, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5a0800f2
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@43763e0b
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@7e366c7 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now add
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@514ad15
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=699
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6f25e5eb
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=570241314, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2119e04f
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@29d57383
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@7c92b2e9 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now add
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3a349072
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=699
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@237c8a9c
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=570241314, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@457019f7
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@42b8cabe
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@7206a22a minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now add
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5c7c7bc
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=699
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@63d625cf
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=570241314, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4c6c3e
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@19565a99
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@7455ffcd minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:24 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now add
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@463b3d1c
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=324
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5e5a4e0f
readerTermsIndexDivisor=2
termIndexInterval=76
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=242616262, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7abaeb2d
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5a6164e
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@5b025dc7 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2f6d549e
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=324
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@758f1c22
readerTermsIndexDivisor=2
termIndexInterval=76
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=242616262, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@680387a
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4bfbd4eb
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@257b746 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2933c2d2
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=324
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@56488f87
readerTermsIndexDivisor=2
termIndexInterval=76
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=242616262, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@35c71452
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@21072f13
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@5ea39955 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@24960b61
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=324
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@433245d6
readerTermsIndexDivisor=2
termIndexInterval=76
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=242616262, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@19870711
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6fe0fa2e
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@1b491b64 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4c4db602
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=324
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5674fb70
readerTermsIndexDivisor=2
termIndexInterval=76
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=242616262, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1a27a268
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@20176742
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@607c2e83 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@23b3d342
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=324
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@39c07f3a
readerTermsIndexDivisor=2
termIndexInterval=76
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=242616262, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@ce0d675
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7d1fa1ed
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@27c00ec8 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3c164d2
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@74b01999
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=33, maxMergedSegmentMB=84.251953125, floorSegmentMB=0.6962890625, forceMergeDeletesPctAllowed=0.9052372467090852, segmentsPerTier=17.0, useCompoundFile=false, noCFSRatio=0.6408115479462534
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5560c7a8
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@44d41262
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7aab3a42
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@55c9be00
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=33, maxMergedSegmentMB=84.251953125, floorSegmentMB=0.6962890625, forceMergeDeletesPctAllowed=0.9052372467090852, segmentsPerTier=17.0, useCompoundFile=false, noCFSRatio=0.6408115479462534
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2fd91e00
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5740aa8a
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3a57aa
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@244071d
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=33, maxMergedSegmentMB=84.251953125, floorSegmentMB=0.6962890625, forceMergeDeletesPctAllowed=0.9052372467090852, segmentsPerTier=17.0, useCompoundFile=false, noCFSRatio=0.6408115479462534
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@402f0214
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4e318ff7
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@8d171b2
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@628cb0d2
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=33, maxMergedSegmentMB=84.251953125, floorSegmentMB=0.6962890625, forceMergeDeletesPctAllowed=0.9052372467090852, segmentsPerTier=17.0, useCompoundFile=false, noCFSRatio=0.6408115479462534
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2acdd8a
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@23049065
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@515fccae
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@d09644a
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=33, maxMergedSegmentMB=84.251953125, floorSegmentMB=0.6962890625, forceMergeDeletesPctAllowed=0.9052372467090852, segmentsPerTier=17.0, useCompoundFile=false, noCFSRatio=0.6408115479462534
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@63973cf5
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5e232be7
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@565087b0
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@37c1e7d
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=33, maxMergedSegmentMB=84.251953125, floorSegmentMB=0.6962890625, forceMergeDeletesPctAllowed=0.9052372467090852, segmentsPerTier=17.0, useCompoundFile=false, noCFSRatio=0.6408115479462534
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@49b5a254
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@33b45e9a
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@44eaddea
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=687
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3309b429
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=42, maxMergeAtOnceExplicit=14, maxMergedSegmentMB=63.5205078125, floorSegmentMB=1.4296875, forceMergeDeletesPctAllowed=20.837460240044024, segmentsPerTier=4.0, useCompoundFile=false, noCFSRatio=0.1960278833129909
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@421309ec
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6ff086d7
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2a4a89a
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=687
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1467056e
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=42, maxMergeAtOnceExplicit=14, maxMergedSegmentMB=63.5205078125, floorSegmentMB=1.4296875, forceMergeDeletesPctAllowed=20.837460240044024, segmentsPerTier=4.0, useCompoundFile=false, noCFSRatio=0.1960278833129909
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@77958338
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@78da0edd
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@78a1c627
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=687
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@473dd96
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=42, maxMergeAtOnceExplicit=14, maxMergedSegmentMB=63.5205078125, floorSegmentMB=1.4296875, forceMergeDeletesPctAllowed=20.837460240044024, segmentsPerTier=4.0, useCompoundFile=false, noCFSRatio=0.1960278833129909
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@52d8a522
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@d4185ac
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@56377813
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=687
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@ee8bd13
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=42, maxMergeAtOnceExplicit=14, maxMergedSegmentMB=63.5205078125, floorSegmentMB=1.4296875, forceMergeDeletesPctAllowed=20.837460240044024, segmentsPerTier=4.0, useCompoundFile=false, noCFSRatio=0.1960278833129909
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@51d5320a
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3c8587f
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@c483f6c
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=687
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6dabfaa0
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=42, maxMergeAtOnceExplicit=14, maxMergedSegmentMB=63.5205078125, floorSegmentMB=1.4296875, forceMergeDeletesPctAllowed=20.837460240044024, segmentsPerTier=4.0, useCompoundFile=false, noCFSRatio=0.1960278833129909
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@35d356a0
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@45dc3dfb
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2fdc516f
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=687
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@188ce6aa
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=42, maxMergeAtOnceExplicit=14, maxMergedSegmentMB=63.5205078125, floorSegmentMB=1.4296875, forceMergeDeletesPctAllowed=20.837460240044024, segmentsPerTier=4.0, useCompoundFile=false, noCFSRatio=0.1960278833129909
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4a7baf7d
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7e3e5dbe
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@55c59c26
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2d062bb6
readerTermsIndexDivisor=2
termIndexInterval=109
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=38, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@701fd0d1
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@38c682d9
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@512dc496
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=574
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7a73ad16
readerTermsIndexDivisor=2
termIndexInterval=12
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=152194569, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4068be28
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1c9c5521
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6dbf99d8
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@39c9eaf8
readerTermsIndexDivisor=2
termIndexInterval=109
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=38, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@77615d6b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@193c5908
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@42e30beb
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=574
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@23aead2b
readerTermsIndexDivisor=2
termIndexInterval=12
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=152194569, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@20eaf45a
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@21505198
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6bfbe7bb
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5a292b29
readerTermsIndexDivisor=2
termIndexInterval=109
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=38, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@44d0befd
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@64aaf756
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2cae2429
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=574
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1195a679
readerTermsIndexDivisor=2
termIndexInterval=12
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=152194569, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@77e45af3
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@310f4503
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@a7ab0f7
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@56a1fd57
readerTermsIndexDivisor=2
termIndexInterval=109
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=38, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@24ff8730
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@404734a
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4e6dd138
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=574
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@62715cb7
readerTermsIndexDivisor=2
termIndexInterval=12
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=152194569, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7e24df
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@59a6acb9
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@c325b
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@e8d80c3
readerTermsIndexDivisor=2
termIndexInterval=109
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=38, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6c0089ab
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@174e70f2
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@44d74990
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=574
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2548e059
readerTermsIndexDivisor=2
termIndexInterval=12
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=152194569, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5381062e
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3bbce0d6
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@56e43ef
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@60c90207
readerTermsIndexDivisor=2
termIndexInterval=109
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=38, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2ca44b35
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@56459b78
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@607c5f1a
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=574
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@71e2cfdc
readerTermsIndexDivisor=2
termIndexInterval=12
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=152194569, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@61bcaeed
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2a807bbc
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@140f3941
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=162
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1a907c4e
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=45.0849609375, floorSegmentMB=1.1689453125, forceMergeDeletesPctAllowed=3.4372533465377995, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.8080746453413767
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3d0f282
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@ae136c3
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@37b79249
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=613
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4fe596de
readerTermsIndexDivisor=3
termIndexInterval=44
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@6a13f1cc
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4367be7c
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@500ae176
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6b2fd0b3
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=131
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4bdacf2
readerTermsIndexDivisor=3
termIndexInterval=112
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=14, maxMergedSegmentMB=31.2177734375, floorSegmentMB=1.576171875, forceMergeDeletesPctAllowed=2.172785452727343, segmentsPerTier=24.0, useCompoundFile=true, noCFSRatio=0.8082510124702271
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@40a5464c
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@22aa48bc
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@30a7a93a
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=704
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@231ae15a
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=21, maxMergeAtOnceExplicit=13, maxMergedSegmentMB=15.423828125, floorSegmentMB=0.25390625, forceMergeDeletesPctAllowed=1.79045094607576, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.5682332636122339
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@39c0edb7
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2936a700
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@77b1a17a
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=453
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1594f8c
readerTermsIndexDivisor=1
termIndexInterval=122
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=13, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=79.966796875, floorSegmentMB=2.0224609375, forceMergeDeletesPctAllowed=18.83338798031476, segmentsPerTier=10.0, useCompoundFile=true, noCFSRatio=0.3604327107646016
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@e757105
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@404f06ad
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now commit

TEST: Thread-1: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5700edc0
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=162
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@68bc1ac2
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=45.0849609375, floorSegmentMB=1.1689453125, forceMergeDeletesPctAllowed=3.4372533465377995, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.8080746453413767
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1580ec46
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4317f2b1
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@366a88bb
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=613
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6ff64801
readerTermsIndexDivisor=3
termIndexInterval=44
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@11f17314
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2ba2f40
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@d741426
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@41a881cc
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=131
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@33557fe4
readerTermsIndexDivisor=3
termIndexInterval=112
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=14, maxMergedSegmentMB=31.2177734375, floorSegmentMB=1.576171875, forceMergeDeletesPctAllowed=2.172785452727343, segmentsPerTier=24.0, useCompoundFile=true, noCFSRatio=0.8082510124702271
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@323f6c10
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@61cfa835
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7bd94799
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=704
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4d6c6310
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=21, maxMergeAtOnceExplicit=13, maxMergedSegmentMB=15.423828125, floorSegmentMB=0.25390625, forceMergeDeletesPctAllowed=1.79045094607576, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.5682332636122339
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6dbd726
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4b0a034e
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1fdb5fac
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=453
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@47dce809
readerTermsIndexDivisor=1
termIndexInterval=122
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=13, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=79.966796875, floorSegmentMB=2.0224609375, forceMergeDeletesPctAllowed=18.83338798031476, segmentsPerTier=10.0, useCompoundFile=true, noCFSRatio=0.3604327107646016
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7805cbba
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@44825de5
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now commit

TEST: Thread-2: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@75cc9008
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=162
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@147264b1
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=45.0849609375, floorSegmentMB=1.1689453125, forceMergeDeletesPctAllowed=3.4372533465377995, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.8080746453413767
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6230aaf3
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@692769e1
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2881460c
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=613
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@37cb63fd
readerTermsIndexDivisor=3
termIndexInterval=44
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@a1193a9
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7f54169
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@76995893
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5c7b0aef
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=131
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@149eef3
readerTermsIndexDivisor=3
termIndexInterval=112
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=14, maxMergedSegmentMB=31.2177734375, floorSegmentMB=1.576171875, forceMergeDeletesPctAllowed=2.172785452727343, segmentsPerTier=24.0, useCompoundFile=true, noCFSRatio=0.8082510124702271
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1ce6942e
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@660a66d4
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7d3e3b95
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=704
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2445c06d
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=21, maxMergeAtOnceExplicit=13, maxMergedSegmentMB=15.423828125, floorSegmentMB=0.25390625, forceMergeDeletesPctAllowed=1.79045094607576, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.5682332636122339
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5f5c46b5
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@232645fc
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@146e2667
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=453
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@71a4e6f3
readerTermsIndexDivisor=1
termIndexInterval=122
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=13, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=79.966796875, floorSegmentMB=2.0224609375, forceMergeDeletesPctAllowed=18.83338798031476, segmentsPerTier=10.0, useCompoundFile=true, noCFSRatio=0.3604327107646016
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@13695cf
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@26a549a8
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now commit

TEST: Thread-3: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@23979119
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=162
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@a59b536
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=45.0849609375, floorSegmentMB=1.1689453125, forceMergeDeletesPctAllowed=3.4372533465377995, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.8080746453413767
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@787f189
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6e025d3b
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2c5ac6ce
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=613
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2ec0f87e
readerTermsIndexDivisor=3
termIndexInterval=44
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@7efa302c
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5b70d9d4
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4ded1c32
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2707f992
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=131
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@22b923be
readerTermsIndexDivisor=3
termIndexInterval=112
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=14, maxMergedSegmentMB=31.2177734375, floorSegmentMB=1.576171875, forceMergeDeletesPctAllowed=2.172785452727343, segmentsPerTier=24.0, useCompoundFile=true, noCFSRatio=0.8082510124702271
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@28d9a0c1
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@67c8f3da
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@166068b6
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=704
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@75a713db
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=21, maxMergeAtOnceExplicit=13, maxMergedSegmentMB=15.423828125, floorSegmentMB=0.25390625, forceMergeDeletesPctAllowed=1.79045094607576, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.5682332636122339
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2c08cb35
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@75551b28
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1bf12809
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=453
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@22d330da
readerTermsIndexDivisor=1
termIndexInterval=122
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=13, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=79.966796875, floorSegmentMB=2.0224609375, forceMergeDeletesPctAllowed=18.83338798031476, segmentsPerTier=10.0, useCompoundFile=true, noCFSRatio=0.3604327107646016
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@572c4a12
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1cb31074
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now commit

TEST: Thread-4: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6e67d5fe
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=162
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@117a1ad3
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=45.0849609375, floorSegmentMB=1.1689453125, forceMergeDeletesPctAllowed=3.4372533465377995, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.8080746453413767
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@67771b9b
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3cb5922e
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5cdd29
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=613
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7ec0762
readerTermsIndexDivisor=3
termIndexInterval=44
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@18d8b6fe
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3bd5ea70
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@59127dc0
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7fe0bd7c
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=131
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@65d7a36e
readerTermsIndexDivisor=3
termIndexInterval=112
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=14, maxMergedSegmentMB=31.2177734375, floorSegmentMB=1.576171875, forceMergeDeletesPctAllowed=2.172785452727343, segmentsPerTier=24.0, useCompoundFile=true, noCFSRatio=0.8082510124702271
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@302abefe
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@46612e66
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@f1abb1c
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=704
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@62eade0
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=21, maxMergeAtOnceExplicit=13, maxMergedSegmentMB=15.423828125, floorSegmentMB=0.25390625, forceMergeDeletesPctAllowed=1.79045094607576, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.5682332636122339
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6299504b
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3f669e7f
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3eaad730
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=453
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@498fb7b1
readerTermsIndexDivisor=1
termIndexInterval=122
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=13, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=79.966796875, floorSegmentMB=2.0224609375, forceMergeDeletesPctAllowed=18.83338798031476, segmentsPerTier=10.0, useCompoundFile=true, noCFSRatio=0.3604327107646016
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7a64eb31
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@778d1cbd
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now commit

TEST: Thread-5: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@283ba2a0
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=162
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@fa28023
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=45.0849609375, floorSegmentMB=1.1689453125, forceMergeDeletesPctAllowed=3.4372533465377995, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.8080746453413767
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@758a81d9
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@585309d8
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6c616fde
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=613
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@24518fb9
readerTermsIndexDivisor=3
termIndexInterval=44
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@66b2cd4f
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@64c53235
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4e636942
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7c5cc270
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=131
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@fe63af2
readerTermsIndexDivisor=3
termIndexInterval=112
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=14, maxMergedSegmentMB=31.2177734375, floorSegmentMB=1.576171875, forceMergeDeletesPctAllowed=2.172785452727343, segmentsPerTier=24.0, useCompoundFile=true, noCFSRatio=0.8082510124702271
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5427ee05
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@97bb56d
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2451c70d
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=704
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@21a6699c
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=21, maxMergeAtOnceExplicit=13, maxMergedSegmentMB=15.423828125, floorSegmentMB=0.25390625, forceMergeDeletesPctAllowed=1.79045094607576, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.5682332636122339
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@345f9206
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6e6be2c6
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@103b813c
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=453
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@757ff1ad
readerTermsIndexDivisor=1
termIndexInterval=122
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=13, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=79.966796875, floorSegmentMB=2.0224609375, forceMergeDeletesPctAllowed=18.83338798031476, segmentsPerTier=10.0, useCompoundFile=true, noCFSRatio=0.3604327107646016
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@22d3d11f
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@465c16
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now commit

TEST: Thread-6: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5bbe4713
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=721
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7b63e1f
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=25, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=96.021484375, floorSegmentMB=1.318359375, forceMergeDeletesPctAllowed=26.667547170825546, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.3750199635074267
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4da8692d
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6b91312f
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now add

TEST: Thread-1: now commit

TEST: Thread-1: now commit

TEST: Thread-1: now commit

TEST: Thread-1: now commit

TEST: Thread-1: now add

TEST: Thread-1: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@675f9d52
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=721
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6d392fa5
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=25, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=96.021484375, floorSegmentMB=1.318359375, forceMergeDeletesPctAllowed=26.667547170825546, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.3750199635074267
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@456731a8
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@79ed3030
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now add

TEST: Thread-2: now commit

TEST: Thread-2: now commit

TEST: Thread-2: now commit

TEST: Thread-2: now commit

TEST: Thread-2: now add

TEST: Thread-2: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@9a0e408
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=721
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@422cac21
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=25, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=96.021484375, floorSegmentMB=1.318359375, forceMergeDeletesPctAllowed=26.667547170825546, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.3750199635074267
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2d8cc78
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6757dbbd
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now add

TEST: Thread-3: now commit

TEST: Thread-3: now commit

TEST: Thread-3: now commit

TEST: Thread-3: now commit

TEST: Thread-3: now add

TEST: Thread-3: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@46e5dce1
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=721
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7a783e0d
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=25, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=96.021484375, floorSegmentMB=1.318359375, forceMergeDeletesPctAllowed=26.667547170825546, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.3750199635074267
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6c32064b
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@483b5d6b
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now add

TEST: Thread-4: now commit

TEST: Thread-4: now commit

TEST: Thread-4: now commit

TEST: Thread-4: now commit

TEST: Thread-4: now add

TEST: Thread-4: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@60f3d040
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=721
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@548bb8b2
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=25, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=96.021484375, floorSegmentMB=1.318359375, forceMergeDeletesPctAllowed=26.667547170825546, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.3750199635074267
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@210ad97b
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4f4c2b2f
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now add

TEST: Thread-5: now commit

TEST: Thread-5: now commit

TEST: Thread-5: now commit

TEST: Thread-5: now commit

TEST: Thread-5: now add

TEST: Thread-5: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@605d9809
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=721
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1de61363
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=25, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=96.021484375, floorSegmentMB=1.318359375, forceMergeDeletesPctAllowed=26.667547170825546, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.3750199635074267
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6c02d7ea
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2ead7b0c
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now add

TEST: Thread-6: now commit

TEST: Thread-6: now commit

TEST: Thread-6: now commit

TEST: Thread-6: now commit

TEST: Thread-6: now add

TEST: Thread-6: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@727f6c7d
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@45ef3510
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=40, maxMergeAtOnceExplicit=32, maxMergedSegmentMB=19.4296875, floorSegmentMB=1.1826171875, forceMergeDeletesPctAllowed=0.029159150850671667, segmentsPerTier=20.0, useCompoundFile=false, noCFSRatio=0.3691880462995163
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5b84d14e
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6cc986d2
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now commit

TEST: Thread-1: now commit

TEST: Thread-1: now commit

TEST: Thread-1: now add

TEST: Thread-1: now add

TEST: Thread-1: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4bc7bc0
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1c2baa00
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=40, maxMergeAtOnceExplicit=32, maxMergedSegmentMB=19.4296875, floorSegmentMB=1.1826171875, forceMergeDeletesPctAllowed=0.029159150850671667, segmentsPerTier=20.0, useCompoundFile=false, noCFSRatio=0.3691880462995163
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@76a5f472
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@953a539
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now commit

TEST: Thread-2: now commit

TEST: Thread-2: now commit

TEST: Thread-2: now add

TEST: Thread-2: now add

TEST: Thread-2: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@71f3668b
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7fafd333
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=40, maxMergeAtOnceExplicit=32, maxMergedSegmentMB=19.4296875, floorSegmentMB=1.1826171875, forceMergeDeletesPctAllowed=0.029159150850671667, segmentsPerTier=20.0, useCompoundFile=false, noCFSRatio=0.3691880462995163
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7052fac2
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@57cd102a
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now commit

TEST: Thread-3: now commit

TEST: Thread-3: now commit

TEST: Thread-3: now add

TEST: Thread-3: now add

TEST: Thread-3: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@cd32a52
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4fbdc523
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=40, maxMergeAtOnceExplicit=32, maxMergedSegmentMB=19.4296875, floorSegmentMB=1.1826171875, forceMergeDeletesPctAllowed=0.029159150850671667, segmentsPerTier=20.0, useCompoundFile=false, noCFSRatio=0.3691880462995163
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@33d9a5bb
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@160fb295
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now commit

TEST: Thread-4: now commit

TEST: Thread-4: now commit

TEST: Thread-4: now add

TEST: Thread-4: now add

TEST: Thread-4: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@76b2b928
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3e3a2b03
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=40, maxMergeAtOnceExplicit=32, maxMergedSegmentMB=19.4296875, floorSegmentMB=1.1826171875, forceMergeDeletesPctAllowed=0.029159150850671667, segmentsPerTier=20.0, useCompoundFile=false, noCFSRatio=0.3691880462995163
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5cddf1df
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6f32971a
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now commit

TEST: Thread-5: now commit

TEST: Thread-5: now commit

TEST: Thread-5: now add

TEST: Thread-5: now add

TEST: Thread-5: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@659046f7
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@792cc6d9
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=40, maxMergeAtOnceExplicit=32, maxMergedSegmentMB=19.4296875, floorSegmentMB=1.1826171875, forceMergeDeletesPctAllowed=0.029159150850671667, segmentsPerTier=20.0, useCompoundFile=false, noCFSRatio=0.3691880462995163
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6ab30eb5
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@118ac3cd
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now commit

TEST: Thread-6: now commit

TEST: Thread-6: now commit

TEST: Thread-6: now add

TEST: Thread-6: now add

TEST: Thread-6: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@135fa2b9
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@23dc9fb9
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=28, maxMergeAtOnceExplicit=42, maxMergedSegmentMB=28.0849609375, floorSegmentMB=1.666015625, forceMergeDeletesPctAllowed=23.12746244657633, segmentsPerTier=20.0, useCompoundFile=true, noCFSRatio=0.7692891739461121
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@697a3d13
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@583fe07e
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2cb1a911
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@10f3d0fc
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=28, maxMergeAtOnceExplicit=42, maxMergedSegmentMB=28.0849609375, floorSegmentMB=1.666015625, forceMergeDeletesPctAllowed=23.12746244657633, segmentsPerTier=20.0, useCompoundFile=true, noCFSRatio=0.7692891739461121
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@771d5915
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@27c3aecb
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@25ec1bd7
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@638283f1
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=28, maxMergeAtOnceExplicit=42, maxMergedSegmentMB=28.0849609375, floorSegmentMB=1.666015625, forceMergeDeletesPctAllowed=23.12746244657633, segmentsPerTier=20.0, useCompoundFile=true, noCFSRatio=0.7692891739461121
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@da47641
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@284fac66
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@71345af1
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1cc7ca1f
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=28, maxMergeAtOnceExplicit=42, maxMergedSegmentMB=28.0849609375, floorSegmentMB=1.666015625, forceMergeDeletesPctAllowed=23.12746244657633, segmentsPerTier=20.0, useCompoundFile=true, noCFSRatio=0.7692891739461121
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@a6c7fc
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@459371b9
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@145bacb2
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@14fa3ef
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=28, maxMergeAtOnceExplicit=42, maxMergedSegmentMB=28.0849609375, floorSegmentMB=1.666015625, forceMergeDeletesPctAllowed=23.12746244657633, segmentsPerTier=20.0, useCompoundFile=true, noCFSRatio=0.7692891739461121
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1393a095
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4113a03d
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2e6bc890
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@a8960c5
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=28, maxMergeAtOnceExplicit=42, maxMergedSegmentMB=28.0849609375, floorSegmentMB=1.666015625, forceMergeDeletesPctAllowed=23.12746244657633, segmentsPerTier=20.0, useCompoundFile=true, noCFSRatio=0.7692891739461121
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@41302aea
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@41518a15
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3a8935f3
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=650
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@77a63a20
readerTermsIndexDivisor=3
termIndexInterval=641
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=2, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4232483e
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@73250065
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1097d532
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=650
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3cf93d2d
readerTermsIndexDivisor=3
termIndexInterval=641
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=2, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@f1f74a1
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5a21fdc8
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5999da01
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=650
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4f7b9ed4
readerTermsIndexDivisor=3
termIndexInterval=641
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=2, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3cf89910
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@650908b5
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7046bc3e
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=650
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3d9958d6
readerTermsIndexDivisor=3
termIndexInterval=641
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=2, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1e976932
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@667b614e
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4d9ca40c
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=650
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3f58cd42
readerTermsIndexDivisor=3
termIndexInterval=641
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=2, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5f0bc88b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7e9b4e6c
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6b222652
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=650
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3cb0f929
readerTermsIndexDivisor=3
termIndexInterval=641
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=2, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6b611e0
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1b4f8c91
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3b97d96f
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=388
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2770cd42
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=38, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=71.6015625, floorSegmentMB=0.794921875, forceMergeDeletesPctAllowed=5.530226248077633, segmentsPerTier=6.0, useCompoundFile=true, noCFSRatio=0.598886712798369
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5eb3bc48
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6a0e4b8a
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
MockAnalyzer: field=body gets variable length payloads

TEST: Thread-1: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now abort

TEST: Thread-1: now add

TEST: Thread-1: now commit

TEST: Thread-1: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort

TEST: Thread-1: now add
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@9eed10a
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=388
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@20fe99b6
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=38, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=71.6015625, floorSegmentMB=0.794921875, forceMergeDeletesPctAllowed=5.530226248077633, segmentsPerTier=6.0, useCompoundFile=true, noCFSRatio=0.598886712798369
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2b1d8ca6
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@20fcfc67
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
MockAnalyzer: field=body gets variable length payloads

TEST: Thread-2: now commit

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now abort

TEST: Thread-2: now commit

TEST: Thread-2: now commit

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@23dae5f1
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=388
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3252ac20
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=38, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=71.6015625, floorSegmentMB=0.794921875, forceMergeDeletesPctAllowed=5.530226248077633, segmentsPerTier=6.0, useCompoundFile=true, noCFSRatio=0.598886712798369
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@51a282af
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@431d908
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
MockAnalyzer: field=body gets variable length payloads

TEST: Thread-3: now commit

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now abort

TEST: Thread-3: now commit

TEST: Thread-3: now commit

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@830911c
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=388
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@39f645e4
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=38, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=71.6015625, floorSegmentMB=0.794921875, forceMergeDeletesPctAllowed=5.530226248077633, segmentsPerTier=6.0, useCompoundFile=true, noCFSRatio=0.598886712798369
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@57669976
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@10e53ece
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
MockAnalyzer: field=body gets variable length payloads

TEST: Thread-4: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now abort

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now commit

TEST: Thread-4: now commit

TEST: Thread-4: now add
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3e993445
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=388
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@31867584
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=38, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=71.6015625, floorSegmentMB=0.794921875, forceMergeDeletesPctAllowed=5.530226248077633, segmentsPerTier=6.0, useCompoundFile=true, noCFSRatio=0.598886712798369
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@728d4682
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@19103b8f
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
MockAnalyzer: field=body gets variable length payloads

TEST: Thread-5: now commit

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now abort

TEST: Thread-5: now commit

TEST: Thread-5: now commit

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6079bbda
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=388
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5d4e3202
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=38, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=71.6015625, floorSegmentMB=0.794921875, forceMergeDeletesPctAllowed=5.530226248077633, segmentsPerTier=6.0, useCompoundFile=true, noCFSRatio=0.598886712798369
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@38b55129
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7e377d5
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
MockAnalyzer: field=body gets variable length payloads

TEST: Thread-6: now commit

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now abort

TEST: Thread-6: now commit

TEST: Thread-6: now commit

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7074d242
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@147c0b3f
readerTermsIndexDivisor=2
termIndexInterval=5
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=48, maxMergeAtOnceExplicit=36, maxMergedSegmentMB=56.6748046875, floorSegmentMB=2.193359375, forceMergeDeletesPctAllowed=28.406101969405373, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.6821512647588097
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5bc65f9a
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3caea688
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort

TEST: Thread-1: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now abort

TEST: Thread-1: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5e1e6cde
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5a49cb8c
readerTermsIndexDivisor=2
termIndexInterval=5
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=48, maxMergeAtOnceExplicit=36, maxMergedSegmentMB=56.6748046875, floorSegmentMB=2.193359375, forceMergeDeletesPctAllowed=28.406101969405373, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.6821512647588097
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@22d282a3
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2a7ead31
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort

TEST: Thread-2: now commit

TEST: Thread-2: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3821e98d
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2cf8f4c7
readerTermsIndexDivisor=2
termIndexInterval=5
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=48, maxMergeAtOnceExplicit=36, maxMergedSegmentMB=56.6748046875, floorSegmentMB=2.193359375, forceMergeDeletesPctAllowed=28.406101969405373, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.6821512647588097
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@c8e4be2
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5217e8de
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort

TEST: Thread-3: now commit

TEST: Thread-3: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@25d00e75
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@61e076f3
readerTermsIndexDivisor=2
termIndexInterval=5
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=48, maxMergeAtOnceExplicit=36, maxMergedSegmentMB=56.6748046875, floorSegmentMB=2.193359375, forceMergeDeletesPctAllowed=28.406101969405373, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.6821512647588097
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@57a17db8
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2b44e7fa
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort

TEST: Thread-4: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now abort

TEST: Thread-4: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6c3e9c6b
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5852cfc2
readerTermsIndexDivisor=2
termIndexInterval=5
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=48, maxMergeAtOnceExplicit=36, maxMergedSegmentMB=56.6748046875, floorSegmentMB=2.193359375, forceMergeDeletesPctAllowed=28.406101969405373, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.6821512647588097
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@24c5f6db
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@40d1b6b9
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort

TEST: Thread-5: now commit

TEST: Thread-5: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1cbd4053
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@38dddee8
readerTermsIndexDivisor=2
termIndexInterval=5
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=48, maxMergeAtOnceExplicit=36, maxMergedSegmentMB=56.6748046875, floorSegmentMB=2.193359375, forceMergeDeletesPctAllowed=28.406101969405373, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.6821512647588097
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6e556e82
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2aca5165
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort

TEST: Thread-6: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now abort

TEST: Thread-6: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4653f8eb
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=213
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@c7ab830
readerTermsIndexDivisor=2
termIndexInterval=68
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=47, maxMergeAtOnceExplicit=35, maxMergedSegmentMB=45.9775390625, floorSegmentMB=0.3203125, forceMergeDeletesPctAllowed=19.62492989259962, segmentsPerTier=46.0, useCompoundFile=false, noCFSRatio=0.4508611500737637
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4cd25db6
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7067f21
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort

TEST: Thread-1: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@68a7a3a7
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=213
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@35285701
readerTermsIndexDivisor=2
termIndexInterval=68
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=47, maxMergeAtOnceExplicit=35, maxMergedSegmentMB=45.9775390625, floorSegmentMB=0.3203125, forceMergeDeletesPctAllowed=19.62492989259962, segmentsPerTier=46.0, useCompoundFile=false, noCFSRatio=0.4508611500737637
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6b681dea
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@8424bd
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort

TEST: Thread-2: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@73d6af61
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=213
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@22b4c834
readerTermsIndexDivisor=2
termIndexInterval=68
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=47, maxMergeAtOnceExplicit=35, maxMergedSegmentMB=45.9775390625, floorSegmentMB=0.3203125, forceMergeDeletesPctAllowed=19.62492989259962, segmentsPerTier=46.0, useCompoundFile=false, noCFSRatio=0.4508611500737637
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@ac3dfb9
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4194f034
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort

TEST: Thread-3: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@772cf7bc
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=213
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5e97dadf
readerTermsIndexDivisor=2
termIndexInterval=68
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=47, maxMergeAtOnceExplicit=35, maxMergedSegmentMB=45.9775390625, floorSegmentMB=0.3203125, forceMergeDeletesPctAllowed=19.62492989259962, segmentsPerTier=46.0, useCompoundFile=false, noCFSRatio=0.4508611500737637
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@43a296fd
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6766debb
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort

TEST: Thread-4: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2fd1c178
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=213
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2de7c7a3
readerTermsIndexDivisor=2
termIndexInterval=68
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=47, maxMergeAtOnceExplicit=35, maxMergedSegmentMB=45.9775390625, floorSegmentMB=0.3203125, forceMergeDeletesPctAllowed=19.62492989259962, segmentsPerTier=46.0, useCompoundFile=false, noCFSRatio=0.4508611500737637
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4be3b5e0
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@52b9ac0c
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort

TEST: Thread-5: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@26044ebd
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=213
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6b2b700f
readerTermsIndexDivisor=2
termIndexInterval=68
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=47, maxMergeAtOnceExplicit=35, maxMergedSegmentMB=45.9775390625, floorSegmentMB=0.3203125, forceMergeDeletesPctAllowed=19.62492989259962, segmentsPerTier=46.0, useCompoundFile=false, noCFSRatio=0.4508611500737637
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@70ca1fc0
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@65eab019
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort

TEST: Thread-6: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6fe6dbaa
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@59e6def3
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1089826896, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@443751a1
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@bd04404
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5a2405ac
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1ebd9b60
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1089826896, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3223cb64
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4bfe2bf3
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5f203fe5
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@67cd12fc
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1089826896, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@489993a1
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5aab5443
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@37bc2b18
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@76784042
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1089826896, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@50c2e9d1
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2c84c1c3
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2ac2e1b1
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@bf3f7e0
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1089826896, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3e169941
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3da79a3f
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5f9fbcc3
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@110b9691
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1089826896, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@fca1255
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1b79928c
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@45b44df2
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=6
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5a2c25b4
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=443204778, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@85f7aac
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@346eb67f
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@508f66bd minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now add
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3158a9f
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=6
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@654692d2
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=443204778, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7c514cef
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3d921eac
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@441bcdc8 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now add
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1b6a48d
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=6
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@267eaba4
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=443204778, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4636afba
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@304b0059
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@c03ebd4 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now add
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5180ac73
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=6
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6feb2ae7
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=443204778, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@384ddd18
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7fee6f88
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@7edc8b55 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now add
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@78f30883
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=6
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@14abd854
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=443204778, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1e077d66
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7db9c2f0
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@2ead5b0c minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now add
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6af4bbde
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=6
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3dcd14d1
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=443204778, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6311c509
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@239f04af
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@1cec8f6e minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now add
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@32731b00
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=283
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1bf6f988
readerTermsIndexDivisor=4
termIndexInterval=115
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=34, maxMergeAtOnceExplicit=50, maxMergedSegmentMB=59.3916015625, floorSegmentMB=1.4951171875, forceMergeDeletesPctAllowed=0.5862572753173589, segmentsPerTier=12.0, useCompoundFile=true, noCFSRatio=0.6828185983648678
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@73785e0f
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@63676602
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5dd72248
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=625
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@45802e3a
readerTermsIndexDivisor=4
termIndexInterval=86
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=47, maxMergedSegmentMB=34.0693359375, floorSegmentMB=0.2734375, forceMergeDeletesPctAllowed=23.216246524788648, segmentsPerTier=47.0, useCompoundFile=false, noCFSRatio=0.4256624510120569
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@625b057b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@45c500af
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6d938a30
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@540ef9ef
readerTermsIndexDivisor=1
termIndexInterval=78
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=43, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=30.603515625, floorSegmentMB=1.2783203125, forceMergeDeletesPctAllowed=19.217668256945764, segmentsPerTier=27.0, useCompoundFile=true, noCFSRatio=0.2592185984835001
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@233ae506
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6f91fefb
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now commit

TEST: Thread-1: now add

TEST: Thread-1: now commit

TEST: Thread-1: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@34c40ed6
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=283
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7a5f89cf
readerTermsIndexDivisor=4
termIndexInterval=115
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=34, maxMergeAtOnceExplicit=50, maxMergedSegmentMB=59.3916015625, floorSegmentMB=1.4951171875, forceMergeDeletesPctAllowed=0.5862572753173589, segmentsPerTier=12.0, useCompoundFile=true, noCFSRatio=0.6828185983648678
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1650b3cd
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@c4c632d
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@26cacce0
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=625
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@56a53fa0
readerTermsIndexDivisor=4
termIndexInterval=86
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=47, maxMergedSegmentMB=34.0693359375, floorSegmentMB=0.2734375, forceMergeDeletesPctAllowed=23.216246524788648, segmentsPerTier=47.0, useCompoundFile=false, noCFSRatio=0.4256624510120569
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7af44dd0
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3d20d1c0
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@35cee582
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5de8256f
readerTermsIndexDivisor=1
termIndexInterval=78
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=43, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=30.603515625, floorSegmentMB=1.2783203125, forceMergeDeletesPctAllowed=19.217668256945764, segmentsPerTier=27.0, useCompoundFile=true, noCFSRatio=0.2592185984835001
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@33f1ca93
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@472a9389
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now commit

TEST: Thread-2: now add

TEST: Thread-2: now commit

TEST: Thread-2: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@90a1f5a
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=283
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@44b1d518
readerTermsIndexDivisor=4
termIndexInterval=115
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=34, maxMergeAtOnceExplicit=50, maxMergedSegmentMB=59.3916015625, floorSegmentMB=1.4951171875, forceMergeDeletesPctAllowed=0.5862572753173589, segmentsPerTier=12.0, useCompoundFile=true, noCFSRatio=0.6828185983648678
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@771d3de3
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@20ca3f2d
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@ec9a1e6
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=625
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@38053dd4
readerTermsIndexDivisor=4
termIndexInterval=86
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=47, maxMergedSegmentMB=34.0693359375, floorSegmentMB=0.2734375, forceMergeDeletesPctAllowed=23.216246524788648, segmentsPerTier=47.0, useCompoundFile=false, noCFSRatio=0.4256624510120569
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@601e4607
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6387a6dd
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@57e4bfbe
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4fb05755
readerTermsIndexDivisor=1
termIndexInterval=78
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=43, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=30.603515625, floorSegmentMB=1.2783203125, forceMergeDeletesPctAllowed=19.217668256945764, segmentsPerTier=27.0, useCompoundFile=true, noCFSRatio=0.2592185984835001
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4235b652
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5454e373
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now commit

TEST: Thread-3: now add

TEST: Thread-3: now commit

TEST: Thread-3: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@63001872
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=283
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@d3d7fa1
readerTermsIndexDivisor=4
termIndexInterval=115
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=34, maxMergeAtOnceExplicit=50, maxMergedSegmentMB=59.3916015625, floorSegmentMB=1.4951171875, forceMergeDeletesPctAllowed=0.5862572753173589, segmentsPerTier=12.0, useCompoundFile=true, noCFSRatio=0.6828185983648678
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@408629d1
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2823796f
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@28da95c1
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=625
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@35c3599d
readerTermsIndexDivisor=4
termIndexInterval=86
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=47, maxMergedSegmentMB=34.0693359375, floorSegmentMB=0.2734375, forceMergeDeletesPctAllowed=23.216246524788648, segmentsPerTier=47.0, useCompoundFile=false, noCFSRatio=0.4256624510120569
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2c306dfe
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1f85555c
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@58363f95
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@795525a1
readerTermsIndexDivisor=1
termIndexInterval=78
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=43, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=30.603515625, floorSegmentMB=1.2783203125, forceMergeDeletesPctAllowed=19.217668256945764, segmentsPerTier=27.0, useCompoundFile=true, noCFSRatio=0.2592185984835001
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4519ab42
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@183a9d7f
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now commit

TEST: Thread-4: now add

TEST: Thread-4: now commit

TEST: Thread-4: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5c79cc94
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=283
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7157426
readerTermsIndexDivisor=4
termIndexInterval=115
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=34, maxMergeAtOnceExplicit=50, maxMergedSegmentMB=59.3916015625, floorSegmentMB=1.4951171875, forceMergeDeletesPctAllowed=0.5862572753173589, segmentsPerTier=12.0, useCompoundFile=true, noCFSRatio=0.6828185983648678
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@117c6e6c
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@357d6c
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3393bd72
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=625
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@eb62996
readerTermsIndexDivisor=4
termIndexInterval=86
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=47, maxMergedSegmentMB=34.0693359375, floorSegmentMB=0.2734375, forceMergeDeletesPctAllowed=23.216246524788648, segmentsPerTier=47.0, useCompoundFile=false, noCFSRatio=0.4256624510120569
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@59643e65
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@443c86bc
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@362e3cb1
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7d12855
readerTermsIndexDivisor=1
termIndexInterval=78
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=43, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=30.603515625, floorSegmentMB=1.2783203125, forceMergeDeletesPctAllowed=19.217668256945764, segmentsPerTier=27.0, useCompoundFile=true, noCFSRatio=0.2592185984835001
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@34aee875
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@471f7458
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now commit

TEST: Thread-5: now add

TEST: Thread-5: now commit

TEST: Thread-5: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2c478134
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=283
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3ccd3bec
readerTermsIndexDivisor=4
termIndexInterval=115
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=34, maxMergeAtOnceExplicit=50, maxMergedSegmentMB=59.3916015625, floorSegmentMB=1.4951171875, forceMergeDeletesPctAllowed=0.5862572753173589, segmentsPerTier=12.0, useCompoundFile=true, noCFSRatio=0.6828185983648678
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@46192223
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1c104bc9
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@391be9d4
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=625
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1a665fb2
readerTermsIndexDivisor=4
termIndexInterval=86
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=47, maxMergedSegmentMB=34.0693359375, floorSegmentMB=0.2734375, forceMergeDeletesPctAllowed=23.216246524788648, segmentsPerTier=47.0, useCompoundFile=false, noCFSRatio=0.4256624510120569
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3714aca8
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2e5365d8
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@a3f67dc
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@160e715
readerTermsIndexDivisor=1
termIndexInterval=78
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=43, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=30.603515625, floorSegmentMB=1.2783203125, forceMergeDeletesPctAllowed=19.217668256945764, segmentsPerTier=27.0, useCompoundFile=true, noCFSRatio=0.2592185984835001
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@e31468
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3c50b84c
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now commit

TEST: Thread-6: now add

TEST: Thread-6: now commit

TEST: Thread-6: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6e232ae3
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6b6e669f
readerTermsIndexDivisor=4
termIndexInterval=61
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=28, maxMergeAtOnceExplicit=33, maxMergedSegmentMB=2.4423828125, floorSegmentMB=1.9931640625, forceMergeDeletesPctAllowed=26.806405775460505, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.4866921413039347
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1d1387d3
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6d3a3c8e
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@140b6e46
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@26dd559b
readerTermsIndexDivisor=4
termIndexInterval=61
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=28, maxMergeAtOnceExplicit=33, maxMergedSegmentMB=2.4423828125, floorSegmentMB=1.9931640625, forceMergeDeletesPctAllowed=26.806405775460505, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.4866921413039347
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@d1f470c
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@716b8f
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@325d2406
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@349c5304
readerTermsIndexDivisor=4
termIndexInterval=61
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=28, maxMergeAtOnceExplicit=33, maxMergedSegmentMB=2.4423828125, floorSegmentMB=1.9931640625, forceMergeDeletesPctAllowed=26.806405775460505, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.4866921413039347
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@30e4698
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1e3ca6b9
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@44875666
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6b3a210
readerTermsIndexDivisor=4
termIndexInterval=61
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=28, maxMergeAtOnceExplicit=33, maxMergedSegmentMB=2.4423828125, floorSegmentMB=1.9931640625, forceMergeDeletesPctAllowed=26.806405775460505, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.4866921413039347
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7b54cbdf
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7c14dcba
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@35341244
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@517a6a7f
readerTermsIndexDivisor=4
termIndexInterval=61
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=28, maxMergeAtOnceExplicit=33, maxMergedSegmentMB=2.4423828125, floorSegmentMB=1.9931640625, forceMergeDeletesPctAllowed=26.806405775460505, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.4866921413039347
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3be5e1a3
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7140b30d
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1391c7b3
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@346d61cf
readerTermsIndexDivisor=4
termIndexInterval=61
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=28, maxMergeAtOnceExplicit=33, maxMergedSegmentMB=2.4423828125, floorSegmentMB=1.9931640625, forceMergeDeletesPctAllowed=26.806405775460505, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.4866921413039347
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@793077ec
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5d11651c
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5c606f26
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=712
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@211b3c6a
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=45, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=1.375, floorSegmentMB=2.0263671875, forceMergeDeletesPctAllowed=15.546537140655854, segmentsPerTier=41.0, useCompoundFile=false, noCFSRatio=0.755448989881183
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@31b6421
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7b4ab41e
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now add

TEST: Thread-1: now add

TEST: Thread-1: now commit

TEST: Thread-1: now add
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2c970551
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=712
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@762c8dbc
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=45, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=1.375, floorSegmentMB=2.0263671875, forceMergeDeletesPctAllowed=15.546537140655854, segmentsPerTier=41.0, useCompoundFile=false, noCFSRatio=0.755448989881183
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@670d6e40
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@22c1609b
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now add

TEST: Thread-2: now add

TEST: Thread-2: now commit

TEST: Thread-2: now add
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2ffad8fe
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=712
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@13743ac
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=45, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=1.375, floorSegmentMB=2.0263671875, forceMergeDeletesPctAllowed=15.546537140655854, segmentsPerTier=41.0, useCompoundFile=false, noCFSRatio=0.755448989881183
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@533bd1d3
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7c4c9e55
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now add

TEST: Thread-3: now add

TEST: Thread-3: now commit

TEST: Thread-3: now add
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1648a4ad
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=712
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@11eb0eac
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=45, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=1.375, floorSegmentMB=2.0263671875, forceMergeDeletesPctAllowed=15.546537140655854, segmentsPerTier=41.0, useCompoundFile=false, noCFSRatio=0.755448989881183
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5f104764
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@25bf26fe
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now add

TEST: Thread-4: now add
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@483ead69
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"

TEST: Thread-4: now commit

TEST: Thread-4: now add
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=712
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6cea7862
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=45, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=1.375, floorSegmentMB=2.0263671875, forceMergeDeletesPctAllowed=15.546537140655854, segmentsPerTier=41.0, useCompoundFile=false, noCFSRatio=0.755448989881183
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1585a1cb
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@78412176
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now add

TEST: Thread-5: now add

TEST: Thread-5: now commit

TEST: Thread-5: now add
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@11161136
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=712
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@76e72c30
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=45, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=1.375, floorSegmentMB=2.0263671875, forceMergeDeletesPctAllowed=15.546537140655854, segmentsPerTier=41.0, useCompoundFile=false, noCFSRatio=0.755448989881183
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4306404c
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4f675ff4
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now add

TEST: Thread-6: now add

TEST: Thread-6: now commit

TEST: Thread-6: now add
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@233e6b10
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7a06cf15
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=48, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5505aa49
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@66eeca3a
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now add

TEST: Thread-1: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@423dc560
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@917024b
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=48, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@45978e96
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@61123d8b
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now add

TEST: Thread-2: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@593aa24f
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2969ae7c
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=48, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@593e6421
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@f1fe04d
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now add

TEST: Thread-3: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@54ea33b
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@64fb408e
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=48, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2b4b5e6d
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@61245c4f
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now add

TEST: Thread-4: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@d6e32d7
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@d5da136
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=48, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7e02e714
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@709112ad
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now add

TEST: Thread-5: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@40cfceab
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@328a0152
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=48, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@25cc86a
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1969a85c
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now add

TEST: Thread-6: now commit
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@54d9bb1
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3e859f0a
readerTermsIndexDivisor=2
termIndexInterval=51
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@368c6997
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3c68547b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@65827638
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2fe02bc8
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=959
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3d961e2a
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=16, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4a9676fc
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5c5dc0a5
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now abort

TEST: Thread-1: now add

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1b5eb475
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1464cc1a
readerTermsIndexDivisor=2
termIndexInterval=51
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@6593c96b
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@498cc3e6
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@389156c3
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@426d5af1
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=959
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1111c0d7
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=16, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@248b6c02
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3d600a0c
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now abort

TEST: Thread-2: now add

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4690555f
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7d22f244
readerTermsIndexDivisor=2
termIndexInterval=51
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@14f8e8b
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@e174859
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1a8ed249
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5dc598b
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=959
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6f0d687
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=16, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2d943ca0
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5f1843c0
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now abort

TEST: Thread-3: now add

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4daab172
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3a2334a1
readerTermsIndexDivisor=2
termIndexInterval=51
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@5d5453d8
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4b4cb9c6
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1a389cc9
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4a85cec8
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=959
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@73a11f21
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=16, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5702ead5
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@877294
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now abort

TEST: Thread-4: now add

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7d0c716d
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7a3eda49
readerTermsIndexDivisor=2
termIndexInterval=51
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@346d2d52
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6bba7d61
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@207da288
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@168f27fc
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=959
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@cbc5ae4
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=16, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@21f33544
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@662e14c5
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now abort

TEST: Thread-5: now add

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7b1733f8
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5f257498
readerTermsIndexDivisor=2
termIndexInterval=51
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@1409d7f5
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1241201a
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@71a29452
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@c7c96c4
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=959
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@550c9d49
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=16, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2f2a4f3e
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2b887a3
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now abort

TEST: Thread-6: now add

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@73640fcd
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=39
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3fb2fb88
readerTermsIndexDivisor=1
termIndexInterval=50
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=49.84765625, floorSegmentMB=1.8095703125, forceMergeDeletesPctAllowed=2.8824705966754705, segmentsPerTier=47.0, useCompoundFile=true, noCFSRatio=0.43812773469927657
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7f9fbe63
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@508c970a
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort

TEST: Thread-1: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now abort

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4453ca8a
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=39
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2221bcd5
readerTermsIndexDivisor=1
termIndexInterval=50
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=49.84765625, floorSegmentMB=1.8095703125, forceMergeDeletesPctAllowed=2.8824705966754705, segmentsPerTier=47.0, useCompoundFile=true, noCFSRatio=0.43812773469927657
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@54f45574
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@75165e3e
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort

TEST: Thread-2: now commit
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now abort

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3e9283b0
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=39
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@a6e2820
readerTermsIndexDivisor=1
termIndexInterval=50
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=49.84765625, floorSegmentMB=1.8095703125, forceMergeDeletesPctAllowed=2.8824705966754705, segmentsPerTier=47.0, useCompoundFile=true, noCFSRatio=0.43812773469927657
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@460c5239
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@52ea401c
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:25 ART 2012; Thread-4]: abort

TEST: Thread-3: now commit

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@165262ce
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=39
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7637d490
readerTermsIndexDivisor=1
termIndexInterval=50
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=49.84765625, floorSegmentMB=1.8095703125, forceMergeDeletesPctAllowed=2.8824705966754705, segmentsPerTier=47.0, useCompoundFile=true, noCFSRatio=0.43812773469927657
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4b647692
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@30a491e9
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort

TEST: Thread-4: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6e15a5ab
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=39
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1e19ad02
readerTermsIndexDivisor=1
termIndexInterval=50
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=49.84765625, floorSegmentMB=1.8095703125, forceMergeDeletesPctAllowed=2.8824705966754705, segmentsPerTier=47.0, useCompoundFile=true, noCFSRatio=0.43812773469927657
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@27ad6dbe
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6affe94b
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort

TEST: Thread-5: now commit

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7dd61c3b
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=39
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5c3fdf63
readerTermsIndexDivisor=1
termIndexInterval=50
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=49.84765625, floorSegmentMB=1.8095703125, forceMergeDeletesPctAllowed=2.8824705966754705, segmentsPerTier=47.0, useCompoundFile=true, noCFSRatio=0.43812773469927657
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@65630be5
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@49a21b63
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort

TEST: Thread-6: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4ad98e85
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=506
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@30d63337
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=42, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3ebc78ed
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@47a72fc8
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@12527035
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=506
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7535cf21
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=42, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1fb1bba5
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4d965de4
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4fef9e5e
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=506
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@fc477f1
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=42, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2b9e774d
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@30aa769a
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3c992916
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=506
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@306d94ee
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=42, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6a4cae18
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5039e02d
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1fa07061
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=506
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1a3d2ff1
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=42, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@271684ac
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@37604c40
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@71282b42
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=506
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@708ad851
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=42, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2b7fe790
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5a3bb53f
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@327581aa
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=492
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@294078ee
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1433320317, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@47c3666a
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6d78ddf4
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@1a33f652 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@62503aec
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=492
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@67e9d110
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1433320317, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@279ca6bc
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1d8694f5
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@6e9d6ff7 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@439c9b66
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=492
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@9e02496
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1433320317, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5a81f8ea
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@afcf912
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@66441260 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4486f57f
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=492
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2a792260
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1433320317, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@76bfe268
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2fa956c0
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@167e6fb2 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@167e6fb2 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: done

TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@240fd4c8
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=492
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@c25f12d
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1433320317, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@efcc796
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@75935089
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@1a8c8ead minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5b229b0
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=492
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@660fb8b4
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1433320317, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@122765c5
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@588a71d2
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@6936bf67 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3e940a85
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=967
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4d6f361b
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=12, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@40494e54
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@cb58dc5
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort

TEST: Thread-1: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6c1b2a5c
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=967
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3d1f2b31
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=12, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@494cbd50
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4d20f4c8
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort

TEST: Thread-2: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2f89d083
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=967
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@40b525ab
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=12, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@34bc1ebd
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2a862557
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort

TEST: Thread-3: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6a8abf34
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=967
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@25c3b70f
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=12, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@54274d27
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@603a669a
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort

TEST: Thread-4: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1d9ffbbd
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=967
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7a4632db
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=12, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@16b50694
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@46c2ea31
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort

TEST: Thread-5: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4988ef97
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=967
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@40a5a87c
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=12, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3bd8860c
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4489c86
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort

TEST: Thread-6: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6aeb9d0
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=526
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1f12dec2
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=20, maxMergedSegmentMB=54.1201171875, floorSegmentMB=1.5380859375, forceMergeDeletesPctAllowed=11.511535595915879, segmentsPerTier=18.0, useCompoundFile=false, noCFSRatio=0.34104044180668036
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@fdea27e
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@617e0655
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1623a187
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=526
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@35662250
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=20, maxMergedSegmentMB=54.1201171875, floorSegmentMB=1.5380859375, forceMergeDeletesPctAllowed=11.511535595915879, segmentsPerTier=18.0, useCompoundFile=false, noCFSRatio=0.34104044180668036
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4456cd93
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1ed290f2
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3f1d559a
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=526
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@313dd04a
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=20, maxMergedSegmentMB=54.1201171875, floorSegmentMB=1.5380859375, forceMergeDeletesPctAllowed=11.511535595915879, segmentsPerTier=18.0, useCompoundFile=false, noCFSRatio=0.34104044180668036
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5135c387
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@20b7fdb8
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@62acfe94
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=526
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@25040c15
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=20, maxMergedSegmentMB=54.1201171875, floorSegmentMB=1.5380859375, forceMergeDeletesPctAllowed=11.511535595915879, segmentsPerTier=18.0, useCompoundFile=false, noCFSRatio=0.34104044180668036
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2cb549af
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@31f89717
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@120c3ceb
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=526
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2ae55a57
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=20, maxMergedSegmentMB=54.1201171875, floorSegmentMB=1.5380859375, forceMergeDeletesPctAllowed=11.511535595915879, segmentsPerTier=18.0, useCompoundFile=false, noCFSRatio=0.34104044180668036
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@378e1bc1
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@52c03865
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@cf1d3d5
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=526
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@51247834
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=20, maxMergedSegmentMB=54.1201171875, floorSegmentMB=1.5380859375, forceMergeDeletesPctAllowed=11.511535595915879, segmentsPerTier=18.0, useCompoundFile=false, noCFSRatio=0.34104044180668036
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@314fc78a
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6cb54e50
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5dc4bfd2
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=915
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5882bf84
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1626141605, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6feba081
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5676ae8e
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3afed17b
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=915
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7f434cb2
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1626141605, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1b607b64
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5b44f046
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@517c642
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=915
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@181090c0
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1626141605, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@678f3997
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6c0e1d9e
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7230a5f0
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=915
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5ff0c541
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1626141605, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@38265f9c
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5f4f1790
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1068452
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=915
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6beaaf10
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1626141605, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7c8b7ac9
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@292a6200
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@72acd989
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=915
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@769a90b9
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1626141605, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1d939e84
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@468bfb47
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@27edf0d4
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2eaeddb5
readerTermsIndexDivisor=3
termIndexInterval=39
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=37, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5a5dae04
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3c4bb6f5
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
MockAnalyzer: field=titleTokenized gets fixed length=3 payloads
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5ccc078
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7f1a75d
readerTermsIndexDivisor=3
termIndexInterval=39
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=37, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@a22cebe
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@73332124
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
MockAnalyzer: field=titleTokenized gets fixed length=3 payloads
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7fa89fd9
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6ae56499
readerTermsIndexDivisor=3
termIndexInterval=39
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=37, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7a2fafa2
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@50b3f359
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
MockAnalyzer: field=titleTokenized gets fixed length=3 payloads
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@406039a4
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@14332f47
readerTermsIndexDivisor=3
termIndexInterval=39
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=37, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2c64e8ad
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@14e7cca0
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2d48410b
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2c02699b
readerTermsIndexDivisor=3
termIndexInterval=39
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=37, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@526355af
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@778e7e6a
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
MockAnalyzer: field=titleTokenized gets fixed length=3 payloads
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@72ca6922
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@53978340
readerTermsIndexDivisor=3
termIndexInterval=39
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=37, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2a09a0
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@47dde775
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
MockAnalyzer: field=titleTokenized gets fixed length=3 payloads
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@42bf7a35
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6b841133
readerTermsIndexDivisor=3
termIndexInterval=106
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=850942175, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2b85626a
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@42003378
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@1b332d22 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@352abdf5
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3a893bd6
readerTermsIndexDivisor=3
termIndexInterval=106
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=850942175, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7b77ca0
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1f56f055
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@4bc6c86 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5b5d3137
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7c029043
readerTermsIndexDivisor=3
termIndexInterval=106
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=850942175, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@c4d5e50
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2b6adc7f
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@74b22c1d minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@162893fc
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6a7a4505
readerTermsIndexDivisor=3
termIndexInterval=106
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=850942175, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@14981e0
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@ed99c9
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@6f0b5b98 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4f8aac0a
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6c7d83e6
readerTermsIndexDivisor=3
termIndexInterval=106
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=850942175, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@245ea8af
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@42948bd0
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@266726d6 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7cf4831b
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@78a998cf
readerTermsIndexDivisor=3
termIndexInterval=106
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=850942175, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@466f7bec
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4130e714
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@7192f37b minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@76dad47
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@27640c9a
readerTermsIndexDivisor=1
termIndexInterval=18
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=2117823406, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@197766aa
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6df52ff5
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@176f7e6e
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=510
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@447a16e0
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=8, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2b73ef3f
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@48602762
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@e37df1c
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=980
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7d692199
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=33, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@11d0422
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@17fa54c0
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1353488e
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4468dbbe
readerTermsIndexDivisor=1
termIndexInterval=18
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=2117823406, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4032ba08
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@42538425
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4712fc97
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=510
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2764bc9c
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=8, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@469ab9f8
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@58276cfe
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@77749c47
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=980
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2800754c
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=33, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3614e518
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@15cca665
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@18603b7c
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@78146c0f
readerTermsIndexDivisor=1
termIndexInterval=18
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=2117823406, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4c28a60
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@aa711
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@50f2fd20
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=510
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@29dc7e1f
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=8, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4adc3ab1
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@409160dc
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@47125a42
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=980
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@c4e89a5
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=33, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@782eb5f2
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@42ab6082
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@380076e8
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5b518f00
readerTermsIndexDivisor=1
termIndexInterval=18
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=2117823406, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@478377d6
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@830a748
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3a7d7427
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=510
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@10a487bb
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=8, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@21cb0e86
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1a2690bf
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@20d417bd
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=980
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@387a4e7
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=33, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3e5b3b80
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@579f707b
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@22e60626
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@79795976
readerTermsIndexDivisor=1
termIndexInterval=18
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=2117823406, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@de09048
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@12206e16
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@26a40607
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=510
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4de69e85
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=8, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5fb155b7
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@73729275
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6012dc6
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=980
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6ddaf304
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=33, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4188c3f4
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@79f8e9c8
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6253fd6a
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@756de23f
readerTermsIndexDivisor=1
termIndexInterval=18
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=2117823406, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@120d254
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@11d08960
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1e30ee20
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=510
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5c5d9afc
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=8, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@56a45c4
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@40a49a3
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@73b9e0f5
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=980
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5ddd3d21
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=33, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@67d871ab
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@330ec6d0
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@58a35603
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=35
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@42543a51
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=22, maxMergeAtOnceExplicit=47, maxMergedSegmentMB=59.5546875, floorSegmentMB=1.0810546875, forceMergeDeletesPctAllowed=22.89413124740158, segmentsPerTier=41.0, useCompoundFile=false, noCFSRatio=0.17810005517664776
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@27c0bddc
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5ef0cae7
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6e30188
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=35
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1b5908ff
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=22, maxMergeAtOnceExplicit=47, maxMergedSegmentMB=59.5546875, floorSegmentMB=1.0810546875, forceMergeDeletesPctAllowed=22.89413124740158, segmentsPerTier=41.0, useCompoundFile=false, noCFSRatio=0.17810005517664776
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@725dab5f
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@639e24a1
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@364fbad6
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=35
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@284c8ca0
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=22, maxMergeAtOnceExplicit=47, maxMergedSegmentMB=59.5546875, floorSegmentMB=1.0810546875, forceMergeDeletesPctAllowed=22.89413124740158, segmentsPerTier=41.0, useCompoundFile=false, noCFSRatio=0.17810005517664776
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@39a4710b
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5af9a6bd
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@30ea0dfc
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=35
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@75615682
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=22, maxMergeAtOnceExplicit=47, maxMergedSegmentMB=59.5546875, floorSegmentMB=1.0810546875, forceMergeDeletesPctAllowed=22.89413124740158, segmentsPerTier=41.0, useCompoundFile=false, noCFSRatio=0.17810005517664776
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4976ad02
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@e5883fc
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1dc0fec
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=35
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@96ba55a
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=22, maxMergeAtOnceExplicit=47, maxMergedSegmentMB=59.5546875, floorSegmentMB=1.0810546875, forceMergeDeletesPctAllowed=22.89413124740158, segmentsPerTier=41.0, useCompoundFile=false, noCFSRatio=0.17810005517664776
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7a34bc8a
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1c4646b4
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3970a4fb
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=35
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2af459a4
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=22, maxMergeAtOnceExplicit=47, maxMergedSegmentMB=59.5546875, floorSegmentMB=1.0810546875, forceMergeDeletesPctAllowed=22.89413124740158, segmentsPerTier=41.0, useCompoundFile=false, noCFSRatio=0.17810005517664776
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@10293404
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@115fae6
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@21943319
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@653b6d0c
readerTermsIndexDivisor=1
termIndexInterval=101
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=24, maxMergeAtOnceExplicit=19, maxMergedSegmentMB=63.3369140625, floorSegmentMB=0.4091796875, forceMergeDeletesPctAllowed=11.50281809770334, segmentsPerTier=49.0, useCompoundFile=false, noCFSRatio=0.7111829261846049
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@207462c0
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@38ff3be5
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort

TEST: Thread-1: now commit

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4243a4d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@60a943af
readerTermsIndexDivisor=1
termIndexInterval=101
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=24, maxMergeAtOnceExplicit=19, maxMergedSegmentMB=63.3369140625, floorSegmentMB=0.4091796875, forceMergeDeletesPctAllowed=11.50281809770334, segmentsPerTier=49.0, useCompoundFile=false, noCFSRatio=0.7111829261846049
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@89ac7bd
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@69af4db4
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort

TEST: Thread-2: now commit

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5fd2f0cb
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6b9642f0
readerTermsIndexDivisor=1
termIndexInterval=101
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=24, maxMergeAtOnceExplicit=19, maxMergedSegmentMB=63.3369140625, floorSegmentMB=0.4091796875, forceMergeDeletesPctAllowed=11.50281809770334, segmentsPerTier=49.0, useCompoundFile=false, noCFSRatio=0.7111829261846049
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@5604d1be
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@56663d10
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort

TEST: Thread-3: now commit

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@423b44b7
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@659c07fb
readerTermsIndexDivisor=1
termIndexInterval=101
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=24, maxMergeAtOnceExplicit=19, maxMergedSegmentMB=63.3369140625, floorSegmentMB=0.4091796875, forceMergeDeletesPctAllowed=11.50281809770334, segmentsPerTier=49.0, useCompoundFile=false, noCFSRatio=0.7111829261846049
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@66d023da
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6ae1f1f1
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort

TEST: Thread-4: now commit

TEST: Thread-4: now add

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7eceb790
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@42f40b16
readerTermsIndexDivisor=1
termIndexInterval=101
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=24, maxMergeAtOnceExplicit=19, maxMergedSegmentMB=63.3369140625, floorSegmentMB=0.4091796875, forceMergeDeletesPctAllowed=11.50281809770334, segmentsPerTier=49.0, useCompoundFile=false, noCFSRatio=0.7111829261846049
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@2403f3b1
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7f73fbef
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort

TEST: Thread-5: now commit

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4625e2ab
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@23fcbeda
readerTermsIndexDivisor=1
termIndexInterval=101
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=24, maxMergeAtOnceExplicit=19, maxMergedSegmentMB=63.3369140625, floorSegmentMB=0.4091796875, forceMergeDeletesPctAllowed=11.50281809770334, segmentsPerTier=49.0, useCompoundFile=false, noCFSRatio=0.7111829261846049
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@2655ecab
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5324e236
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort

TEST: Thread-6: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort

TEST: Thread-6: now add

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3dbbc2b0
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=218
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7c1e5a67
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=64.5107421875, floorSegmentMB=0.2744140625, forceMergeDeletesPctAllowed=13.426540329342115, segmentsPerTier=26.0, useCompoundFile=true, noCFSRatio=0.7602214459519661
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2cc15fda
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4b7bf82a
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@37e1b41d minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@493a377d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=218
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@51b273af
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=64.5107421875, floorSegmentMB=0.2744140625, forceMergeDeletesPctAllowed=13.426540329342115, segmentsPerTier=26.0, useCompoundFile=true, noCFSRatio=0.7602214459519661
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1ac91010
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@63d982d
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@35d1b58e minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2deaee49
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=218
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@a382ca7
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=64.5107421875, floorSegmentMB=0.2744140625, forceMergeDeletesPctAllowed=13.426540329342115, segmentsPerTier=26.0, useCompoundFile=true, noCFSRatio=0.7602214459519661
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6dfb8d2e
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1df1ff6b
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@7ab7d928 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@7ab7d928 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: done
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@150e6233
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=218
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@18aa6bfd
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=64.5107421875, floorSegmentMB=0.2744140625, forceMergeDeletesPctAllowed=13.426540329342115, segmentsPerTier=26.0, useCompoundFile=true, noCFSRatio=0.7602214459519661
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5c97bbb1
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6da390f4
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@d81bb68 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@d81bb68 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: done
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1639a35
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=218
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@50ad782e
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=64.5107421875, floorSegmentMB=0.2744140625, forceMergeDeletesPctAllowed=13.426540329342115, segmentsPerTier=26.0, useCompoundFile=true, noCFSRatio=0.7602214459519661
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2cad3d63
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2199457f
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@55a1a614 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@17c34b3c
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=218
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@373fdd1a
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=64.5107421875, floorSegmentMB=0.2744140625, forceMergeDeletesPctAllowed=13.426540329342115, segmentsPerTier=26.0, useCompoundFile=true, noCFSRatio=0.7602214459519661
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@41ccf24c
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@76377d53
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@350510c7 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@548b489f
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@52e52123
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=31, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@40e2ab59
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@615f8156
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@4524670b minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@607aaba3
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@44f0e58b
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=31, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@236e2c09
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@160d150b
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@34e0907c minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3ff42624
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@42114939
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=31, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@7cde5f11
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6b339522
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@784222a minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5b209d1b
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2dd9bebf
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=31, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@327a051d
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@68e5ccce
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@46e91e2f minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1013106d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1cf4af1e
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=31, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@414e96c
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@78e8b38b
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@7563a8b0 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3dd8835d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7ebc7f3f
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=31, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@946421a
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@639dbdb7
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@9126c79 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@15dcae3b
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=52
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@ef1cdeb
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=45, maxMergedSegmentMB=11.23046875, floorSegmentMB=0.4609375, forceMergeDeletesPctAllowed=4.387554781632296, segmentsPerTier=28.0, useCompoundFile=true, noCFSRatio=0.41003859739483006
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@250606f7
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2eb3551e
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort

TEST: Thread-1: now commit

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@66720ae
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=52
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1fe09add
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=45, maxMergedSegmentMB=11.23046875, floorSegmentMB=0.4609375, forceMergeDeletesPctAllowed=4.387554781632296, segmentsPerTier=28.0, useCompoundFile=true, noCFSRatio=0.41003859739483006
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@52d73384
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2e774999
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort

TEST: Thread-2: now commit

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@36c1ad7
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=52
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6119e2c1
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=45, maxMergedSegmentMB=11.23046875, floorSegmentMB=0.4609375, forceMergeDeletesPctAllowed=4.387554781632296, segmentsPerTier=28.0, useCompoundFile=true, noCFSRatio=0.41003859739483006
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6a761eb4
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@70d9f206
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort

TEST: Thread-3: now commit

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@48e1949c
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=52
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@24663187
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=45, maxMergedSegmentMB=11.23046875, floorSegmentMB=0.4609375, forceMergeDeletesPctAllowed=4.387554781632296, segmentsPerTier=28.0, useCompoundFile=true, noCFSRatio=0.41003859739483006
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@313da8bc
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4710e7e5
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort

TEST: Thread-4: now commit

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1e5e96c1
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=52
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@71727219
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=45, maxMergedSegmentMB=11.23046875, floorSegmentMB=0.4609375, forceMergeDeletesPctAllowed=4.387554781632296, segmentsPerTier=28.0, useCompoundFile=true, noCFSRatio=0.41003859739483006
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@10a1017f
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3a694160
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort

TEST: Thread-5: now commit

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@325dcdf1
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=52
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@755555d0
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=45, maxMergedSegmentMB=11.23046875, floorSegmentMB=0.4609375, forceMergeDeletesPctAllowed=4.387554781632296, segmentsPerTier=28.0, useCompoundFile=true, noCFSRatio=0.41003859739483006
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@357506de
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1615f43d
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort

TEST: Thread-6: now commit

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@45d144f2
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=227
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@65297549
readerTermsIndexDivisor=2
termIndexInterval=45
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=44, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4d33f82
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@48ee7247
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@32bd19b9
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=227
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@d15b7bf
readerTermsIndexDivisor=2
termIndexInterval=45
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=44, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@cd2634f
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4875de1c
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@73615795
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=227
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7b62c756
readerTermsIndexDivisor=2
termIndexInterval=45
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=44, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@120d1e63
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1b45fed7
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@547248ad
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=227
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7db79ebf
readerTermsIndexDivisor=2
termIndexInterval=45
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=44, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@22174e14
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@28071488
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2f92bb70
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=227
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4d4a74b1
readerTermsIndexDivisor=2
termIndexInterval=45
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=44, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5333381b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@47a89f49
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5c6647cb
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=227
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@40084706
readerTermsIndexDivisor=2
termIndexInterval=45
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=44, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5f6efbc1
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6f526cd9
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1d46fac0
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=718
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@37e47e38
readerTermsIndexDivisor=4
termIndexInterval=99
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=22, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7a1aab32
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6cdd9e3e
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7140022f
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=989
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@45c3cbc4
readerTermsIndexDivisor=1
termIndexInterval=107
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=34, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3976d4a4
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@28827875
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@db25e1a minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now add

TEST: Thread-1: now add

TEST: Thread-1: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@29fc9a67
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=718
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@546fd7d9
readerTermsIndexDivisor=4
termIndexInterval=99
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=22, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7ac412dd
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5eb2aa22
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2eda7ebb
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=989
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@21428e24
readerTermsIndexDivisor=1
termIndexInterval=107
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=34, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1881ee8b
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7a53f43e
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@1dc85130 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now add

TEST: Thread-2: now add

TEST: Thread-2: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@194266e5
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=718
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@426545b3
readerTermsIndexDivisor=4
termIndexInterval=99
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=22, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6c30cd3
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6f7ef41c
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@75d74ab4
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=989
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6fd50c79
readerTermsIndexDivisor=1
termIndexInterval=107
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=34, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@c26154b
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@183ff528
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@ef82188 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now add

TEST: Thread-3: now add

TEST: Thread-3: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@75e57ae0
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=718
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@fb4226
readerTermsIndexDivisor=4
termIndexInterval=99
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=22, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6fb3cd4a
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@56aee91
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4f77974c
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=989
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@597355e7
readerTermsIndexDivisor=1
termIndexInterval=107
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=34, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@230cde92
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@21e85538
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@1c32e0ec minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now add

TEST: Thread-4: now add

TEST: Thread-4: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@229198ea
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=718
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@33046e2c
readerTermsIndexDivisor=4
termIndexInterval=99
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=22, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@67dd24de
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@679fa017
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7c6daa
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=989
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@afaf77
readerTermsIndexDivisor=1
termIndexInterval=107
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=34, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@e28adfb
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@10b64100
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@2d656f92 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now add

TEST: Thread-5: now add

TEST: Thread-5: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1f20a0ab
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=718
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1921f179
readerTermsIndexDivisor=4
termIndexInterval=99
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=22, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3744bd3
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@481e0b6a
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7d741f2d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=989
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@27cacbd9
readerTermsIndexDivisor=1
termIndexInterval=107
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=34, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@730d27f7
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@64bb0423
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@320cc97f minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now add

TEST: Thread-6: now add

TEST: Thread-6: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@efbd70b
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=415
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6b69430c
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=13, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4bb0ffeb
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5171c41f
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort

TEST: Thread-1: now commit

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@751a7a64
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=415
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@70e4d64b
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=13, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3fb10fd4
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@18647f7
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort

TEST: Thread-2: now commit

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@705d5338
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=415
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6db12262
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=13, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@8488831
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@51e54d36
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort

TEST: Thread-3: now commit

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@63182c3d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=415
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4baf19d7
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=13, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@54c99912
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7f60983a
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort

TEST: Thread-4: now commit

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3a5f5a46
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=415
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1fca1ead
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=13, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@ea40029
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@31068b41
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort

TEST: Thread-5: now commit

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@26057079
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=415
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3d302260
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=13, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2320ec02
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@46668952
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort

TEST: Thread-6: now commit

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@17057422
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=449
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@16fe1b92
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=21, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4c41a09
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@66894750
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@184dbba7
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=661
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5dc31eb3
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=22, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=75.51953125, floorSegmentMB=2.185546875, forceMergeDeletesPctAllowed=13.094914982279404, segmentsPerTier=29.0, useCompoundFile=false, noCFSRatio=0.24540392346949702
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3514a9dc
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5f9bc5bd
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@744611ae
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=449
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@d5589d4
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=21, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6acbc422
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@67b9caf4
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@68520c8a
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=661
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@58dad8b5
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=22, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=75.51953125, floorSegmentMB=2.185546875, forceMergeDeletesPctAllowed=13.094914982279404, segmentsPerTier=29.0, useCompoundFile=false, noCFSRatio=0.24540392346949702
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7c980a6
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3e1d1648
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6c048ed9
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=449
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@71f12b9e
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=21, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1066cc83
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4cfcb4de
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@49d11c11
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=661
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@51d41964
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=22, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=75.51953125, floorSegmentMB=2.185546875, forceMergeDeletesPctAllowed=13.094914982279404, segmentsPerTier=29.0, useCompoundFile=false, noCFSRatio=0.24540392346949702
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3bcf1e34
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1ac80699
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@4229348b minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: done
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@bb07c59
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=449
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@146a2afc
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=21, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@462c10dc
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7706ff81
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6b843475
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=661
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@323d4ad9
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=22, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=75.51953125, floorSegmentMB=2.185546875, forceMergeDeletesPctAllowed=13.094914982279404, segmentsPerTier=29.0, useCompoundFile=false, noCFSRatio=0.24540392346949702
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@55fd0653
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@56aa5f3f
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@426c5aed
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=449
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@462e1da8
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=21, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7d9d2496
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@57cd3447
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@d6206b5
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=661
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@65778857
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=22, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=75.51953125, floorSegmentMB=2.185546875, forceMergeDeletesPctAllowed=13.094914982279404, segmentsPerTier=29.0, useCompoundFile=false, noCFSRatio=0.24540392346949702
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@a983bcc
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@107dd383
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@395ed139
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=449
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4023cecd
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=21, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6ede15a0
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@365df43d
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@36399ad5
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=661
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@63b7d9a8
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=22, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=75.51953125, floorSegmentMB=2.185546875, forceMergeDeletesPctAllowed=13.094914982279404, segmentsPerTier=29.0, useCompoundFile=false, noCFSRatio=0.24540392346949702
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3b32d7bd
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6f1d7a8
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@45d36b89
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=11
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@273ea9d0
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=11, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=57.140625, floorSegmentMB=1.8466796875, forceMergeDeletesPctAllowed=6.672423678182469, segmentsPerTier=49.0, useCompoundFile=true, noCFSRatio=0.7179883930546488
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2feaad1
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1d8080e0
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@25b22f38
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=764
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@72fb92dc
readerTermsIndexDivisor=4
termIndexInterval=79
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=34, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=27.17578125, floorSegmentMB=1.9228515625, forceMergeDeletesPctAllowed=0.9440730518515239, segmentsPerTier=34.0, useCompoundFile=false, noCFSRatio=0.5494714297714302
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6266e47d
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5122fd03
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@21838098
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@55247653
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=26, maxMergeAtOnceExplicit=17, maxMergedSegmentMB=60.1552734375, floorSegmentMB=0.7099609375, forceMergeDeletesPctAllowed=20.78534542724925, segmentsPerTier=42.0, useCompoundFile=false, noCFSRatio=0.8613604497631093
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4cd46ed0
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@eb74118
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@155f02ff
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=11
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@156f6adb
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=11, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=57.140625, floorSegmentMB=1.8466796875, forceMergeDeletesPctAllowed=6.672423678182469, segmentsPerTier=49.0, useCompoundFile=true, noCFSRatio=0.7179883930546488
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@45d05adb
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@71fd03ab
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3de76481
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=764
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6cf04d6b
readerTermsIndexDivisor=4
termIndexInterval=79
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=34, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=27.17578125, floorSegmentMB=1.9228515625, forceMergeDeletesPctAllowed=0.9440730518515239, segmentsPerTier=34.0, useCompoundFile=false, noCFSRatio=0.5494714297714302
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@146ae3ad
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@75897d53
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@174709c6
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@158f07f1
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=26, maxMergeAtOnceExplicit=17, maxMergedSegmentMB=60.1552734375, floorSegmentMB=0.7099609375, forceMergeDeletesPctAllowed=20.78534542724925, segmentsPerTier=42.0, useCompoundFile=false, noCFSRatio=0.8613604497631093
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@61526a45
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@69bf09ed
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@27afbb9
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=11
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4d513b99
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=11, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=57.140625, floorSegmentMB=1.8466796875, forceMergeDeletesPctAllowed=6.672423678182469, segmentsPerTier=49.0, useCompoundFile=true, noCFSRatio=0.7179883930546488
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@101fe177
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1d0b53e6
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4aeacb4a
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=764
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@64af3556
readerTermsIndexDivisor=4
termIndexInterval=79
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=34, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=27.17578125, floorSegmentMB=1.9228515625, forceMergeDeletesPctAllowed=0.9440730518515239, segmentsPerTier=34.0, useCompoundFile=false, noCFSRatio=0.5494714297714302
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2ad6d4be
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7e291bea
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2110c261
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4c21e59a
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=26, maxMergeAtOnceExplicit=17, maxMergedSegmentMB=60.1552734375, floorSegmentMB=0.7099609375, forceMergeDeletesPctAllowed=20.78534542724925, segmentsPerTier=42.0, useCompoundFile=false, noCFSRatio=0.8613604497631093
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@45690882
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@72adb267
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7cf13e82
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=11
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@561b0019
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=11, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=57.140625, floorSegmentMB=1.8466796875, forceMergeDeletesPctAllowed=6.672423678182469, segmentsPerTier=49.0, useCompoundFile=true, noCFSRatio=0.7179883930546488
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6a39579
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5daa3e56
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@e718bc5
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=764
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4f82907d
readerTermsIndexDivisor=4
termIndexInterval=79
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=34, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=27.17578125, floorSegmentMB=1.9228515625, forceMergeDeletesPctAllowed=0.9440730518515239, segmentsPerTier=34.0, useCompoundFile=false, noCFSRatio=0.5494714297714302
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4dc2753
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1199bca3
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4e5a309d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@64b19970
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=26, maxMergeAtOnceExplicit=17, maxMergedSegmentMB=60.1552734375, floorSegmentMB=0.7099609375, forceMergeDeletesPctAllowed=20.78534542724925, segmentsPerTier=42.0, useCompoundFile=false, noCFSRatio=0.8613604497631093
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@47d0bbb5
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@58d38ce8
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@51c7747e
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=11
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@51e2510c
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=11, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=57.140625, floorSegmentMB=1.8466796875, forceMergeDeletesPctAllowed=6.672423678182469, segmentsPerTier=49.0, useCompoundFile=true, noCFSRatio=0.7179883930546488
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@613714d3
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@67385a81
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@490586be
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=764
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@41802efb
readerTermsIndexDivisor=4
termIndexInterval=79
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=34, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=27.17578125, floorSegmentMB=1.9228515625, forceMergeDeletesPctAllowed=0.9440730518515239, segmentsPerTier=34.0, useCompoundFile=false, noCFSRatio=0.5494714297714302
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@468c8255
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@32c0bea2
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3b81e8ba
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@770fd005
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=26, maxMergeAtOnceExplicit=17, maxMergedSegmentMB=60.1552734375, floorSegmentMB=0.7099609375, forceMergeDeletesPctAllowed=20.78534542724925, segmentsPerTier=42.0, useCompoundFile=false, noCFSRatio=0.8613604497631093
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2f223554
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6edb35f8
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7d23abc8
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=11
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@263d0564
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=11, maxMergeAtOnceExplicit=18, maxMergedSegmentMB=57.140625, floorSegmentMB=1.8466796875, forceMergeDeletesPctAllowed=6.672423678182469, segmentsPerTier=49.0, useCompoundFile=true, noCFSRatio=0.7179883930546488
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@702cfbd8
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@194a5b71
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4cfdbb9f
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=764
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@12959ac0
readerTermsIndexDivisor=4
termIndexInterval=79
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=34, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=27.17578125, floorSegmentMB=1.9228515625, forceMergeDeletesPctAllowed=0.9440730518515239, segmentsPerTier=34.0, useCompoundFile=false, noCFSRatio=0.5494714297714302
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1be2bcc8
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@42d7fcc5
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2d19587d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@19f58949
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=26, maxMergeAtOnceExplicit=17, maxMergedSegmentMB=60.1552734375, floorSegmentMB=0.7099609375, forceMergeDeletesPctAllowed=20.78534542724925, segmentsPerTier=42.0, useCompoundFile=false, noCFSRatio=0.8613604497631093
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@470824ef
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@67b0eb57
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6e66580
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=953
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@78f110cb
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=47, maxMergeAtOnceExplicit=21, maxMergedSegmentMB=89.0693359375, floorSegmentMB=1.4296875, forceMergeDeletesPctAllowed=24.43752286831288, segmentsPerTier=47.0, useCompoundFile=true, noCFSRatio=0.3579216996055681
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1a85bd75
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@425959ed
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4400dfe4
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1d92e760
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=298344000, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@17945ecb
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@ddb6d85
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@40f33dde minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@688808dd
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=953
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@79e479a3
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=47, maxMergeAtOnceExplicit=21, maxMergedSegmentMB=89.0693359375, floorSegmentMB=1.4296875, forceMergeDeletesPctAllowed=24.43752286831288, segmentsPerTier=47.0, useCompoundFile=true, noCFSRatio=0.3579216996055681
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6edfada
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@71f001c3
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@70bca0dd
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3e372b61
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=298344000, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@18010d30
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6d08d69f
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prepareCommit: flush

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@5f4298a5 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@5f4298a5 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: done
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@684a26e8
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=953
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7f55c37d
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=47, maxMergeAtOnceExplicit=21, maxMergedSegmentMB=89.0693359375, floorSegmentMB=1.4296875, forceMergeDeletesPctAllowed=24.43752286831288, segmentsPerTier=47.0, useCompoundFile=true, noCFSRatio=0.3579216996055681
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@579584da
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@19453122
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@39157c90
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1cbbb253
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=298344000, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@66b875e1
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@58433b76
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@25f4ed3f minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3e28ab69
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=953
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3fcf8dad
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=47, maxMergeAtOnceExplicit=21, maxMergedSegmentMB=89.0693359375, floorSegmentMB=1.4296875, forceMergeDeletesPctAllowed=24.43752286831288, segmentsPerTier=47.0, useCompoundFile=true, noCFSRatio=0.3579216996055681
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@535e7995
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5f804ff5
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5e9ed2e4
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@21bab96e
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=298344000, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@69e3f60e
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@752f4771
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@72fb87d1 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@84e604b
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=953
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@32ceaf87
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=47, maxMergeAtOnceExplicit=21, maxMergedSegmentMB=89.0693359375, floorSegmentMB=1.4296875, forceMergeDeletesPctAllowed=24.43752286831288, segmentsPerTier=47.0, useCompoundFile=true, noCFSRatio=0.3579216996055681
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1f65e220
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@59e0b2fa
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@55551d55
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@34267caa
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=298344000, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4ac297a5
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2d71f7fb
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@154f970c minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7b5b004
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=953
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4f9d1352
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=47, maxMergeAtOnceExplicit=21, maxMergedSegmentMB=89.0693359375, floorSegmentMB=1.4296875, forceMergeDeletesPctAllowed=24.43752286831288, segmentsPerTier=47.0, useCompoundFile=true, noCFSRatio=0.3579216996055681
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@515f9553
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5a44a5e1
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@198ad24a
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@36db09fa
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=298344000, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@666c1838
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@42aa3910
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@35886ba1 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7f4fc557
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2448867b
readerTermsIndexDivisor=3
termIndexInterval=121
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=24, maxMergeAtOnceExplicit=35, maxMergedSegmentMB=1.4453125, floorSegmentMB=1.0693359375, forceMergeDeletesPctAllowed=23.58791614349603, segmentsPerTier=34.0, useCompoundFile=false, noCFSRatio=0.6853782736375147
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@157507d9
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@36564290
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@19b8db54
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5ccab23b
readerTermsIndexDivisor=3
termIndexInterval=121
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=24, maxMergeAtOnceExplicit=35, maxMergedSegmentMB=1.4453125, floorSegmentMB=1.0693359375, forceMergeDeletesPctAllowed=23.58791614349603, segmentsPerTier=34.0, useCompoundFile=false, noCFSRatio=0.6853782736375147
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7f7b6f14
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@b9cb6f
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@23e7f95c
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@797d2ab
readerTermsIndexDivisor=3
termIndexInterval=121
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=24, maxMergeAtOnceExplicit=35, maxMergedSegmentMB=1.4453125, floorSegmentMB=1.0693359375, forceMergeDeletesPctAllowed=23.58791614349603, segmentsPerTier=34.0, useCompoundFile=false, noCFSRatio=0.6853782736375147
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@87dc72
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5799c0a3
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3152cf21
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@ea6ad47
readerTermsIndexDivisor=3
termIndexInterval=121
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=24, maxMergeAtOnceExplicit=35, maxMergedSegmentMB=1.4453125, floorSegmentMB=1.0693359375, forceMergeDeletesPctAllowed=23.58791614349603, segmentsPerTier=34.0, useCompoundFile=false, noCFSRatio=0.6853782736375147
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@60ba17d4
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@597290e8
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3e120ba9
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2b944b85
readerTermsIndexDivisor=3
termIndexInterval=121
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=24, maxMergeAtOnceExplicit=35, maxMergedSegmentMB=1.4453125, floorSegmentMB=1.0693359375, forceMergeDeletesPctAllowed=23.58791614349603, segmentsPerTier=34.0, useCompoundFile=false, noCFSRatio=0.6853782736375147
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@14ea1f1d
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@16a0b3a5
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@51f102bd
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@efe319c
readerTermsIndexDivisor=3
termIndexInterval=121
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=24, maxMergeAtOnceExplicit=35, maxMergedSegmentMB=1.4453125, floorSegmentMB=1.0693359375, forceMergeDeletesPctAllowed=23.58791614349603, segmentsPerTier=34.0, useCompoundFile=false, noCFSRatio=0.6853782736375147
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@526b0074
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6eeae9f1
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5b055dd0
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@34e276d9
readerTermsIndexDivisor=2
termIndexInterval=90
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=24, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7fe8bbae
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@879de1d
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@651fe8ed
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@24fa3073
readerTermsIndexDivisor=2
termIndexInterval=90
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=24, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2582e0fc
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3380d3a1
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7a7962ea
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@115da77a
readerTermsIndexDivisor=2
termIndexInterval=90
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=24, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1b9e437e
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3361135c
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3d985fe
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2ad6c486
readerTermsIndexDivisor=2
termIndexInterval=90
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=24, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7a004f62
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2a5be981
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@dc8647f
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2c213c27
readerTermsIndexDivisor=2
termIndexInterval=90
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=24, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@39f43b13
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@51527a1e
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@58bf3596
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@65f62d8f
readerTermsIndexDivisor=2
termIndexInterval=90
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=24, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5293b95
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5606b5d8
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4995afcf
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=119
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@479e4ef7
readerTermsIndexDivisor=2
termIndexInterval=95
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=10, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6a525edc
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@45d1f40c
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6699a74e
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=119
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@ace3c1b
readerTermsIndexDivisor=2
termIndexInterval=95
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=10, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@69cc1627
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@55c290b4
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@674beea
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=119
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@8ae4d15
readerTermsIndexDivisor=2
termIndexInterval=95
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=10, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6b46a226
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6a3fa3cf
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@18510b13
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=119
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5e83dca0
readerTermsIndexDivisor=2
termIndexInterval=95
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=10, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2309bcda
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@544d9e2e
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@49291ddc
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=119
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7eb99561
readerTermsIndexDivisor=2
termIndexInterval=95
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=10, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@49fe5446
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@584ee59d
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@495d950b
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=119
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@445a34fb
readerTermsIndexDivisor=2
termIndexInterval=95
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=10, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7e4c6dcb
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4bbc6b34
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@189a6c56
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@304cf82d
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=48, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@d396b21
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@34a84a4f
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort

TEST: Thread-1: now commit

TEST: Thread-1: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort

TEST: Thread-1: now add

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@b493984
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@77bff66d
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=48, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5bcbab86
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@186a197f
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort

TEST: Thread-2: now commit

TEST: Thread-2: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort

TEST: Thread-2: now add

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@fe63b60
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@622959f4
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=48, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@8d0d485
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@46306c48
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort

TEST: Thread-3: now commit

TEST: Thread-3: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort

TEST: Thread-3: now add

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@342e6460
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2b651c52
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=48, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7b2661bf
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@14db81c3
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort

TEST: Thread-4: now commit

TEST: Thread-4: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort

TEST: Thread-4: now add

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7cc6f83d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@396168f
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=48, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@72a3081f
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2d6a6605
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort

TEST: Thread-5: now commit

TEST: Thread-5: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort

TEST: Thread-5: now add

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3ce24a64
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7fd00911
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=48, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@33037ca5
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@29ec4ecd
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort

TEST: Thread-6: now commit

TEST: Thread-6: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort

TEST: Thread-6: now add

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1df5f9d7
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4485af5c
readerTermsIndexDivisor=4
termIndexInterval=118
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=37, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@24bbe429
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2b805296
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4836f734
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=883
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@447b4cb5
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=39, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7ae92232
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5fc43fa8
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2232a6dc
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5a4e9d33
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=21, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=65.0830078125, floorSegmentMB=1.142578125, forceMergeDeletesPctAllowed=17.531097476281936, segmentsPerTier=46.0, useCompoundFile=true, noCFSRatio=0.5273901697776311
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5f32ad96
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@782283ad
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@21f31079 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now add

TEST: Thread-1: now commit

TEST: Thread-1: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7bcf1c23
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2fb1b8d3
readerTermsIndexDivisor=4
termIndexInterval=118
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=37, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3cdd3d1b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@60d6d6d4
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6aabc8ee
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=883
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@743ef044
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=39, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@50103bfb
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@59d204cd
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@67cf1c55
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4a761bf
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=21, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=65.0830078125, floorSegmentMB=1.142578125, forceMergeDeletesPctAllowed=17.531097476281936, segmentsPerTier=46.0, useCompoundFile=true, noCFSRatio=0.5273901697776311
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@90244fc
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@73ff0102
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@6a9b65cc minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now add

TEST: Thread-2: now commit

TEST: Thread-2: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6fa43603
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3ecca6ad
readerTermsIndexDivisor=4
termIndexInterval=118
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=37, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6dd2c810
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@294ccac4
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@a68f17d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=883
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@56d69f31
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=39, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@246d7681
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@e7f21d6
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3354037e
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@ccd26df
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=21, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=65.0830078125, floorSegmentMB=1.142578125, forceMergeDeletesPctAllowed=17.531097476281936, segmentsPerTier=46.0, useCompoundFile=true, noCFSRatio=0.5273901697776311
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@70b30109
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@78092fac
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@231902c5 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now add

TEST: Thread-3: now commit

TEST: Thread-3: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@379b0d9c
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@688e5f29
readerTermsIndexDivisor=4
termIndexInterval=118
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=37, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5b09b25f
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@599da9aa
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@660173e7
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=883
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7f950a3d
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=39, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@11d36c3b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4f669ea1
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6b7a6216
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7b2fe415
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=21, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=65.0830078125, floorSegmentMB=1.142578125, forceMergeDeletesPctAllowed=17.531097476281936, segmentsPerTier=46.0, useCompoundFile=true, noCFSRatio=0.5273901697776311
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5275de2
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5b84a312
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@60ee21ae minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now add

TEST: Thread-4: now commit

TEST: Thread-4: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5d96d484
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@e6470a6
readerTermsIndexDivisor=4
termIndexInterval=118
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=37, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@641fa9ab
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5abc4ce7
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3f90d589
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=883
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@a1e932e
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=39, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5d50b632
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5de9bc7a
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@66a7d863
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1e319202
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=21, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=65.0830078125, floorSegmentMB=1.142578125, forceMergeDeletesPctAllowed=17.531097476281936, segmentsPerTier=46.0, useCompoundFile=true, noCFSRatio=0.5273901697776311
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4868d0ca
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5963a2e9
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@1c5c9cd8 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now add

TEST: Thread-5: now commit

TEST: Thread-5: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@56ddfbad
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4ad12717
readerTermsIndexDivisor=4
termIndexInterval=118
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=37, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@695d7d60
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@78d25faa
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@555f5985
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=883
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1c889fe1
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=39, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4db87b69
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@aae525c
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@94b28ec
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@b21e0bc
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=21, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=65.0830078125, floorSegmentMB=1.142578125, forceMergeDeletesPctAllowed=17.531097476281936, segmentsPerTier=46.0, useCompoundFile=true, noCFSRatio=0.5273901697776311
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5d295c59
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@466e06d7
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@61833160 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now add

TEST: Thread-6: now commit

TEST: Thread-6: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7d482f63
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=70
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@647fd33a
readerTermsIndexDivisor=4
termIndexInterval=128
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1669357796, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@404b862
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@51e52bfd
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort

TEST: Thread-1: now commit

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5e8313c5
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=70
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@c8cefeb
readerTermsIndexDivisor=4
termIndexInterval=128
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1669357796, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@78db33bc
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7f21b9a0
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort

TEST: Thread-2: now commit

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6976ebe5
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=70
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@543ef658
readerTermsIndexDivisor=4
termIndexInterval=128
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1669357796, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@719f369d
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@bbab7b2
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort

TEST: Thread-3: now commit

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5d7b4092
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=70
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@d2abdbf
readerTermsIndexDivisor=4
termIndexInterval=128
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1669357796, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@710f4d59
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@239f480c
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort

TEST: Thread-4: now commit

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4b8b246e
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=70
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@74d89d8c
readerTermsIndexDivisor=4
termIndexInterval=128
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1669357796, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@394f8e42
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1604ac73
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort

TEST: Thread-5: now commit

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7ced7dad
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=70
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4ff8254f
readerTermsIndexDivisor=4
termIndexInterval=128
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1669357796, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2c598e8d
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2b9de1ba
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort

TEST: Thread-6: now commit

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@35756b65
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5d427546
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=14, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3621767f
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4eeaa79c
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@43bfcdbd
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@504f4373
readerTermsIndexDivisor=4
termIndexInterval=884
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=22, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3d55c36
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2c98df31
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@686520d6 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now add

TEST: Thread-1: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@27278729
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6f83405f
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=14, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@11f7562b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@53a2a44
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@61df092e
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@38925faf
readerTermsIndexDivisor=4
termIndexInterval=884
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=22, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@11c7f72d
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5f34b479
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@7d34a4c3 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now add

TEST: Thread-2: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3e9513b7
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5f3f333c
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=14, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2e3cd8fe
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1cca2369
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@373a8983
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@17febf91
readerTermsIndexDivisor=4
termIndexInterval=884
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=22, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@55d2d4e5
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4973268
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@626e4c32 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now add

TEST: Thread-3: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7d36d23
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@ca5bc81
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=14, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@54fabfa3
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1a3b91eb
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7d6eb456
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1890e38
readerTermsIndexDivisor=4
termIndexInterval=884
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=22, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4d047f51
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6242c657
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@debac27 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now add

TEST: Thread-4: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@53b85495
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@39dbc4a5
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=14, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@b4b4a50
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7bfbcffa
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@20d8d3a1
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6693a061
readerTermsIndexDivisor=4
termIndexInterval=884
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=22, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@660674e3
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@31e41769
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@75bd0815 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now add

TEST: Thread-5: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@76fc59c2
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@462ee666
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=14, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@31185689
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@34d9558d
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@61f5cf61
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@685ba21a
readerTermsIndexDivisor=4
termIndexInterval=884
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=22, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@57ef8e7c
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@30739bfe
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@7606598b minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now add

TEST: Thread-6: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1fba231b
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=619
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@18e4d5ba
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=30, maxMergedSegmentMB=46.3193359375, floorSegmentMB=1.3740234375, forceMergeDeletesPctAllowed=24.196598356703365, segmentsPerTier=43.0, useCompoundFile=true, noCFSRatio=0.6137261617330625
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@578bb31a
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@149b9cdd
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@74577bbc minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@458a2ccf
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=619
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3e2f3adb
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=30, maxMergedSegmentMB=46.3193359375, floorSegmentMB=1.3740234375, forceMergeDeletesPctAllowed=24.196598356703365, segmentsPerTier=43.0, useCompoundFile=true, noCFSRatio=0.6137261617330625
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@ec11fc2
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@290c011f
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@531daf46 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2b03948d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=619
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@18053657
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=30, maxMergedSegmentMB=46.3193359375, floorSegmentMB=1.3740234375, forceMergeDeletesPctAllowed=24.196598356703365, segmentsPerTier=43.0, useCompoundFile=true, noCFSRatio=0.6137261617330625
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@7e329612
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2b1ab878
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@6744e463 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@74273cef
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=619
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5393ee6b
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=30, maxMergedSegmentMB=46.3193359375, floorSegmentMB=1.3740234375, forceMergeDeletesPctAllowed=24.196598356703365, segmentsPerTier=43.0, useCompoundFile=true, noCFSRatio=0.6137261617330625
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@1509ddab
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3ab81057
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@a38dddf minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@34352d5a
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=619
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5b47ff6
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=30, maxMergedSegmentMB=46.3193359375, floorSegmentMB=1.3740234375, forceMergeDeletesPctAllowed=24.196598356703365, segmentsPerTier=43.0, useCompoundFile=true, noCFSRatio=0.6137261617330625
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@d3cf267
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1c4e4efb
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@59234f41 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@331545ab
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=619
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@67236f24
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=30, maxMergedSegmentMB=46.3193359375, floorSegmentMB=1.3740234375, forceMergeDeletesPctAllowed=24.196598356703365, segmentsPerTier=43.0, useCompoundFile=true, noCFSRatio=0.6137261617330625
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@4755d962
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5532d584
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@7c5ff8ce minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2a901849
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=744
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@c48efd9
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=4, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@87a95dc
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2804a2dd
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@518b1ab5
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=744
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2783cb25
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=4, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3d8dfe67
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@35393bc3
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6a1bb717
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=744
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@65565eae
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=4, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@962257c
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@a8af4b4
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6275186
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=744
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5ca0bae1
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=4, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3c4d3949
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@71ec068c
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@23e34235
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=744
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@71067de1
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=4, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@613278bf
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@38957573
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@783eef33
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=744
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@526282a5
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=4, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@416f48e4
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@711a924b
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@352fa163
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@449ba7c9
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=29, maxMergeAtOnceExplicit=23, maxMergedSegmentMB=50.8427734375, floorSegmentMB=1.4658203125, forceMergeDeletesPctAllowed=14.815362280501228, segmentsPerTier=14.0, useCompoundFile=false, noCFSRatio=0.5405858426645479
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4724a04f
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3598c706
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1384307e
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3fcb2499
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=29, maxMergeAtOnceExplicit=23, maxMergedSegmentMB=50.8427734375, floorSegmentMB=1.4658203125, forceMergeDeletesPctAllowed=14.815362280501228, segmentsPerTier=14.0, useCompoundFile=false, noCFSRatio=0.5405858426645479
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@31cfd987
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@44d2479d
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5183a17c
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@311ae9b2
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=29, maxMergeAtOnceExplicit=23, maxMergedSegmentMB=50.8427734375, floorSegmentMB=1.4658203125, forceMergeDeletesPctAllowed=14.815362280501228, segmentsPerTier=14.0, useCompoundFile=false, noCFSRatio=0.5405858426645479
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5de4be4d
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5489e163
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3a38df00
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3113c6f6
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=29, maxMergeAtOnceExplicit=23, maxMergedSegmentMB=50.8427734375, floorSegmentMB=1.4658203125, forceMergeDeletesPctAllowed=14.815362280501228, segmentsPerTier=14.0, useCompoundFile=false, noCFSRatio=0.5405858426645479
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@96b59a6
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@66caa61e
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2b38113d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1f5ffded
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=29, maxMergeAtOnceExplicit=23, maxMergedSegmentMB=50.8427734375, floorSegmentMB=1.4658203125, forceMergeDeletesPctAllowed=14.815362280501228, segmentsPerTier=14.0, useCompoundFile=false, noCFSRatio=0.5405858426645479
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5717e2b2
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@612440c9
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4194e3ee
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@745ad2de
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=29, maxMergeAtOnceExplicit=23, maxMergedSegmentMB=50.8427734375, floorSegmentMB=1.4658203125, forceMergeDeletesPctAllowed=14.815362280501228, segmentsPerTier=14.0, useCompoundFile=false, noCFSRatio=0.5405858426645479
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@76ca287f
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5228e6c6
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5c3fdd15
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=811
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2d98370
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=36, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@16442f86
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@568c11d5
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4ad01167
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=633
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5e2ad3e6
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=45, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4dbdd156
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@68fa8cf9
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@193d6547 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now commit

TEST: Thread-1: now add

TEST: Thread-1: now commit

TEST: Thread-1: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2e9f6c2b
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=811
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@75e07e6a
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=36, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@658b9d9b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@31185f32
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1d1f8b70
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=633
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2862c542
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=45, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6c8484c4
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@70289784
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@78f394a2 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now commit

TEST: Thread-2: now add

TEST: Thread-2: now commit

TEST: Thread-2: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@41014f68
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=811
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@31505dca
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=36, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@133d9211
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2f40a3f5
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@41b0dc8
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=633
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7275378c
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=45, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6d920308
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@d053a6b
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@523e4d7a minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now commit

TEST: Thread-3: now add

TEST: Thread-3: now commit

TEST: Thread-3: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@ea84494
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=811
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@c893391
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=36, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3987b05
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@fb4871b
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@75d783ea
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=633
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5ffdc730
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=45, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@e20518c
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6bc9c592
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@bca2b87 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now commit

TEST: Thread-4: now add

TEST: Thread-4: now commit

TEST: Thread-4: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@35d7c7ad
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=811
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@767566fa
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=36, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@15bbe3d8
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@626b850d
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@604d3078
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=633
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4f7a1892
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=45, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@58e34201
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@30027d3e
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@736c8a11 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now commit

TEST: Thread-5: now add

TEST: Thread-5: now commit

TEST: Thread-5: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4195d263
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=811
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@22e2f47d
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=36, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@62214c6f
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@78213dbd
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@d73886a
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=633
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@31dad50f
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=45, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@15d9e55b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1460c492
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@5d0957b1 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now commit

TEST: Thread-6: now add

TEST: Thread-6: now commit

TEST: Thread-6: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@60b6b7e3
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5fd61d70
readerTermsIndexDivisor=3
termIndexInterval=88
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=25, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6226d537
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@63784038
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort

TEST: Thread-1: now add

TEST: Thread-1: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2a28f3c7
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@537b20c6
readerTermsIndexDivisor=3
termIndexInterval=88
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=25, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@38a4d1fb
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4cd5d2ca
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort

TEST: Thread-2: now add

TEST: Thread-2: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@57f6eb51
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@70738aae
readerTermsIndexDivisor=3
termIndexInterval=88
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=25, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3195df2f
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@666fa017
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort

TEST: Thread-3: now add

TEST: Thread-3: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@55bd9c75
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7ce1ef11
readerTermsIndexDivisor=3
termIndexInterval=88
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=25, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@55168524
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@397f2a20
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort

TEST: Thread-4: now add

TEST: Thread-4: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@52c96fa1
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@254cf25
readerTermsIndexDivisor=3
termIndexInterval=88
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=25, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@deb8755
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6201e496
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort

TEST: Thread-5: now add

TEST: Thread-5: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6ee38785
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@348ed7c0
readerTermsIndexDivisor=3
termIndexInterval=88
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=25, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@df69935
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@38c46dbc
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort

TEST: Thread-6: now add

TEST: Thread-6: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@648f1ea6
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@65d1fefa
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@3dbb034f
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@40d65732
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@37f6b4df
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@25dcb92d minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2d269718
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@574356c8
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@5f6913a
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7eb879e4
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@14aa8bb
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@4c8b8da6 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2fb3306d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@743a67ad
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@266cca78
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@30609ffd
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@17a7b3db
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@310faff minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5292d5fb
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@16e574ec
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@325f3db2
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@acb8af4
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@390f9eb5
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@307c9a57 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@16def208
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4979e4bc
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@61981853
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@48652333
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@67ea0e66
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@37577fd6 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@166a6ed2
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3b59e39b
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@a6df38e
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3890f4fb
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@34c3a7c0
perThreadHardLimitMB=1945


TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prepareCommit: flush

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@193a4950 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@193a4950 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: done

TEST: Thread-6: now add
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3963a1b8
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@246de5e3
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=136861248, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2b0facc4
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@12178df2
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@35b48de3
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@68f686a3
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=40, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@11016d2b
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@74a62ac5
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort

TEST: Thread-1: now add

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@446caed6
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@11ca437b
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=136861248, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7614495c
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2ddc7394
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@20cb3eea
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4b06a227
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=40, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@207fd4ec
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2873e29f
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort

TEST: Thread-2: now add

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@71a61bb7
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@8be912
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=136861248, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@61729d05
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2ba2e53e
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4782fe29
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6b63f5ff
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=40, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6fab6f6d
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@60209661
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort

TEST: Thread-3: now add

TEST: Thread-3: now add

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@35a881f5
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4dcde572
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=136861248, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@892c746
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5c58c90f
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@69d5af30
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@186c26bc
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=40, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@64630d2a
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@22f573e3
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort

TEST: Thread-4: now add

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@47cce62c
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@58d5f50d
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=136861248, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@46cb560b
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4f7e107c
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@e12b144
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@43b3cd5
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=40, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4d16c61e
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1229031c
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now add

TEST: Thread-5: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5e4e6c9d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4216c148
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=136861248, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@63eb7fdd
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7a17b96a
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7c182454
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@26efd6cf
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=40, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4bffc401
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@49d44a2
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort

TEST: Thread-6: now add

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@190e03c8
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=472
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7e57ac8e
readerTermsIndexDivisor=1
termIndexInterval=35
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=48, maxMergedSegmentMB=27.05078125, floorSegmentMB=0.732421875, forceMergeDeletesPctAllowed=29.032820819817452, segmentsPerTier=36.0, useCompoundFile=true, noCFSRatio=0.872290544031365
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2e01df6f
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7cf40801
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1249ffc3
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=646
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@242f0905
readerTermsIndexDivisor=1
termIndexInterval=127
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@bf939d2
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@17431022
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@33d8341c
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@374534db minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now commit

TEST: Thread-1: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3f273510
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=472
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@460509e3
readerTermsIndexDivisor=1
termIndexInterval=35
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=48, maxMergedSegmentMB=27.05078125, floorSegmentMB=0.732421875, forceMergeDeletesPctAllowed=29.032820819817452, segmentsPerTier=36.0, useCompoundFile=true, noCFSRatio=0.872290544031365
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@74cc39fe
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@bf38e9a
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5a17a03d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=646
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2111fce
readerTermsIndexDivisor=1
termIndexInterval=127
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@323f0e71
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@49cd367c
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3fb42cbe
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@4de58e9e minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now commit

TEST: Thread-2: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@23a35b19
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=472
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@59961a07
readerTermsIndexDivisor=1
termIndexInterval=35
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=48, maxMergedSegmentMB=27.05078125, floorSegmentMB=0.732421875, forceMergeDeletesPctAllowed=29.032820819817452, segmentsPerTier=36.0, useCompoundFile=true, noCFSRatio=0.872290544031365
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@d86ef84
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@15d6ca0c
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@18d3d889
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=646
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@608b80c3
readerTermsIndexDivisor=1
termIndexInterval=127
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@66b2b3b9
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5e356b5b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@51b53af
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@451308c7 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now commit

TEST: Thread-3: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@17a56999
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=472
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@fea3ccd
readerTermsIndexDivisor=1
termIndexInterval=35
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=48, maxMergedSegmentMB=27.05078125, floorSegmentMB=0.732421875, forceMergeDeletesPctAllowed=29.032820819817452, segmentsPerTier=36.0, useCompoundFile=true, noCFSRatio=0.872290544031365
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5b3dbee4
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@32bf9988
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@49d5e6da
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=646
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@26f8bd0a
readerTermsIndexDivisor=1
termIndexInterval=127
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@1442ef83
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@367a8bd9
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@27736f80
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@b9d50bc minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now commit

TEST: Thread-4: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@534041ec
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=472
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3018fc1a
readerTermsIndexDivisor=1
termIndexInterval=35
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=48, maxMergedSegmentMB=27.05078125, floorSegmentMB=0.732421875, forceMergeDeletesPctAllowed=29.032820819817452, segmentsPerTier=36.0, useCompoundFile=true, noCFSRatio=0.872290544031365
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@384f27a1
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@54b2d7e8
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1a5a7c89
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=646
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@11b9298f
readerTermsIndexDivisor=1
termIndexInterval=127
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@13577460
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5299548b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@507d9c0a
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@668f7dce minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now commit

TEST: Thread-5: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@702e959d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=472
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@160ac750
readerTermsIndexDivisor=1
termIndexInterval=35
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=49, maxMergeAtOnceExplicit=48, maxMergedSegmentMB=27.05078125, floorSegmentMB=0.732421875, forceMergeDeletesPctAllowed=29.032820819817452, segmentsPerTier=36.0, useCompoundFile=true, noCFSRatio=0.872290544031365
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1da3607e
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5113ff65
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@48879d0
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=646
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5e38634a
readerTermsIndexDivisor=1
termIndexInterval=127
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@47febf99
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@25d4fabc
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4199600b
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@3c7093d2 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now commit

TEST: Thread-6: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5123027e
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=32
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1c313f4e
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=507111460, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@65332857
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@19d9ba9
perThreadHardLimitMB=1945


TEST: Thread-1: now commit

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@12567513 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now commit

TEST: Thread-1: now commit

TEST: Thread-1: now add

TEST: Thread-1: now commit

TEST: Thread-1: now commit

TEST: Thread-1: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7edfb412
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=32
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6a4fbccb
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=507111460, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@18f3e9f4
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@35849ef8
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@15e0c73b minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now commit

TEST: Thread-2: now commit

TEST: Thread-2: now add

TEST: Thread-2: now commit

TEST: Thread-2: now commit

TEST: Thread-2: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@34451d62
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=32
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@24c25392
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=507111460, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@51fca918
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@22c190b5
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@52036ce6 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now commit

TEST: Thread-3: now commit

TEST: Thread-3: now add

TEST: Thread-3: now commit

TEST: Thread-3: now commit

TEST: Thread-3: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3eaa6e7e
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=32
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3ea41b5
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=507111460, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@87fd415
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3cb30f
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@110f9de8 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now commit

TEST: Thread-4: now commit

TEST: Thread-4: now add

TEST: Thread-4: now commit

TEST: Thread-4: now commit

TEST: Thread-4: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@286e6a9f
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=32
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@9a303d3
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=507111460, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2d501696
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@64fae917
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@14dd18cc minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now commit

TEST: Thread-5: now commit

TEST: Thread-5: now add

TEST: Thread-5: now commit

TEST: Thread-5: now commit

TEST: Thread-5: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@64df4c8a
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=32
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6ef38f6f
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=507111460, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@384df951
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@72b51b8
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@2d020ab5 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now commit

TEST: Thread-6: now commit

TEST: Thread-6: now add

TEST: Thread-6: now commit

TEST: Thread-6: now commit

TEST: Thread-6: now commit
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5d3cb6cf
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@c5f5deb
readerTermsIndexDivisor=1
termIndexInterval=46
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@490ef5a5
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7521491b
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5c46c7b0
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort

TEST: Thread-1: now commit

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4c089da
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3ff5b59d
readerTermsIndexDivisor=1
termIndexInterval=46
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@1c667739
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@b1d4dc0
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@30db7df3
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort

TEST: Thread-2: now commit

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@56b87a95
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@16fda618
readerTermsIndexDivisor=1
termIndexInterval=46
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@66a37d72
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7780fc02
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@35212499
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort

TEST: Thread-3: now commit

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@17f36a72
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7abac4b1
readerTermsIndexDivisor=1
termIndexInterval=46
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@7bc77f69
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@667e05fb
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5bbad64e
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort

TEST: Thread-4: now commit

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7459c4c6
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@35d034cf
readerTermsIndexDivisor=1
termIndexInterval=46
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@783b1da2
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7116b458
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@99a3769
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort

TEST: Thread-5: now commit

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6c2cba0a
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@25496f80
readerTermsIndexDivisor=1
termIndexInterval=46
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@78374f9f
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@774c8d61
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@42d61877
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort

TEST: Thread-6: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5872ee46
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@49b3a360
readerTermsIndexDivisor=2
termIndexInterval=67
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=13, maxMergedSegmentMB=54.4951171875, floorSegmentMB=0.4287109375, forceMergeDeletesPctAllowed=10.141808524620114, segmentsPerTier=50.0, useCompoundFile=false, noCFSRatio=0.26514335050265114
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@30ab196d
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@31125c11
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2c65a608
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=150
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@cb52338
readerTermsIndexDivisor=1
termIndexInterval=108
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=29, maxMergeAtOnceExplicit=27, maxMergedSegmentMB=55.369140625, floorSegmentMB=1.279296875, forceMergeDeletesPctAllowed=1.0287946354156052, segmentsPerTier=49.0, useCompoundFile=true, noCFSRatio=0.1640608423783294
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@481b380c
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@72fcc0cf
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@691a7733
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=264
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1c63f8ce
readerTermsIndexDivisor=4
termIndexInterval=72
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=28, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6763aaf1
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@406be93e
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@45fd24c1
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@46ea3050
readerTermsIndexDivisor=1
termIndexInterval=48
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=22, maxMergeAtOnceExplicit=38, maxMergedSegmentMB=64.2353515625, floorSegmentMB=1.181640625, forceMergeDeletesPctAllowed=13.695531961479377, segmentsPerTier=27.0, useCompoundFile=false, noCFSRatio=0.5675599966397026
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3909f88f
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3d9d918a
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1646b78d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=864
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5dbc21b2
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=19, maxMergeAtOnceExplicit=25, maxMergedSegmentMB=77.1103515625, floorSegmentMB=1.1123046875, forceMergeDeletesPctAllowed=9.142004073538232, segmentsPerTier=25.0, useCompoundFile=false, noCFSRatio=0.8825979428397277
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6a485d31
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@34de727a
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@782dc2b3 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: done

TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@782dc2b3 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@782dc2b3 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: done

TEST: Thread-1: now add

TEST: Thread-1: now add
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback

TEST: Thread-1: now add
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@53f3d6cd
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@429a3811
readerTermsIndexDivisor=2
termIndexInterval=67
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=13, maxMergedSegmentMB=54.4951171875, floorSegmentMB=0.4287109375, forceMergeDeletesPctAllowed=10.141808524620114, segmentsPerTier=50.0, useCompoundFile=false, noCFSRatio=0.26514335050265114
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1ad70640
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1adb6184
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2795804b
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=150
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7a78eb52
readerTermsIndexDivisor=1
termIndexInterval=108
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=29, maxMergeAtOnceExplicit=27, maxMergedSegmentMB=55.369140625, floorSegmentMB=1.279296875, forceMergeDeletesPctAllowed=1.0287946354156052, segmentsPerTier=49.0, useCompoundFile=true, noCFSRatio=0.1640608423783294
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@18a1934f
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@17ce342b
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@22e2d428
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=264
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4a734beb
readerTermsIndexDivisor=4
termIndexInterval=72
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=28, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@577d577c
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@65fabac3
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1171fa02
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@47cee369
readerTermsIndexDivisor=1
termIndexInterval=48
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=22, maxMergeAtOnceExplicit=38, maxMergedSegmentMB=64.2353515625, floorSegmentMB=1.181640625, forceMergeDeletesPctAllowed=13.695531961479377, segmentsPerTier=27.0, useCompoundFile=false, noCFSRatio=0.5675599966397026
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5fb42753
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2c81eb3b
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@77f71eb7
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=864
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7fc65051
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=19, maxMergeAtOnceExplicit=25, maxMergedSegmentMB=77.1103515625, floorSegmentMB=1.1123046875, forceMergeDeletesPctAllowed=9.142004073538232, segmentsPerTier=25.0, useCompoundFile=false, noCFSRatio=0.8825979428397277
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@34c33760
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7c689aaf
perThreadHardLimitMB=1945


TEST: Thread-2: now commit

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now commit

TEST: Thread-2: now add

TEST: Thread-2: now add

TEST: Thread-2: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1e5f0fd7
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1771e1cd
readerTermsIndexDivisor=2
termIndexInterval=67
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=13, maxMergedSegmentMB=54.4951171875, floorSegmentMB=0.4287109375, forceMergeDeletesPctAllowed=10.141808524620114, segmentsPerTier=50.0, useCompoundFile=false, noCFSRatio=0.26514335050265114
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@359f65c1
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@73d17d67
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@15ff3565
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=150
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5408ba25
readerTermsIndexDivisor=1
termIndexInterval=108
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=29, maxMergeAtOnceExplicit=27, maxMergedSegmentMB=55.369140625, floorSegmentMB=1.279296875, forceMergeDeletesPctAllowed=1.0287946354156052, segmentsPerTier=49.0, useCompoundFile=true, noCFSRatio=0.1640608423783294
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@8f4fe3d
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@c5f5b63
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4575b933
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=264
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7e159698
readerTermsIndexDivisor=4
termIndexInterval=72
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=28, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3b5215d3
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@a16ee12
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@335ee1b3
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@57c44377
readerTermsIndexDivisor=1
termIndexInterval=48
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=22, maxMergeAtOnceExplicit=38, maxMergedSegmentMB=64.2353515625, floorSegmentMB=1.181640625, forceMergeDeletesPctAllowed=13.695531961479377, segmentsPerTier=27.0, useCompoundFile=false, noCFSRatio=0.5675599966397026
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@162966a5
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7811e600
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@36372287
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=864
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6d82e645
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=19, maxMergeAtOnceExplicit=25, maxMergedSegmentMB=77.1103515625, floorSegmentMB=1.1123046875, forceMergeDeletesPctAllowed=9.142004073538232, segmentsPerTier=25.0, useCompoundFile=false, noCFSRatio=0.8825979428397277
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2cdbf42e
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1c7c0f04
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@14bdde38 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: done

TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@14bdde38 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@14bdde38 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: done

TEST: Thread-3: now add
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort

TEST: Thread-3: now add

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5d0fa836
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@771dcec7
readerTermsIndexDivisor=2
termIndexInterval=67
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=13, maxMergedSegmentMB=54.4951171875, floorSegmentMB=0.4287109375, forceMergeDeletesPctAllowed=10.141808524620114, segmentsPerTier=50.0, useCompoundFile=false, noCFSRatio=0.26514335050265114
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@45f2a7e9
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3dedd5df
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@44704ea
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=150
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@816de87
readerTermsIndexDivisor=1
termIndexInterval=108
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=29, maxMergeAtOnceExplicit=27, maxMergedSegmentMB=55.369140625, floorSegmentMB=1.279296875, forceMergeDeletesPctAllowed=1.0287946354156052, segmentsPerTier=49.0, useCompoundFile=true, noCFSRatio=0.1640608423783294
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@156b7537
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@41dc78dd
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@31c98853
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=264
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5461ef35
readerTermsIndexDivisor=4
termIndexInterval=72
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=28, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@699fabda
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@71cbab62
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@75e56da
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7a628653
readerTermsIndexDivisor=1
termIndexInterval=48
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=22, maxMergeAtOnceExplicit=38, maxMergedSegmentMB=64.2353515625, floorSegmentMB=1.181640625, forceMergeDeletesPctAllowed=13.695531961479377, segmentsPerTier=27.0, useCompoundFile=false, noCFSRatio=0.5675599966397026
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5a60f1ea
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@12aa6801
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4f22bfd6
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=864
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@62d9f20a
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=19, maxMergeAtOnceExplicit=25, maxMergedSegmentMB=77.1103515625, floorSegmentMB=1.1123046875, forceMergeDeletesPctAllowed=9.142004073538232, segmentsPerTier=25.0, useCompoundFile=false, noCFSRatio=0.8825979428397277
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@52a1a139
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@715fcf90
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@49343116 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: done

TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@49343116 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@49343116 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: done

TEST: Thread-4: now add

TEST: Thread-4: now add
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback

TEST: Thread-4: now add
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@22836aae
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6f261c6c
readerTermsIndexDivisor=2
termIndexInterval=67
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=13, maxMergedSegmentMB=54.4951171875, floorSegmentMB=0.4287109375, forceMergeDeletesPctAllowed=10.141808524620114, segmentsPerTier=50.0, useCompoundFile=false, noCFSRatio=0.26514335050265114
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2f142f76
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5638041f
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6b5d3352
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=150
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1f20f2b
readerTermsIndexDivisor=1
termIndexInterval=108
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=29, maxMergeAtOnceExplicit=27, maxMergedSegmentMB=55.369140625, floorSegmentMB=1.279296875, forceMergeDeletesPctAllowed=1.0287946354156052, segmentsPerTier=49.0, useCompoundFile=true, noCFSRatio=0.1640608423783294
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3ac1d10c
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@a8388f7
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5ce06503
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=264
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6bbb87b4
readerTermsIndexDivisor=4
termIndexInterval=72
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=28, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@64ca71ad
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@26ed488d
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1c4e4471
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4046554d
readerTermsIndexDivisor=1
termIndexInterval=48
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=22, maxMergeAtOnceExplicit=38, maxMergedSegmentMB=64.2353515625, floorSegmentMB=1.181640625, forceMergeDeletesPctAllowed=13.695531961479377, segmentsPerTier=27.0, useCompoundFile=false, noCFSRatio=0.5675599966397026
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@498a5332
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@185c1d56
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1bc50966
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=864
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6268ca71
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=19, maxMergeAtOnceExplicit=25, maxMergedSegmentMB=77.1103515625, floorSegmentMB=1.1123046875, forceMergeDeletesPctAllowed=9.142004073538232, segmentsPerTier=25.0, useCompoundFile=false, noCFSRatio=0.8825979428397277
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4dc2f330
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@39ebfc32
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now commit

TEST: Thread-5: now add

TEST: Thread-5: now add

TEST: Thread-5: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@34c45a8d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@55e975c
readerTermsIndexDivisor=2
termIndexInterval=67
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=13, maxMergedSegmentMB=54.4951171875, floorSegmentMB=0.4287109375, forceMergeDeletesPctAllowed=10.141808524620114, segmentsPerTier=50.0, useCompoundFile=false, noCFSRatio=0.26514335050265114
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5231bc5
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@43f42525
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@73fcd8fb
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=150
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1196c7a9
readerTermsIndexDivisor=1
termIndexInterval=108
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=29, maxMergeAtOnceExplicit=27, maxMergedSegmentMB=55.369140625, floorSegmentMB=1.279296875, forceMergeDeletesPctAllowed=1.0287946354156052, segmentsPerTier=49.0, useCompoundFile=true, noCFSRatio=0.1640608423783294
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@420e3144
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@31c4893d
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@63d181de
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=264
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4d53ae47
readerTermsIndexDivisor=4
termIndexInterval=72
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=28, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@30d6defa
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6ac90822
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7e96f890
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@24b49e52
readerTermsIndexDivisor=1
termIndexInterval=48
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=22, maxMergeAtOnceExplicit=38, maxMergedSegmentMB=64.2353515625, floorSegmentMB=1.181640625, forceMergeDeletesPctAllowed=13.695531961479377, segmentsPerTier=27.0, useCompoundFile=false, noCFSRatio=0.5675599966397026
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4e062c51
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7747a1db
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7ec0c6c9
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=864
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@70596c33
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=19, maxMergeAtOnceExplicit=25, maxMergedSegmentMB=77.1103515625, floorSegmentMB=1.1123046875, forceMergeDeletesPctAllowed=9.142004073538232, segmentsPerTier=25.0, useCompoundFile=false, noCFSRatio=0.8825979428397277
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7ecec1e4
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@381ba0c6
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now commit

TEST: Thread-6: now add

TEST: Thread-6: now add

TEST: Thread-6: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@23e77dda
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@fe8610
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=38, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=25.0625, floorSegmentMB=1.337890625, forceMergeDeletesPctAllowed=1.9698012077066962, segmentsPerTier=50.0, useCompoundFile=false, noCFSRatio=0.6551387283405685
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@461384f2
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2b7d4fcf
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6c2ad6c6
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=557
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@44af908f
readerTermsIndexDivisor=1
termIndexInterval=117
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=17, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=7.0595703125, floorSegmentMB=1.76953125, forceMergeDeletesPctAllowed=6.668535022796721, segmentsPerTier=23.0, useCompoundFile=true, noCFSRatio=0.6866864388424168
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@623bbf83
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@409a63d7
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@5810d963 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@5810d963 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: done
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@303d8bcb
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1e722083
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=38, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=25.0625, floorSegmentMB=1.337890625, forceMergeDeletesPctAllowed=1.9698012077066962, segmentsPerTier=50.0, useCompoundFile=false, noCFSRatio=0.6551387283405685
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@56b48812
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@66518236
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@46e23a42
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=557
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2b6b0011
readerTermsIndexDivisor=1
termIndexInterval=117
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=17, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=7.0595703125, floorSegmentMB=1.76953125, forceMergeDeletesPctAllowed=6.668535022796721, segmentsPerTier=23.0, useCompoundFile=true, noCFSRatio=0.6866864388424168
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7dd1725b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@41aaf4e5
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prepareCommit: flush

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@3eb40811 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@3eb40811 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: done
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6e7859c3
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@51386c70
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=38, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=25.0625, floorSegmentMB=1.337890625, forceMergeDeletesPctAllowed=1.9698012077066962, segmentsPerTier=50.0, useCompoundFile=false, noCFSRatio=0.6551387283405685
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4f5756b8
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6efe72b9
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7aa26164
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=557
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@68fd54a6
readerTermsIndexDivisor=1
termIndexInterval=117
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=17, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=7.0595703125, floorSegmentMB=1.76953125, forceMergeDeletesPctAllowed=6.668535022796721, segmentsPerTier=23.0, useCompoundFile=true, noCFSRatio=0.6866864388424168
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4fc09423
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6c3daebc
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@459af028 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@459af028 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: done
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@34429004
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5e2d4712
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=38, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=25.0625, floorSegmentMB=1.337890625, forceMergeDeletesPctAllowed=1.9698012077066962, segmentsPerTier=50.0, useCompoundFile=false, noCFSRatio=0.6551387283405685
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6e951f0b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2943e5
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@269ea618
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=557
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5266f887
readerTermsIndexDivisor=1
termIndexInterval=117
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=17, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=7.0595703125, floorSegmentMB=1.76953125, forceMergeDeletesPctAllowed=6.668535022796721, segmentsPerTier=23.0, useCompoundFile=true, noCFSRatio=0.6866864388424168
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@66469154
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@22ef5641
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@f07d752 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@f07d752 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: done
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4b9857ee
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7206bd85
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=38, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=25.0625, floorSegmentMB=1.337890625, forceMergeDeletesPctAllowed=1.9698012077066962, segmentsPerTier=50.0, useCompoundFile=false, noCFSRatio=0.6551387283405685
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1884a13f
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2b763bac
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7a2145e6
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=557
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@25a64949
readerTermsIndexDivisor=1
termIndexInterval=117
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=17, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=7.0595703125, floorSegmentMB=1.76953125, forceMergeDeletesPctAllowed=6.668535022796721, segmentsPerTier=23.0, useCompoundFile=true, noCFSRatio=0.6866864388424168
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@48156aee
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@761f543a
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@2d2e86c minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4c47f959
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@75a6bd5
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=38, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=25.0625, floorSegmentMB=1.337890625, forceMergeDeletesPctAllowed=1.9698012077066962, segmentsPerTier=50.0, useCompoundFile=false, noCFSRatio=0.6551387283405685
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@415d70b8
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5d93618e
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2a2f7d55
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=557
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2b0ef227
readerTermsIndexDivisor=1
termIndexInterval=117
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=17, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=7.0595703125, floorSegmentMB=1.76953125, forceMergeDeletesPctAllowed=6.668535022796721, segmentsPerTier=23.0, useCompoundFile=true, noCFSRatio=0.6866864388424168
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@623bf486
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4e32bbcc
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@64c7762f minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4709eb46
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=370
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2d4b640a
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=44, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3094e3c1
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7ef4acd1
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: start

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@717e0e74 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: commit: done

TEST: Thread-1: now add
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5d612394
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=370
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@461a1391
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=44, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@59fab88b
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5b69dbd3
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: start

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@2df2888 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: commit: done

TEST: Thread-2: now add
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@74f62f97
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=370
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4001e1d5
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=44, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3b9187c7
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4f69385e
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: start

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@4f3cc0d minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: commit: done

TEST: Thread-3: now add
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@38711710
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=370
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3cb96751
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=44, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@302e15fc
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@21a56c1a
perThreadHardLimitMB=1945


TEST: Thread-4: now commit

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1354f07c
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=370
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@26491681
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=44, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@86482ca
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7ec6a013
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@56851105
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=370
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6d834bbf
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=44, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@46e220c4
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@27d54837
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer

TEST: Thread-6: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@741280e3
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=531
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@62f242cc
readerTermsIndexDivisor=2
termIndexInterval=109
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@eff91d4
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2cbefcfd
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2ed35cfe
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3553d71d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=867
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5109f2ca
readerTermsIndexDivisor=1
termIndexInterval=39
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=15, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6422d556
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2ae43476
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
MockAnalyzer: field=body gets fixed length=7 payloads

TEST: Thread-1: now add

TEST: Thread-1: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort

TEST: Thread-1: now add

TEST: Thread-1: now add

TEST: Thread-1: now add

TEST: Thread-1: now add

TEST: Thread-1: now add

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@67c61e31
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=531
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@705c358b
readerTermsIndexDivisor=2
termIndexInterval=109
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@35bf724e
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2be97a73
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6d662a8a
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2c8f544b
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=867
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@154575ea
readerTermsIndexDivisor=1
termIndexInterval=39
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=15, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@340608f
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@77834df3
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
MockAnalyzer: field=body gets fixed length=7 payloads

TEST: Thread-2: now add

TEST: Thread-2: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort

TEST: Thread-2: now add

TEST: Thread-2: now add

TEST: Thread-2: now add

TEST: Thread-2: now add

TEST: Thread-2: now add

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@83f700d
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=531
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@516edbd
readerTermsIndexDivisor=2
termIndexInterval=109
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@245215e7
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@91c0352
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@e1e012a
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@23e96744
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=867
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@33bd9009
readerTermsIndexDivisor=1
termIndexInterval=39
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=15, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@623b5968
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@266aed3a
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now add

TEST: Thread-3: now commit

TEST: Thread-3: now add

TEST: Thread-3: now add

TEST: Thread-3: now add

TEST: Thread-3: now add

TEST: Thread-3: now add

TEST: Thread-3: now add
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4126c845
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=531
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@38b930e4
readerTermsIndexDivisor=2
termIndexInterval=109
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@638e5d4
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@178c47d
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1fabeb4c
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@707e5308
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=867
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6037569c
readerTermsIndexDivisor=1
termIndexInterval=39
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=15, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@51174d1d
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@50c7d482
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
MockAnalyzer: field=body gets fixed length=7 payloads

TEST: Thread-4: now add

TEST: Thread-4: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort

TEST: Thread-4: now add

TEST: Thread-4: now add

TEST: Thread-4: now add

TEST: Thread-4: now add

TEST: Thread-4: now add

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@74d7c2c7
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=531
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@72ad15e6
readerTermsIndexDivisor=2
termIndexInterval=109
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@4178e9db
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@69414a71
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3d7e76b3
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@53744222
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=867
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@a36851f
readerTermsIndexDivisor=1
termIndexInterval=39
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=15, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@15dbb76
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@30be40ad
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
MockAnalyzer: field=body gets fixed length=7 payloads

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort

TEST: Thread-5: now commit

TEST: Thread-5: now add

TEST: Thread-5: now add

TEST: Thread-5: now add

TEST: Thread-5: now add

TEST: Thread-5: now add

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@47f47e01
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=531
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@a16a0cb
readerTermsIndexDivisor=2
termIndexInterval=109
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@53967499
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3ac113ae
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@59f322a4
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@18019c40
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=867
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4f123549
readerTermsIndexDivisor=1
termIndexInterval=39
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=15, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3468742d
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@35a3513c
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
MockAnalyzer: field=body gets fixed length=7 payloads

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort

TEST: Thread-6: now commit

TEST: Thread-6: now add

TEST: Thread-6: now add

TEST: Thread-6: now add

TEST: Thread-6: now add

TEST: Thread-6: now add

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5434e6e3
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@25b3c442
readerTermsIndexDivisor=4
termIndexInterval=69
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@3d19dc64
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6cd44892
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@64e8a10f
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort

TEST: Thread-1: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@48f71ae6
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4752d5de
readerTermsIndexDivisor=4
termIndexInterval=69
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@f570667
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1a655c0f
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@747eea52
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort

TEST: Thread-2: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@111e0ceb
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7bbbb315
readerTermsIndexDivisor=4
termIndexInterval=69
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@5fea6729
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@161ae5f1
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3fee3c8d
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort

TEST: Thread-3: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7fcfe433
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6bec07f7
readerTermsIndexDivisor=4
termIndexInterval=69
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@54ff207b
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@39ad96d5
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@33899788
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort

TEST: Thread-4: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@43413f6c
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@763d6442
readerTermsIndexDivisor=4
termIndexInterval=69
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@388165b3
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@373be7c0
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3dec0a94
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort

TEST: Thread-5: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6001fc84
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@22b3428e
readerTermsIndexDivisor=4
termIndexInterval=69
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@26d68a6e
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4f1a4fad
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@48650f6d
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort

TEST: Thread-6: now commit
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:26 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@15e69757
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=404
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@ddbef51
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=24, maxMergeAtOnceExplicit=22, maxMergedSegmentMB=98.396484375, floorSegmentMB=0.73046875, forceMergeDeletesPctAllowed=18.25988142863033, segmentsPerTier=36.0, useCompoundFile=false, noCFSRatio=0.34667933437854426
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@623cb5f2
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7fcd5540
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@1981e4d minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@1981e4d minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@36bc174e
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=404
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@e9ab468
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=24, maxMergeAtOnceExplicit=22, maxMergedSegmentMB=98.396484375, floorSegmentMB=0.73046875, forceMergeDeletesPctAllowed=18.25988142863033, segmentsPerTier=36.0, useCompoundFile=false, noCFSRatio=0.34667933437854426
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4eba1f55
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1d5f2dd4
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@53b9c85c minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@53b9c85c minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@47b2254c
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=404
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@766aaa6d
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=24, maxMergeAtOnceExplicit=22, maxMergedSegmentMB=98.396484375, floorSegmentMB=0.73046875, forceMergeDeletesPctAllowed=18.25988142863033, segmentsPerTier=36.0, useCompoundFile=false, noCFSRatio=0.34667933437854426
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@54db16d7
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7bb8a8c6
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@18509e9f minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@18509e9f minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@57971a24
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=404
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3a54d2a3
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=24, maxMergeAtOnceExplicit=22, maxMergedSegmentMB=98.396484375, floorSegmentMB=0.73046875, forceMergeDeletesPctAllowed=18.25988142863033, segmentsPerTier=36.0, useCompoundFile=false, noCFSRatio=0.34667933437854426
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@16d0e940
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6d817473
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@4e04622f minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@4e04622f minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@43c19940
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=404
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@72163468
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=24, maxMergeAtOnceExplicit=22, maxMergedSegmentMB=98.396484375, floorSegmentMB=0.73046875, forceMergeDeletesPctAllowed=18.25988142863033, segmentsPerTier=36.0, useCompoundFile=false, noCFSRatio=0.34667933437854426
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@fcad25c
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4cb89e1d
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@6c94a944 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@225e2e0d
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=404
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@149f7d63
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=24, maxMergeAtOnceExplicit=22, maxMergedSegmentMB=98.396484375, floorSegmentMB=0.73046875, forceMergeDeletesPctAllowed=18.25988142863033, segmentsPerTier=36.0, useCompoundFile=false, noCFSRatio=0.34667933437854426
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@72e0f928
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1005ec04
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@74ca02d3 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2099e843
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@54bbec16
readerTermsIndexDivisor=4
termIndexInterval=93
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=23, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7d88c3cf
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1def8b6c
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@59aa6ece minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2de9fae7
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4dec5ecc
readerTermsIndexDivisor=4
termIndexInterval=93
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=23, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5943cb0b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@71c76cf5
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@5bc2832e minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2445b199
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1d3639a5
readerTermsIndexDivisor=4
termIndexInterval=93
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=23, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@53028e9e
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4ce151a5
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@5cb74f11 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1dc9beb2
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@8b24926
readerTermsIndexDivisor=4
termIndexInterval=93
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=23, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@70e0623f
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1b524ffe
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@3901bab5 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@c9da2ea
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@421b367
readerTermsIndexDivisor=4
termIndexInterval=93
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=23, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4089314f
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6f045aa2
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@45d20f11
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@329fefc3
readerTermsIndexDivisor=4
termIndexInterval=93
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=23, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2236052c
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@88d9d40
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3751888d
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=234
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@51658c66
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=28, maxMergedSegmentMB=99.91015625, floorSegmentMB=1.61328125, forceMergeDeletesPctAllowed=13.14355618012578, segmentsPerTier=43.0, useCompoundFile=true, noCFSRatio=0.6942045777049252
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@61e4a649
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6a6134d4
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@13d380dc minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@13d380dc minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5449a5ba
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=234
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5d7a7d15
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=28, maxMergedSegmentMB=99.91015625, floorSegmentMB=1.61328125, forceMergeDeletesPctAllowed=13.14355618012578, segmentsPerTier=43.0, useCompoundFile=true, noCFSRatio=0.6942045777049252
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@14aa1da5
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2c80463c
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@198323f7 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@198323f7 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5bdd369f
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=234
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@652d618d
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=28, maxMergedSegmentMB=99.91015625, floorSegmentMB=1.61328125, forceMergeDeletesPctAllowed=13.14355618012578, segmentsPerTier=43.0, useCompoundFile=true, noCFSRatio=0.6942045777049252
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@65fa3e0
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@70ffca64
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@2940a531 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1457b484
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=234
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@43c9b57e
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=28, maxMergedSegmentMB=99.91015625, floorSegmentMB=1.61328125, forceMergeDeletesPctAllowed=13.14355618012578, segmentsPerTier=43.0, useCompoundFile=true, noCFSRatio=0.6942045777049252
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6faa85f6
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@244112c0
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@2c360dd8 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@2c360dd8 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@54c8010f
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=234
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4a11e43c
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=28, maxMergedSegmentMB=99.91015625, floorSegmentMB=1.61328125, forceMergeDeletesPctAllowed=13.14355618012578, segmentsPerTier=43.0, useCompoundFile=true, noCFSRatio=0.6942045777049252
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5c9f4521
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5c73a908
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@2d5e7ba3 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@35de01c9
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=234
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@357801e6
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=28, maxMergedSegmentMB=99.91015625, floorSegmentMB=1.61328125, forceMergeDeletesPctAllowed=13.14355618012578, segmentsPerTier=43.0, useCompoundFile=true, noCFSRatio=0.6942045777049252
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@59c4be76
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3b46305
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@37d0df29 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@43819455
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6a523a4f
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=41, maxMergeAtOnceExplicit=17, maxMergedSegmentMB=58.9267578125, floorSegmentMB=1.705078125, forceMergeDeletesPctAllowed=7.919610111128366, segmentsPerTier=11.0, useCompoundFile=false, noCFSRatio=0.8314574625498682
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3c724f11
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@74a50417
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@7dafbdd4 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@7dafbdd4 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done

TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@7dafbdd4 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@7dafbdd4 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done

TEST: Thread-1: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@47d052c3
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@558620f5
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=41, maxMergeAtOnceExplicit=17, maxMergedSegmentMB=58.9267578125, floorSegmentMB=1.705078125, forceMergeDeletesPctAllowed=7.919610111128366, segmentsPerTier=11.0, useCompoundFile=false, noCFSRatio=0.8314574625498682
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@58dde0b0
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4eca7064
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@4c98dda5 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@4c98dda5 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: done

TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@4c98dda5 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now add
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@50696e43
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@157090d9
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=41, maxMergeAtOnceExplicit=17, maxMergedSegmentMB=58.9267578125, floorSegmentMB=1.705078125, forceMergeDeletesPctAllowed=7.919610111128366, segmentsPerTier=11.0, useCompoundFile=false, noCFSRatio=0.8314574625498682
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1135a18e
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@58017a75
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1

TEST: Thread-4: now rollback
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@490ec476 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@490ec476 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: done

TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@490ec476 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@490ec476 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: done

TEST: Thread-3: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5d68fa45
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5d343f3b
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=41, maxMergeAtOnceExplicit=17, maxMergedSegmentMB=58.9267578125, floorSegmentMB=1.705078125, forceMergeDeletesPctAllowed=7.919610111128366, segmentsPerTier=11.0, useCompoundFile=false, noCFSRatio=0.8314574625498682
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@11236a4b
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2c176ab7
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@355f2afe minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@355f2afe minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done

TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@355f2afe minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@355f2afe minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done

TEST: Thread-4: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@716dadda
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7ad875c
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=41, maxMergeAtOnceExplicit=17, maxMergedSegmentMB=58.9267578125, floorSegmentMB=1.705078125, forceMergeDeletesPctAllowed=7.919610111128366, segmentsPerTier=11.0, useCompoundFile=false, noCFSRatio=0.8314574625498682
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1191acf4
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@72f1d02e
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@619ab6f6 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now commit

TEST: Thread-5: now add
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@691ae9e7
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5ea2f68b
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=41, maxMergeAtOnceExplicit=17, maxMergedSegmentMB=58.9267578125, floorSegmentMB=1.705078125, forceMergeDeletesPctAllowed=7.919610111128366, segmentsPerTier=11.0, useCompoundFile=false, noCFSRatio=0.8314574625498682
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1ce85037
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@57ea59b4
perThreadHardLimitMB=1945


TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@5aa76583 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@5aa76583 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: done

TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush

TEST: Thread-6: now add
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@75e9b5bb
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=967
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@738aa857
readerTermsIndexDivisor=4
termIndexInterval=106
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=34, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@14322304
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6798e5f7
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@6721f043 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@e9a139f
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=967
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7a0136b0
readerTermsIndexDivisor=4
termIndexInterval=106
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=34, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@65ad9b63
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@68b4b4bb
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@2fc596b1 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6478c466
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=967
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2dfc180a
readerTermsIndexDivisor=4
termIndexInterval=106
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=34, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@18e501c
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@262d5f10
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@6cbc2704 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5a0871f8
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=967
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@672ce4f6
readerTermsIndexDivisor=4
termIndexInterval=106
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=34, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@346c0765
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@205992c6
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@58b315c1 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@661de398
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=967
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4715407a
readerTermsIndexDivisor=4
termIndexInterval=106
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=34, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@443c2e0b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4af2f72c
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@cd867c2
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=967
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7ac84a5b
readerTermsIndexDivisor=4
termIndexInterval=106
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=34, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7389db56
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5f9f265c
perThreadHardLimitMB=1945


TEST: Thread-6: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@b102b93
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@59b5a0b
readerTermsIndexDivisor=1
termIndexInterval=86
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=35, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1a348b0d
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6f950feb
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6d35a468
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@52429664
readerTermsIndexDivisor=1
termIndexInterval=86
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=35, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@119fa96d
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@92c3c25
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@646dee9f
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@24cd3f3a
readerTermsIndexDivisor=1
termIndexInterval=86
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=35, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1ef20bb6
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@24dee999
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@28062593
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7f0205c2
readerTermsIndexDivisor=1
termIndexInterval=86
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=35, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5dc844b2
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7163238
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4e6cf5e8
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4323b632
readerTermsIndexDivisor=1
termIndexInterval=86
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=35, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5d8eaf0d
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4286ae77
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6aa69b6c
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3e658c79
readerTermsIndexDivisor=1
termIndexInterval=86
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=35, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7ce97bef
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@44c7c7fa
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@684a25ab
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=864
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4ad8d990
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=43, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@62b3a353
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7fa7d0c4
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@20e4af77
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=719
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1812344b
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=2067313953, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@53273445
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@32d8c8a9
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@f475d8e
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=256
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@721870dc
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=36, maxMergeAtOnceExplicit=45, maxMergedSegmentMB=12.1953125, floorSegmentMB=1.244140625, forceMergeDeletesPctAllowed=1.327636455922152, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.5870517160071306
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2299b609
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@197e1a9e
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort

TEST: Thread-1: now commit

TEST: Thread-1: now add

TEST: Thread-1: now commit

TEST: Thread-1: now commit

TEST: Thread-1: now commit

TEST: Thread-1: now add

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@15a24882
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=864
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@8500202
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=43, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3cb3d591
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@428a41b9
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@297b0d9d
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=719
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@387d784d
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=2067313953, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@35652434
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@32bed4f
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2b1e09a4
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=256
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@76f61156
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=36, maxMergeAtOnceExplicit=45, maxMergedSegmentMB=12.1953125, floorSegmentMB=1.244140625, forceMergeDeletesPctAllowed=1.327636455922152, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.5870517160071306
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@14ec621e
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2b1daa4d
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort

TEST: Thread-2: now add

TEST: Thread-2: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now abort

TEST: Thread-2: now add

TEST: Thread-2: now commit

TEST: Thread-2: now commit

TEST: Thread-2: now commit

TEST: Thread-2: now add

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7ed9cf64
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=864
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7ce39e84
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=43, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@43bc2c2a
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@76f79c23
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6d8e3013
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=719
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7874b547
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=2067313953, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@36298619
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6022ef16
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4839dcbd
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=256
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1b6bec1b
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=36, maxMergeAtOnceExplicit=45, maxMergedSegmentMB=12.1953125, floorSegmentMB=1.244140625, forceMergeDeletesPctAllowed=1.327636455922152, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.5870517160071306
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4a59eead
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5644c5fd
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort

TEST: Thread-3: now add

TEST: Thread-3: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now abort

TEST: Thread-3: now add

TEST: Thread-3: now commit

TEST: Thread-3: now commit

TEST: Thread-3: now commit

TEST: Thread-3: now add

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7bcdbcc2
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=864
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2b204e1b
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=43, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@55e7e4bb
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6b59dd0c
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1637bc9e
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=719
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@abb4949
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=2067313953, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@dc85d20
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5d59e6f1
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@40332031
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=256
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5c8f7f73
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=36, maxMergeAtOnceExplicit=45, maxMergedSegmentMB=12.1953125, floorSegmentMB=1.244140625, forceMergeDeletesPctAllowed=1.327636455922152, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.5870517160071306
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@50f8867e
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6c45e3b9
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort

TEST: Thread-4: now add

TEST: Thread-4: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now abort

TEST: Thread-4: now add

TEST: Thread-4: now commit

TEST: Thread-4: now commit

TEST: Thread-4: now commit

TEST: Thread-4: now add

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@594c9066
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=864
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@14b9337f
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=43, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@ae3e17a
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@76e8162b
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@70d88496
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=719
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2648b938
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=2067313953, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@70781f2a
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5e463815
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@799405a
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=256
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4c4cd88f
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=36, maxMergeAtOnceExplicit=45, maxMergedSegmentMB=12.1953125, floorSegmentMB=1.244140625, forceMergeDeletesPctAllowed=1.327636455922152, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.5870517160071306
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@491dbb6b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3efb934d
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now abort

TEST: Thread-5: now commit

TEST: Thread-5: now add

TEST: Thread-5: now commit

TEST: Thread-5: now commit

TEST: Thread-5: now commit

TEST: Thread-5: now add

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2bc4560a
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=864
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@87906a5
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=43, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@41a33efb
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@447bf267
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@656e018a
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=719
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@22b236ac
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=2067313953, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@622367ff
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@280c8af
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@57dc7b85
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=256
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@69cab16f
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=36, maxMergeAtOnceExplicit=45, maxMergedSegmentMB=12.1953125, floorSegmentMB=1.244140625, forceMergeDeletesPctAllowed=1.327636455922152, segmentsPerTier=31.0, useCompoundFile=true, noCFSRatio=0.5870517160071306
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7a4724ab
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@54b89544
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now abort

TEST: Thread-6: now commit

TEST: Thread-6: now add

TEST: Thread-6: now commit

TEST: Thread-6: now commit

TEST: Thread-6: now commit

TEST: Thread-6: now add

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3e42c3f9
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=342
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@608314f2
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=38, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=44.064453125, floorSegmentMB=1.38671875, forceMergeDeletesPctAllowed=17.144352624666464, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.5712997401378546
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3dd44d5e
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3d237608
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7811b0af
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@40ab5b6c
readerTermsIndexDivisor=3
termIndexInterval=39
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=32, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@31ff309f
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@68d1305d
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@7dbe5f6d minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@7dbe5f6d minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done

TEST: Thread-1: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@580760d7
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=342
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6a8b11f5
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=38, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=44.064453125, floorSegmentMB=1.38671875, forceMergeDeletesPctAllowed=17.144352624666464, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.5712997401378546
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@50482278
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2fcf1d75
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@722d6636
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@42c5e1d4
readerTermsIndexDivisor=3
termIndexInterval=39
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=32, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4d6d478b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@41741e63
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@2e771727 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@2e771727 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: done

TEST: Thread-2: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@33fe5528
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=342
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1d8902ab
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=38, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=44.064453125, floorSegmentMB=1.38671875, forceMergeDeletesPctAllowed=17.144352624666464, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.5712997401378546
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@e0e37b3
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@476acffa
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@15660a62
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@178b0831
readerTermsIndexDivisor=3
termIndexInterval=39
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=32, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@28c6d50a
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@15cc9870
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@2b2bec3e minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@2b2bec3e minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: done

TEST: Thread-3: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2168854c
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=342
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@12438289
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=38, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=44.064453125, floorSegmentMB=1.38671875, forceMergeDeletesPctAllowed=17.144352624666464, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.5712997401378546
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@e2ef9bd
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2e0dee91
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@16b2145c
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6f966b77
readerTermsIndexDivisor=3
termIndexInterval=39
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=32, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7c698adc
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@751bb153
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@6d16fc35 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@6d16fc35 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done

TEST: Thread-4: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2813e554
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=342
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@59933139
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=38, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=44.064453125, floorSegmentMB=1.38671875, forceMergeDeletesPctAllowed=17.144352624666464, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.5712997401378546
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4e84c320
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6e269225
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2a31feed
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@78f02d62
readerTermsIndexDivisor=3
termIndexInterval=39
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=32, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6033baf5
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@64375c2a
perThreadHardLimitMB=1945


TEST: Thread-5: now commit

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@6e83fccc minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now add
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@654a1209
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=342
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@339d6193
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=38, maxMergeAtOnceExplicit=26, maxMergedSegmentMB=44.064453125, floorSegmentMB=1.38671875, forceMergeDeletesPctAllowed=17.144352624666464, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.5712997401378546
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2171145e
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6f03879
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2b35b547
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@b74257f
readerTermsIndexDivisor=3
termIndexInterval=39
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=32, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7649bab8
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6281c2b3
perThreadHardLimitMB=1945


TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@3515a84b minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@3515a84b minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: done

TEST: Thread-6: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@298925ae
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=686
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3067d59a
readerTermsIndexDivisor=3
termIndexInterval=107
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=3, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@70f88a49
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4d3ef890
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@6130dd8e minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@6130dd8e minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@586a5f89
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=686
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@75074e09
readerTermsIndexDivisor=3
termIndexInterval=107
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=3, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@32946ce5
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2e794854
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@1c7b9aa2 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@1c7b9aa2 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@268bb0b0
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=686
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7e288894
readerTermsIndexDivisor=3
termIndexInterval=107
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=3, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@171eed41
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6f6a5242
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@2d3ea433 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@2d3ea433 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7a7caf9b
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=686
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@b6704b6
readerTermsIndexDivisor=3
termIndexInterval=107
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=3, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@18664e93
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@64b0a168
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@834e67d minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@834e67d minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2651177
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=686
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5d25379e
readerTermsIndexDivisor=3
termIndexInterval=107
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=3, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@366695d8
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@8f7b3cf
perThreadHardLimitMB=1945


TEST: Thread-5: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@3e3ddfa2 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@61c18960
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=686
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7bd6a535
readerTermsIndexDivisor=3
termIndexInterval=107
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=3, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@48f87a17
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3117a16e
perThreadHardLimitMB=1945


TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@66755f0 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@66755f0 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5c07481f
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@41fb43a2
readerTermsIndexDivisor=4
termIndexInterval=99
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=14, maxMergeAtOnceExplicit=13, maxMergedSegmentMB=79.20703125, floorSegmentMB=1.537109375, forceMergeDeletesPctAllowed=0.2320445171730623, segmentsPerTier=28.0, useCompoundFile=true, noCFSRatio=0.7410937601047819
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@57156285
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3cf7366d
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@a164d60 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@a164d60 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@53477b21
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7fb46468
readerTermsIndexDivisor=4
termIndexInterval=99
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=14, maxMergeAtOnceExplicit=13, maxMergedSegmentMB=79.20703125, floorSegmentMB=1.537109375, forceMergeDeletesPctAllowed=0.2320445171730623, segmentsPerTier=28.0, useCompoundFile=true, noCFSRatio=0.7410937601047819
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@1c2c2958
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@174e5edb
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@1a3587d1 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@1a3587d1 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@78741ea2
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6f9bc97
readerTermsIndexDivisor=4
termIndexInterval=99
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=14, maxMergeAtOnceExplicit=13, maxMergedSegmentMB=79.20703125, floorSegmentMB=1.537109375, forceMergeDeletesPctAllowed=0.2320445171730623, segmentsPerTier=28.0, useCompoundFile=true, noCFSRatio=0.7410937601047819
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@75cc6114
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3cf9a477
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@299c9fe7 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@299c9fe7 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1dfc617e
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6fb646d8
readerTermsIndexDivisor=4
termIndexInterval=99
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=14, maxMergeAtOnceExplicit=13, maxMergedSegmentMB=79.20703125, floorSegmentMB=1.537109375, forceMergeDeletesPctAllowed=0.2320445171730623, segmentsPerTier=28.0, useCompoundFile=true, noCFSRatio=0.7410937601047819
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@27e54834
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3de76262
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@21ec2fae minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@21ec2fae minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@247f5227
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@285532ca
readerTermsIndexDivisor=4
termIndexInterval=99
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=14, maxMergeAtOnceExplicit=13, maxMergedSegmentMB=79.20703125, floorSegmentMB=1.537109375, forceMergeDeletesPctAllowed=0.2320445171730623, segmentsPerTier=28.0, useCompoundFile=true, noCFSRatio=0.7410937601047819
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@71798075
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5fe0bb86
perThreadHardLimitMB=1945


TEST: Thread-5: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@1b378b97 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@1b378b97 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@276fcbc0
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@51fb3f37
readerTermsIndexDivisor=4
termIndexInterval=99
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=14, maxMergeAtOnceExplicit=13, maxMergedSegmentMB=79.20703125, floorSegmentMB=1.537109375, forceMergeDeletesPctAllowed=0.2320445171730623, segmentsPerTier=28.0, useCompoundFile=true, noCFSRatio=0.7410937601047819
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@45f35ded
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6c9b967b
perThreadHardLimitMB=1945


TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@5ab49cf1 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@5ab49cf1 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4899c2aa
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5fc65eb1
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=40, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5872e796
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5fc25637
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort

TEST: Thread-1: now commit

TEST: Thread-1: now add

TEST: Thread-1: now add

TEST: Thread-1: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7d4acb8
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@674290e2
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=40, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@43361a64
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@14febdb5
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now abort

TEST: Thread-2: now commit

TEST: Thread-2: now add

TEST: Thread-2: now add

TEST: Thread-2: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@524321b8
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6b7c1ee0
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=40, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@21cf3b41
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2c3b39be
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now abort

TEST: Thread-3: now commit

TEST: Thread-3: now add

TEST: Thread-3: now add

TEST: Thread-3: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@c5dfb7e
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@613efefe
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=40, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6ed70792
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@67323b17
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now abort

TEST: Thread-4: now commit

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now add

TEST: Thread-4: now commit
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@602a2cce
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@34fccd15
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=40, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@40fc38e0
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6efa1b74
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now abort

TEST: Thread-5: now commit

TEST: Thread-5: now add

TEST: Thread-5: now add

TEST: Thread-5: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@570eaaee
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1da814d1
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=40, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5eeb48d
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7a8f9805
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now abort

TEST: Thread-6: now commit

TEST: Thread-6: now add

TEST: Thread-6: now add

TEST: Thread-6: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@442933dc
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2c6e85a7
readerTermsIndexDivisor=3
termIndexInterval=68
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=42, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@c08adbb
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@dc5d629
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
MockAnalyzer: field=titleTokenized gets variable length payloads

TEST: Thread-1: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort

TEST: Thread-1: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@64a20878
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2a5a334
readerTermsIndexDivisor=3
termIndexInterval=68
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=42, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@487dac47
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@32b98e7f
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
MockAnalyzer: field=titleTokenized gets variable length payloads

TEST: Thread-2: now commit

TEST: Thread-2: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@200b6145
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@145af47d
readerTermsIndexDivisor=3
termIndexInterval=68
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=42, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5f6944fb
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@782febac
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
MockAnalyzer: field=titleTokenized gets variable length payloads

TEST: Thread-3: now commit

TEST: Thread-3: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@39a1e81a
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3b5df92e
readerTermsIndexDivisor=3
termIndexInterval=68
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=42, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@16925975
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@622f1be6
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback

TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges

TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2695c1ab
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@725fbeed
readerTermsIndexDivisor=3
termIndexInterval=68
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=42, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6beff444
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@568dd3b8
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer

TEST: Thread-5: now commit

TEST: Thread-5: now commit
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@24cb8f74
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2bf75a70
readerTermsIndexDivisor=3
termIndexInterval=68
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=42, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7c52859c
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@dc20488
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
MockAnalyzer: field=titleTokenized gets variable length payloads

TEST: Thread-6: now commit

TEST: Thread-6: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@29021b8a
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1b4fb007
readerTermsIndexDivisor=4
termIndexInterval=61
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=39, maxMergedSegmentMB=57.3125, floorSegmentMB=1.37109375, forceMergeDeletesPctAllowed=14.510838070603352, segmentsPerTier=39.0, useCompoundFile=false, noCFSRatio=0.7493022382755263
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@cada993
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5d57f865
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@27d51ad5
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@d0d1859
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=8, maxMergeAtOnceExplicit=9, maxMergedSegmentMB=48.71875, floorSegmentMB=0.380859375, forceMergeDeletesPctAllowed=8.985401469572816, segmentsPerTier=10.0, useCompoundFile=true, noCFSRatio=0.15452736008543227
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@56b981c0
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2cf590bb
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@2df0fc0c minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@2df0fc0c minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done

TEST: Thread-1: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3d0360b8
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7cac4159
readerTermsIndexDivisor=4
termIndexInterval=61
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=39, maxMergedSegmentMB=57.3125, floorSegmentMB=1.37109375, forceMergeDeletesPctAllowed=14.510838070603352, segmentsPerTier=39.0, useCompoundFile=false, noCFSRatio=0.7493022382755263
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@10f67a01
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@25c3e05a
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@65d43d1e
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@16db2cce
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=8, maxMergeAtOnceExplicit=9, maxMergedSegmentMB=48.71875, floorSegmentMB=0.380859375, forceMergeDeletesPctAllowed=8.985401469572816, segmentsPerTier=10.0, useCompoundFile=true, noCFSRatio=0.15452736008543227
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@f5a941b
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3b1807d
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@7a6a906f minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@7a6a906f minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: done

TEST: Thread-2: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7295bc43
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5df50665
readerTermsIndexDivisor=4
termIndexInterval=61
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=39, maxMergedSegmentMB=57.3125, floorSegmentMB=1.37109375, forceMergeDeletesPctAllowed=14.510838070603352, segmentsPerTier=39.0, useCompoundFile=false, noCFSRatio=0.7493022382755263
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1770114
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2be7c8cc
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@58a39c81
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6d86a830
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=8, maxMergeAtOnceExplicit=9, maxMergedSegmentMB=48.71875, floorSegmentMB=0.380859375, forceMergeDeletesPctAllowed=8.985401469572816, segmentsPerTier=10.0, useCompoundFile=true, noCFSRatio=0.15452736008543227
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@238c1f7d
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@446759c6
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@5d36f93f minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@5d36f93f minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: done

TEST: Thread-3: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@778decea
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@249cda3
readerTermsIndexDivisor=4
termIndexInterval=61
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=39, maxMergedSegmentMB=57.3125, floorSegmentMB=1.37109375, forceMergeDeletesPctAllowed=14.510838070603352, segmentsPerTier=39.0, useCompoundFile=false, noCFSRatio=0.7493022382755263
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3b5b8981
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@76a09298
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@74ea3b86
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@746c1c85
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=8, maxMergeAtOnceExplicit=9, maxMergedSegmentMB=48.71875, floorSegmentMB=0.380859375, forceMergeDeletesPctAllowed=8.985401469572816, segmentsPerTier=10.0, useCompoundFile=true, noCFSRatio=0.15452736008543227
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@65c49b79
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4ebb5921
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@6dd8ade8 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now add
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7227563
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@c3eed5
readerTermsIndexDivisor=4
termIndexInterval=61
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=39, maxMergedSegmentMB=57.3125, floorSegmentMB=1.37109375, forceMergeDeletesPctAllowed=14.510838070603352, segmentsPerTier=39.0, useCompoundFile=false, noCFSRatio=0.7493022382755263
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3f74e257
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@12b7de4d
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@602bd522
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4198339e
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=8, maxMergeAtOnceExplicit=9, maxMergedSegmentMB=48.71875, floorSegmentMB=0.380859375, forceMergeDeletesPctAllowed=8.985401469572816, segmentsPerTier=10.0, useCompoundFile=true, noCFSRatio=0.15452736008543227
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@6f64ebb6
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4aaf32dc
perThreadHardLimitMB=1945


TEST: Thread-5: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@34342fd2 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@34342fd2 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: done

TEST: Thread-5: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3160e498
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1cbbddb2
readerTermsIndexDivisor=4
termIndexInterval=61
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=39, maxMergedSegmentMB=57.3125, floorSegmentMB=1.37109375, forceMergeDeletesPctAllowed=14.510838070603352, segmentsPerTier=39.0, useCompoundFile=false, noCFSRatio=0.7493022382755263
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@71d7dfda
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@13a99b9a
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@64974bf0
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@a842f23
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=8, maxMergeAtOnceExplicit=9, maxMergedSegmentMB=48.71875, floorSegmentMB=0.380859375, forceMergeDeletesPctAllowed=8.985401469572816, segmentsPerTier=10.0, useCompoundFile=true, noCFSRatio=0.15452736008543227
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@6c32a839
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@71c26dad
perThreadHardLimitMB=1945


TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@13aeb334 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@13aeb334 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: done

TEST: Thread-6: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3a6adf2f
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1170e466
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=13, maxMergeAtOnceExplicit=21, maxMergedSegmentMB=75.2412109375, floorSegmentMB=1.1298828125, forceMergeDeletesPctAllowed=7.435673848989212, segmentsPerTier=37.0, useCompoundFile=false, noCFSRatio=0.40787134118926893
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@aa2ed7c
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4e956d58
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6caf4065
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4bea78f9
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=34, maxMergedSegmentMB=29.5087890625, floorSegmentMB=1.5029296875, forceMergeDeletesPctAllowed=15.354398644494156, segmentsPerTier=24.0, useCompoundFile=true, noCFSRatio=0.13498746309850135
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@eac4a5f
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5146aa7f
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort

TEST: Thread-1: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort

TEST: Thread-1: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@20a07db0
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@61aeec48
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=13, maxMergeAtOnceExplicit=21, maxMergedSegmentMB=75.2412109375, floorSegmentMB=1.1298828125, forceMergeDeletesPctAllowed=7.435673848989212, segmentsPerTier=37.0, useCompoundFile=false, noCFSRatio=0.40787134118926893
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@231a9d12
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@283e1abf
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@324eba57
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@453d9468
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=34, maxMergedSegmentMB=29.5087890625, floorSegmentMB=1.5029296875, forceMergeDeletesPctAllowed=15.354398644494156, segmentsPerTier=24.0, useCompoundFile=true, noCFSRatio=0.13498746309850135
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4dda5b5b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3aa3db4b
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort

TEST: Thread-2: now commit

TEST: Thread-2: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@22ebbf0d
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@76d1c4af
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=13, maxMergeAtOnceExplicit=21, maxMergedSegmentMB=75.2412109375, floorSegmentMB=1.1298828125, forceMergeDeletesPctAllowed=7.435673848989212, segmentsPerTier=37.0, useCompoundFile=false, noCFSRatio=0.40787134118926893
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@45c7fa1a
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4bf4e4c0
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1260f2be
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@66eda17e
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=34, maxMergedSegmentMB=29.5087890625, floorSegmentMB=1.5029296875, forceMergeDeletesPctAllowed=15.354398644494156, segmentsPerTier=24.0, useCompoundFile=true, noCFSRatio=0.13498746309850135
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7b058bfc
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@29298c7d
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort

TEST: Thread-3: now commit

TEST: Thread-3: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1c054382
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@32c81878
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=13, maxMergeAtOnceExplicit=21, maxMergedSegmentMB=75.2412109375, floorSegmentMB=1.1298828125, forceMergeDeletesPctAllowed=7.435673848989212, segmentsPerTier=37.0, useCompoundFile=false, noCFSRatio=0.40787134118926893
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6ebe8853
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1ee839f2
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@35f5b2c4
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@e9733fa
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=34, maxMergedSegmentMB=29.5087890625, floorSegmentMB=1.5029296875, forceMergeDeletesPctAllowed=15.354398644494156, segmentsPerTier=24.0, useCompoundFile=true, noCFSRatio=0.13498746309850135
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@68d56991
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1305e45c
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort

TEST: Thread-4: now commit

TEST: Thread-4: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1d06aa01
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@785aade4
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=13, maxMergeAtOnceExplicit=21, maxMergedSegmentMB=75.2412109375, floorSegmentMB=1.1298828125, forceMergeDeletesPctAllowed=7.435673848989212, segmentsPerTier=37.0, useCompoundFile=false, noCFSRatio=0.40787134118926893
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@94e9177
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5302067
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4328bff9
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@75da8739
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=34, maxMergedSegmentMB=29.5087890625, floorSegmentMB=1.5029296875, forceMergeDeletesPctAllowed=15.354398644494156, segmentsPerTier=24.0, useCompoundFile=true, noCFSRatio=0.13498746309850135
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5de3eba1
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1e82c72f
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort

TEST: Thread-5: now commit

TEST: Thread-5: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@14bb1579
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@43d1d96e
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=13, maxMergeAtOnceExplicit=21, maxMergedSegmentMB=75.2412109375, floorSegmentMB=1.1298828125, forceMergeDeletesPctAllowed=7.435673848989212, segmentsPerTier=37.0, useCompoundFile=false, noCFSRatio=0.40787134118926893
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@619e78b
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@eb059ce
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@59034977
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@27683756
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=34, maxMergedSegmentMB=29.5087890625, floorSegmentMB=1.5029296875, forceMergeDeletesPctAllowed=15.354398644494156, segmentsPerTier=24.0, useCompoundFile=true, noCFSRatio=0.13498746309850135
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2b090350
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5cb88f42
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort

TEST: Thread-6: now commit

TEST: Thread-6: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@38888dbe
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=552
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1a376e79
readerTermsIndexDivisor=2
termIndexInterval=61
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=20, maxMergedSegmentMB=86.9111328125, floorSegmentMB=2.138671875, forceMergeDeletesPctAllowed=29.42888705247032, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.23325016269997728
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2d35d761
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@29cf3877
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@10651114
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=968
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@798f5c1e
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1663701105, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@32e8f3eb
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5be5e369
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort

TEST: Thread-1: now commit

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort

TEST: Thread-1: now add

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@61f6eca2
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=552
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@27aa1558
readerTermsIndexDivisor=2
termIndexInterval=61
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=20, maxMergedSegmentMB=86.9111328125, floorSegmentMB=2.138671875, forceMergeDeletesPctAllowed=29.42888705247032, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.23325016269997728
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@f5f58c0
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3cbbad22
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@66e82bff
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=968
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1d5bd19e
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1663701105, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@771eeb20
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@edebef9
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort

TEST: Thread-2: now commit

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now abort

TEST: Thread-2: now add

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@23933646
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=552
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1ca81e44
readerTermsIndexDivisor=2
termIndexInterval=61
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=20, maxMergedSegmentMB=86.9111328125, floorSegmentMB=2.138671875, forceMergeDeletesPctAllowed=29.42888705247032, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.23325016269997728
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@615b110e
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@21bce011
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@73fc840d
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=968
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@436daf20
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1663701105, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@56048075
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@418dad71
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort

TEST: Thread-3: now commit

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now abort

TEST: Thread-3: now add

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@462f654
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=552
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2a01dba5
readerTermsIndexDivisor=2
termIndexInterval=61
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=20, maxMergedSegmentMB=86.9111328125, floorSegmentMB=2.138671875, forceMergeDeletesPctAllowed=29.42888705247032, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.23325016269997728
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5ffb432e
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@68f7b23c
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6b99d741
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=968
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5092eefe
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1663701105, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5e888f05
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5765c1bf
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort

TEST: Thread-4: now commit

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now abort

TEST: Thread-4: now add

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@702cf1a9
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=552
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@276c8cbc
readerTermsIndexDivisor=2
termIndexInterval=61
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=20, maxMergedSegmentMB=86.9111328125, floorSegmentMB=2.138671875, forceMergeDeletesPctAllowed=29.42888705247032, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.23325016269997728
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@478b9edc
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1f6aa236
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7ae5fdad
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=968
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@56aa657d
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1663701105, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4ced1dfe
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@634c3626
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort

TEST: Thread-5: now commit

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now abort

TEST: Thread-5: now add

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4f11241e
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=552
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1029bf49
readerTermsIndexDivisor=2
termIndexInterval=61
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=20, maxMergedSegmentMB=86.9111328125, floorSegmentMB=2.138671875, forceMergeDeletesPctAllowed=29.42888705247032, segmentsPerTier=19.0, useCompoundFile=true, noCFSRatio=0.23325016269997728
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@24cd59e9
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@25c9e2df
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@52d95e69
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=968
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@18d1287b
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1663701105, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4bb8aff7
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4a28a7f7
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort

TEST: Thread-6: now commit

TEST: Thread-6: now add

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now abort

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7a58ebff
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=544
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@55338621
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=41, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@29ab0c3a
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1cafc935
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6818b628
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1a275a2e
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=36, maxMergeAtOnceExplicit=22, maxMergedSegmentMB=17.8359375, floorSegmentMB=1.8876953125, forceMergeDeletesPctAllowed=6.9961486697395046, segmentsPerTier=40.0, useCompoundFile=true, noCFSRatio=0.7855386416265926
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@d918f6c
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4f5f0269
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5326f8f
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@44e43d5e
readerTermsIndexDivisor=3
termIndexInterval=121
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1318257308, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@647909a7
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4668e679
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@70074fd2
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=319
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2f22c959
readerTermsIndexDivisor=4
termIndexInterval=60
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=24, maxMergedSegmentMB=0.4873046875, floorSegmentMB=1.6923828125, forceMergeDeletesPctAllowed=22.423557901889748, segmentsPerTier=49.0, useCompoundFile=true, noCFSRatio=0.652821543757903
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@14d10a3c
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@27f6f3d1
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3622102f
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=287
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5d590461
readerTermsIndexDivisor=3
termIndexInterval=82
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=36, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7f2eac27
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@512875ac
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6f7b043b
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=805
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7f806d54
readerTermsIndexDivisor=2
termIndexInterval=75
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@4889e731
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@55a9672b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@64b463fc
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@7f10690a minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3fe90245
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=544
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@194ec90
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=41, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5836e2bf
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7b6096d7
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@58a606e3
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@344dc027
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=36, maxMergeAtOnceExplicit=22, maxMergedSegmentMB=17.8359375, floorSegmentMB=1.8876953125, forceMergeDeletesPctAllowed=6.9961486697395046, segmentsPerTier=40.0, useCompoundFile=true, noCFSRatio=0.7855386416265926
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5c825b44
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7235fcce
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5e47e8e2
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@266f2c06
readerTermsIndexDivisor=3
termIndexInterval=121
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1318257308, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4cb351a0
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@10b406b7
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@34aa287f
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=319
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6dedd411
readerTermsIndexDivisor=4
termIndexInterval=60
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=24, maxMergedSegmentMB=0.4873046875, floorSegmentMB=1.6923828125, forceMergeDeletesPctAllowed=22.423557901889748, segmentsPerTier=49.0, useCompoundFile=true, noCFSRatio=0.652821543757903
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@18fde079
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@439c34c0
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3f58ae24
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=287
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@14497ea6
readerTermsIndexDivisor=3
termIndexInterval=82
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=36, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6519ceb1
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@150fa52
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4ef55d5d
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=805
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@eaa098a
readerTermsIndexDivisor=2
termIndexInterval=75
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@3d584a8b
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6f860b23
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@49456008
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: now prepare

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@69a3d2cc minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@627bceec
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=544
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1e06fbc6
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=41, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5c7b9390
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3515025f
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4c1e6823
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@31ebe3a7
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=36, maxMergeAtOnceExplicit=22, maxMergedSegmentMB=17.8359375, floorSegmentMB=1.8876953125, forceMergeDeletesPctAllowed=6.9961486697395046, segmentsPerTier=40.0, useCompoundFile=true, noCFSRatio=0.7855386416265926
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@75af028b
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@34d03009
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@62caa55
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@27498e50
readerTermsIndexDivisor=3
termIndexInterval=121
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1318257308, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4e1e3a56
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@22880c2b
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@66c9c89f
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=319
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@50b7c740
readerTermsIndexDivisor=4
termIndexInterval=60
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=24, maxMergedSegmentMB=0.4873046875, floorSegmentMB=1.6923828125, forceMergeDeletesPctAllowed=22.423557901889748, segmentsPerTier=49.0, useCompoundFile=true, noCFSRatio=0.652821543757903
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@517a6426
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3a452494
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@b7c0a73
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=287
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6f03d792
readerTermsIndexDivisor=3
termIndexInterval=82
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=36, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@653deb2e
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@441b4cef
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@83cbd93
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=805
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3023033d
readerTermsIndexDivisor=2
termIndexInterval=75
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@4aa9b27b
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4b04cf88
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@28d51032
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush

TEST: Thread-4: now rollback
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@3c1a578f minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7c0817a
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=544
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5f3591e8
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=41, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@35fe472d
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@48f2f70c
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1246ec20
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@393c3737
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=36, maxMergeAtOnceExplicit=22, maxMergedSegmentMB=17.8359375, floorSegmentMB=1.8876953125, forceMergeDeletesPctAllowed=6.9961486697395046, segmentsPerTier=40.0, useCompoundFile=true, noCFSRatio=0.7855386416265926
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@204d193c
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@25b3c2b5
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@33935a68
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4fd63016
readerTermsIndexDivisor=3
termIndexInterval=121
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1318257308, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@76ef1d4c
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4c6ca594
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5a43dcca
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=319
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@27882f93
readerTermsIndexDivisor=4
termIndexInterval=60
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=24, maxMergedSegmentMB=0.4873046875, floorSegmentMB=1.6923828125, forceMergeDeletesPctAllowed=22.423557901889748, segmentsPerTier=49.0, useCompoundFile=true, noCFSRatio=0.652821543757903
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5deb702b
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@c114739
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@464ea113
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=287
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4c6efbef
readerTermsIndexDivisor=3
termIndexInterval=82
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=36, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@a5e2f1d
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2d671e3c
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@72f856ce
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=805
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@75efb813
readerTermsIndexDivisor=2
termIndexInterval=75
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@4d1e23e2
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@75c5f1fb
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1691d225
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@3f7b86b6 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@54b7b17a
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=544
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@300d438c
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=41, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@36cdb4f9
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7b24638a
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7537ad70
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@677b5466
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=36, maxMergeAtOnceExplicit=22, maxMergedSegmentMB=17.8359375, floorSegmentMB=1.8876953125, forceMergeDeletesPctAllowed=6.9961486697395046, segmentsPerTier=40.0, useCompoundFile=true, noCFSRatio=0.7855386416265926
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@51e2299d
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@571a2c6a
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@12afa082
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@270784d8
readerTermsIndexDivisor=3
termIndexInterval=121
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1318257308, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5ea294ec
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3df427e
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4fc17c3a
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=319
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@65c509e0
readerTermsIndexDivisor=4
termIndexInterval=60
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=24, maxMergedSegmentMB=0.4873046875, floorSegmentMB=1.6923828125, forceMergeDeletesPctAllowed=22.423557901889748, segmentsPerTier=49.0, useCompoundFile=true, noCFSRatio=0.652821543757903
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6b0b8552
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@415e0165
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@156a0d22
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=287
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@15858f02
readerTermsIndexDivisor=3
termIndexInterval=82
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=36, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@736fd757
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@33a2cbf6
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1ed56fe5
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=805
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@a26c417
readerTermsIndexDivisor=2
termIndexInterval=75
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@7713c735
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@337ba5a6
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7ab84fb1
perThreadHardLimitMB=1945


TEST: Thread-5: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush

TEST: Thread-6: now rollback
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@5a782c68 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@35ace47d
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=544
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3c53a57c
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=41, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@17958ed5
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5bd44e0b
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@12cf16d9
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5472f262
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=36, maxMergeAtOnceExplicit=22, maxMergedSegmentMB=17.8359375, floorSegmentMB=1.8876953125, forceMergeDeletesPctAllowed=6.9961486697395046, segmentsPerTier=40.0, useCompoundFile=true, noCFSRatio=0.7855386416265926
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@46872b3e
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5428179e
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2f173a25
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4d68934
readerTermsIndexDivisor=3
termIndexInterval=121
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1318257308, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@20c9b767
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1b27dc02
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7edf6d84
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=319
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7eafa268
readerTermsIndexDivisor=4
termIndexInterval=60
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=24, maxMergedSegmentMB=0.4873046875, floorSegmentMB=1.6923828125, forceMergeDeletesPctAllowed=22.423557901889748, segmentsPerTier=49.0, useCompoundFile=true, noCFSRatio=0.652821543757903
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3ccf9ad2
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@61bd702e
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3f3d92b4
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=287
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@518bfb2
readerTermsIndexDivisor=3
termIndexInterval=82
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=36, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1bd141bb
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@47326a41
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@531b9cc4
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=805
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1fdbdec3
readerTermsIndexDivisor=2
termIndexInterval=75
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@1bfde48c
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@39a7b1af
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@308275bb
perThreadHardLimitMB=1945


TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@44ff60de minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@eddd794
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@479dc697
readerTermsIndexDivisor=3
termIndexInterval=28
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=25, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=79.1875, floorSegmentMB=0.38671875, forceMergeDeletesPctAllowed=21.9067882639835, segmentsPerTier=12.0, useCompoundFile=true, noCFSRatio=0.45460286476464684
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4759083c
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@262bbfbc
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1

TEST: Thread-2: now rollback
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@238e338 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@238e338 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done

TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@238e338 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@238e338 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@126c0ee9
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@429cafd8
readerTermsIndexDivisor=3
termIndexInterval=28
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=25, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=79.1875, floorSegmentMB=0.38671875, forceMergeDeletesPctAllowed=21.9067882639835, segmentsPerTier=12.0, useCompoundFile=true, noCFSRatio=0.45460286476464684
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3cdcb012
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3cab8cf5
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1

TEST: Thread-3: now rollback
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@22b347f1 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@22b347f1 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: done

TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@22b347f1 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@22b347f1 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@17257e26
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@24ac5a9a
readerTermsIndexDivisor=3
termIndexInterval=28
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=25, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=79.1875, floorSegmentMB=0.38671875, forceMergeDeletesPctAllowed=21.9067882639835, segmentsPerTier=12.0, useCompoundFile=true, noCFSRatio=0.45460286476464684
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2f704745
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@74571b57
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1

TEST: Thread-4: now rollback
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@2c4286d minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@2c4286d minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: done

TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@2c4286d minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@2c4286d minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@14d6cc5e
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@489bcfd4
readerTermsIndexDivisor=3
termIndexInterval=28
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=25, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=79.1875, floorSegmentMB=0.38671875, forceMergeDeletesPctAllowed=21.9067882639835, segmentsPerTier=12.0, useCompoundFile=true, noCFSRatio=0.45460286476464684
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6d698c89
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2c89ae7d
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1

TEST: Thread-5: now rollback
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@31ea763 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@31ea763 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done

TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@31ea763 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@31ea763 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@53fb9d58
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@43036682
readerTermsIndexDivisor=3
termIndexInterval=28
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=25, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=79.1875, floorSegmentMB=0.38671875, forceMergeDeletesPctAllowed=21.9067882639835, segmentsPerTier=12.0, useCompoundFile=true, noCFSRatio=0.45460286476464684
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@143f032d
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@34e989bd
perThreadHardLimitMB=1945


TEST: Thread-5: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1

TEST: Thread-6: now rollback
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@5051f26e minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@5051f26e minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: done

TEST: Thread-5: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@5051f26e minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@5051f26e minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@53077cc5
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@48e55177
readerTermsIndexDivisor=3
termIndexInterval=28
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=25, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=79.1875, floorSegmentMB=0.38671875, forceMergeDeletesPctAllowed=21.9067882639835, segmentsPerTier=12.0, useCompoundFile=true, noCFSRatio=0.45460286476464684
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@47478104
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2767522b
perThreadHardLimitMB=1945


TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1

TEST: Thread-1: now rollback
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@70439942 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@70439942 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: done

TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@70439942 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@70439942 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@18a52c57
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=752
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7c3c2d88
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=42, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@52d17b70
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@36ff208a
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1bf13ad
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=509
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@76789566
readerTermsIndexDivisor=2
termIndexInterval=96
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=22, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6698984d
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2c371bda
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6162abf8
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=588
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@58aa5672
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=5, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@171183d8
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7ee6e5bc
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6e11c7f6
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=752
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@52097ce5
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=42, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6ce6c876
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2372f2d5
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@51aa39ff
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=509
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@143c1178
readerTermsIndexDivisor=2
termIndexInterval=96
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=22, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@739ee7a8
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@457b01e5
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7f4c29ec
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=588
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@369b32b2
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=5, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@71d6020
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1991d886
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4866160b
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=752
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@46a2cbf2
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=42, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@69fba118
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@70d6504
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@74b93ab6
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=509
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4e879f38
readerTermsIndexDivisor=2
termIndexInterval=96
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=22, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@29e63dcf
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4ae3f686
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@67467dbe
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=588
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@736fbc5
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=5, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2acb4636
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@76e992d
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7fea7f98
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=752
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@596d444a
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=42, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@149e8424
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@32f5620f
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@66310f46
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=509
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3759beff
readerTermsIndexDivisor=2
termIndexInterval=96
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=22, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@650a73bc
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@11346f77
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@351ca2e4
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=588
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2e0e85e1
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=5, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3b778e66
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2625e90a
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@155ce9a1
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=752
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@69fd17c1
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=42, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6722b643
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@17ec1d9b
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@21d71fbe
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=509
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2ef5774e
readerTermsIndexDivisor=2
termIndexInterval=96
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=22, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@756bb9f7
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@737e435a
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4aa85e
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=588
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7f7ee44
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=5, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@263bb672
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1a4709fa
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@16a03e18
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=752
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3b953684
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=42, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@412e32ab
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@400099fb
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@511c627c
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=509
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7ab51662
readerTermsIndexDivisor=2
termIndexInterval=96
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=22, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6d0bade
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@719c4850
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3b999ccc
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=588
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@695d02be
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=5, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@595f3dfc
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7bde993a
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@58583098
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@752f6c83
readerTermsIndexDivisor=3
termIndexInterval=125
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=38, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7c7d488f
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@526e423
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5d03015b
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=863
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@4a003082
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=31, maxMergedSegmentMB=72.298828125, floorSegmentMB=1.3017578125, forceMergeDeletesPctAllowed=9.05628339519889, segmentsPerTier=40.0, useCompoundFile=true, noCFSRatio=0.10538436372772059
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5270ccc2
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6b92fed6
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@7f98cac6 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done

TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@7f98cac6 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done

TEST: Thread-1: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@24baf3e
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2250623e
readerTermsIndexDivisor=3
termIndexInterval=125
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=38, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4b61e60b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@84602d7
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7a597692
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=863
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1f131551
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=31, maxMergedSegmentMB=72.298828125, floorSegmentMB=1.3017578125, forceMergeDeletesPctAllowed=9.05628339519889, segmentsPerTier=40.0, useCompoundFile=true, noCFSRatio=0.10538436372772059
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1ddc88c7
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7997d021
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: now prepare

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@5de164e4 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: done

TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@5de164e4 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: done

TEST: Thread-2: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@55b8ffe1
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@307890f2
readerTermsIndexDivisor=3
termIndexInterval=125
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=38, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3b7418ba
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@430379d4
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5e33f929
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=863
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@425dfbfc
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=31, maxMergedSegmentMB=72.298828125, floorSegmentMB=1.3017578125, forceMergeDeletesPctAllowed=9.05628339519889, segmentsPerTier=40.0, useCompoundFile=true, noCFSRatio=0.10538436372772059
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@284a7f6e
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@32f4236c
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: now prepare

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@3a41a196 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: done

TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@3a41a196 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: done

TEST: Thread-3: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@187790ec
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@29b5a780
readerTermsIndexDivisor=3
termIndexInterval=125
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=38, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5507d9e4
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@76723358
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@64198527
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=863
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@68282de2
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=31, maxMergedSegmentMB=72.298828125, floorSegmentMB=1.3017578125, forceMergeDeletesPctAllowed=9.05628339519889, segmentsPerTier=40.0, useCompoundFile=true, noCFSRatio=0.10538436372772059
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@25dc85da
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@30d7bea1
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@24245514 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done

TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer

TEST: Thread-4: now add
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7476bfbd
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5ffaf43a
readerTermsIndexDivisor=3
termIndexInterval=125
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=38, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@54b83d10
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@bb110e4
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5e42b174
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=863
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5c930dae
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=31, maxMergedSegmentMB=72.298828125, floorSegmentMB=1.3017578125, forceMergeDeletesPctAllowed=9.05628339519889, segmentsPerTier=40.0, useCompoundFile=true, noCFSRatio=0.10538436372772059
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3a6749fd
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@532a9eff
perThreadHardLimitMB=1945


TEST: Thread-5: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: now prepare

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@132ca201 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: done

TEST: Thread-5: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@132ca201 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: done

TEST: Thread-5: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7913938a
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6aad8bf3
readerTermsIndexDivisor=3
termIndexInterval=125
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=38, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@27bf353c
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7a400a86
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7e229394
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=863
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3dc5a51f
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=31, maxMergedSegmentMB=72.298828125, floorSegmentMB=1.3017578125, forceMergeDeletesPctAllowed=9.05628339519889, segmentsPerTier=40.0, useCompoundFile=true, noCFSRatio=0.10538436372772059
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7adbb5e7
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6e838fb4
perThreadHardLimitMB=1945


TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@7f4fab1a minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: done

TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@7f4fab1a minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: done

TEST: Thread-6: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@27130e38
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3edd0e8a
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=48, maxMergedSegmentMB=56.6357421875, floorSegmentMB=1.49609375, forceMergeDeletesPctAllowed=23.95623900557053, segmentsPerTier=39.0, useCompoundFile=false, noCFSRatio=0.1420981612717066
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@22e5a644
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1306cc42
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@234c0ad0 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done

TEST: Thread-1: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@759e0c2
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@45c4d981
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=48, maxMergedSegmentMB=56.6357421875, floorSegmentMB=1.49609375, forceMergeDeletesPctAllowed=23.95623900557053, segmentsPerTier=39.0, useCompoundFile=false, noCFSRatio=0.1420981612717066
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7ea3c7ef
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@329b5cdd
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: now prepare

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@75edcb1f minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: done

TEST: Thread-2: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@39d88fef
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2c06713a
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=48, maxMergedSegmentMB=56.6357421875, floorSegmentMB=1.49609375, forceMergeDeletesPctAllowed=23.95623900557053, segmentsPerTier=39.0, useCompoundFile=false, noCFSRatio=0.1420981612717066
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5af3ad6a
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@33fe38cc
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: now prepare

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@7742f3be minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: done

TEST: Thread-3: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1455bcd7
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5b48760d
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=48, maxMergedSegmentMB=56.6357421875, floorSegmentMB=1.49609375, forceMergeDeletesPctAllowed=23.95623900557053, segmentsPerTier=39.0, useCompoundFile=false, noCFSRatio=0.1420981612717066
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@723e7e4c
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@64d5ea2c
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@1801226c minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done

TEST: Thread-4: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4d39a005
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4450039b
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=48, maxMergedSegmentMB=56.6357421875, floorSegmentMB=1.49609375, forceMergeDeletesPctAllowed=23.95623900557053, segmentsPerTier=39.0, useCompoundFile=false, noCFSRatio=0.1420981612717066
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@611cd826
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2cb2d899
perThreadHardLimitMB=1945


TEST: Thread-5: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: now prepare

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@11aa3bbc minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: done

TEST: Thread-5: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5d4ee7d0
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5a5a7c64
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=15, maxMergeAtOnceExplicit=48, maxMergedSegmentMB=56.6357421875, floorSegmentMB=1.49609375, forceMergeDeletesPctAllowed=23.95623900557053, segmentsPerTier=39.0, useCompoundFile=false, noCFSRatio=0.1420981612717066
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6a9cb793
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@56d84a93
perThreadHardLimitMB=1945


TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: now prepare

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@12082570 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: done

TEST: Thread-6: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6f1773e4
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=537
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2adc675
readerTermsIndexDivisor=1
termIndexInterval=414
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=29, maxMergeAtOnceExplicit=32, maxMergedSegmentMB=97.439453125, floorSegmentMB=1.7646484375, forceMergeDeletesPctAllowed=2.075247742312616, segmentsPerTier=41.0, useCompoundFile=true, noCFSRatio=0.266326694456252
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5ec02cb2
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1ab68ab7
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1ff16ecc
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=537
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7cbecd86
readerTermsIndexDivisor=1
termIndexInterval=414
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=29, maxMergeAtOnceExplicit=32, maxMergedSegmentMB=97.439453125, floorSegmentMB=1.7646484375, forceMergeDeletesPctAllowed=2.075247742312616, segmentsPerTier=41.0, useCompoundFile=true, noCFSRatio=0.266326694456252
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@52a75865
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@689c7947
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7f74a932
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=537
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@764d1b64
readerTermsIndexDivisor=1
termIndexInterval=414
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=29, maxMergeAtOnceExplicit=32, maxMergedSegmentMB=97.439453125, floorSegmentMB=1.7646484375, forceMergeDeletesPctAllowed=2.075247742312616, segmentsPerTier=41.0, useCompoundFile=true, noCFSRatio=0.266326694456252
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@40417ee9
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@bf313f4
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3a031ba7
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=537
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6e9799d1
readerTermsIndexDivisor=1
termIndexInterval=414
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=29, maxMergeAtOnceExplicit=32, maxMergedSegmentMB=97.439453125, floorSegmentMB=1.7646484375, forceMergeDeletesPctAllowed=2.075247742312616, segmentsPerTier=41.0, useCompoundFile=true, noCFSRatio=0.266326694456252
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@22f3a110
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@28d3335d
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@58093909
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=537
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@742f46a
readerTermsIndexDivisor=1
termIndexInterval=414
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=29, maxMergeAtOnceExplicit=32, maxMergedSegmentMB=97.439453125, floorSegmentMB=1.7646484375, forceMergeDeletesPctAllowed=2.075247742312616, segmentsPerTier=41.0, useCompoundFile=true, noCFSRatio=0.266326694456252
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3cbc5edf
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@72f8a19f
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@60cf3fb3
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=537
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@458cb6f6
readerTermsIndexDivisor=1
termIndexInterval=414
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=29, maxMergeAtOnceExplicit=32, maxMergedSegmentMB=97.439453125, floorSegmentMB=1.7646484375, forceMergeDeletesPctAllowed=2.075247742312616, segmentsPerTier=41.0, useCompoundFile=true, noCFSRatio=0.266326694456252
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@193ff426
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@35b5f7bd
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@f2ac165
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=296
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@59c74323
readerTermsIndexDivisor=4
termIndexInterval=118
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=19, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=74.66796875, floorSegmentMB=0.3134765625, forceMergeDeletesPctAllowed=16.48787219625012, segmentsPerTier=37.0, useCompoundFile=false, noCFSRatio=0.5877367818011624
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2908dce1
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4dd4cd3
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1a36ca59
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=916
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@22f1432b
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=2, maxMergeAtOnceExplicit=4, maxMergedSegmentMB=1.25, floorSegmentMB=1.23046875, forceMergeDeletesPctAllowed=7.50802847046346, segmentsPerTier=32.0, useCompoundFile=false, noCFSRatio=0.542995327969089
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@d70cdf9
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@68e29d53
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1

TEST: Thread-2: now rollback
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@75c6e9f0 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@75c6e9f0 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done

TEST: Thread-1: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@190d3757
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=296
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@28f98d83
readerTermsIndexDivisor=4
termIndexInterval=118
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=19, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=74.66796875, floorSegmentMB=0.3134765625, forceMergeDeletesPctAllowed=16.48787219625012, segmentsPerTier=37.0, useCompoundFile=false, noCFSRatio=0.5877367818011624
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@17b9a879
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1de3ac1a
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@690ca404
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=916
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@34a3ef26
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=2, maxMergeAtOnceExplicit=4, maxMergedSegmentMB=1.25, floorSegmentMB=1.23046875, forceMergeDeletesPctAllowed=7.50802847046346, segmentsPerTier=32.0, useCompoundFile=false, noCFSRatio=0.542995327969089
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@76a9c2c9
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@33356fc
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1

TEST: Thread-3: now rollback
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@1f93bc08 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer

TEST: Thread-2: now add
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5066219c
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=296
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@33abbf6f
readerTermsIndexDivisor=4
termIndexInterval=118
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=19, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=74.66796875, floorSegmentMB=0.3134765625, forceMergeDeletesPctAllowed=16.48787219625012, segmentsPerTier=37.0, useCompoundFile=false, noCFSRatio=0.5877367818011624
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@50a52ae9
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@ba4505c
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@b0044a6
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=916
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@18f7a385
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=2, maxMergeAtOnceExplicit=4, maxMergedSegmentMB=1.25, floorSegmentMB=1.23046875, forceMergeDeletesPctAllowed=7.50802847046346, segmentsPerTier=32.0, useCompoundFile=false, noCFSRatio=0.542995327969089
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2a107d91
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@20a3d02a
perThreadHardLimitMB=1945


TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1

TEST: Thread-4: now rollback
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@62b78623 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@62b78623 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: done

TEST: Thread-3: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4bf20c84
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=296
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3f7b3304
readerTermsIndexDivisor=4
termIndexInterval=118
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=19, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=74.66796875, floorSegmentMB=0.3134765625, forceMergeDeletesPctAllowed=16.48787219625012, segmentsPerTier=37.0, useCompoundFile=false, noCFSRatio=0.5877367818011624
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@31526c2b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1a3b9459
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7494c20
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=916
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@666f258a
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=2, maxMergeAtOnceExplicit=4, maxMergedSegmentMB=1.25, floorSegmentMB=1.23046875, forceMergeDeletesPctAllowed=7.50802847046346, segmentsPerTier=32.0, useCompoundFile=false, noCFSRatio=0.542995327969089
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@b09bb90
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2bf8f099
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1

TEST: Thread-5: now rollback
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@647be35c minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@647be35c minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done

TEST: Thread-4: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@f27bf78
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=296
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@503b4766
readerTermsIndexDivisor=4
termIndexInterval=118
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=19, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=74.66796875, floorSegmentMB=0.3134765625, forceMergeDeletesPctAllowed=16.48787219625012, segmentsPerTier=37.0, useCompoundFile=false, noCFSRatio=0.5877367818011624
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@63cca2b0
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@fcd0400
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4437601e
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=916
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@ac067a8
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=2, maxMergeAtOnceExplicit=4, maxMergedSegmentMB=1.25, floorSegmentMB=1.23046875, forceMergeDeletesPctAllowed=7.50802847046346, segmentsPerTier=32.0, useCompoundFile=false, noCFSRatio=0.542995327969089
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5dd54c1b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5e77b0bd
perThreadHardLimitMB=1945


TEST: Thread-5: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1

TEST: Thread-6: now rollback
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@3f478bf minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@3f478bf minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: done

TEST: Thread-5: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@dd4fe75
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=296
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@74dbc2b1
readerTermsIndexDivisor=4
termIndexInterval=118
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=19, maxMergeAtOnceExplicit=40, maxMergedSegmentMB=74.66796875, floorSegmentMB=0.3134765625, forceMergeDeletesPctAllowed=16.48787219625012, segmentsPerTier=37.0, useCompoundFile=false, noCFSRatio=0.5877367818011624
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7cb2e67
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2c537030
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@14458b82
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=916
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@109dfdfd
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=2, maxMergeAtOnceExplicit=4, maxMergedSegmentMB=1.25, floorSegmentMB=1.23046875, forceMergeDeletesPctAllowed=7.50802847046346, segmentsPerTier=32.0, useCompoundFile=false, noCFSRatio=0.542995327969089
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@748df590
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@13f4fcb8
perThreadHardLimitMB=1945


TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@38fb9e44 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@38fb9e44 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: done

TEST: Thread-6: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@332c88cc
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@774512da
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1550451278, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@57d8e362
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@603863fc
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@50f47076
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@33a269e
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1550451278, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5ebd50b9
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5efed246
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2ba8448f
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2ec07b39
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1550451278, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5ed9f329
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@36eb3965
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@24420c5
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1a3e6224
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1550451278, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@759d36f1
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2482448a
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3f1dae99
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@774690fe
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1550451278, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@39d950df
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6a4c7e24
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@124cf2de
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@50249973
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1550451278, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@12d67620
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3de53889
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3ba8e971
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=270
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@5476bf3c
readerTermsIndexDivisor=1
termIndexInterval=46
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=13, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@40052776
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1261d4d0
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@73ce8065
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=270
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7a63b09c
readerTermsIndexDivisor=1
termIndexInterval=46
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=13, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@26e0108a
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@405de7f6
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now abort

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5e57e639
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=270
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@44b6ae44
readerTermsIndexDivisor=1
termIndexInterval=46
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=13, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@356b159a
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@9574cdc
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now abort

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4af4ba53
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=270
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7837cb30
readerTermsIndexDivisor=1
termIndexInterval=46
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=13, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@16fcf9f9
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3a7f5639
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now abort

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@593e9bf1
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=270
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@20e587de
readerTermsIndexDivisor=1
termIndexInterval=46
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=13, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3d3b10b1
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@70c4f3de
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now abort

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@680c4380
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=270
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@66d7fd2e
readerTermsIndexDivisor=1
termIndexInterval=46
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=13, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=false, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6e2f0bc1
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@52ace46a
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort

TEST: Thread-6: now add

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6b9c0a9d
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@762fe238
readerTermsIndexDivisor=1
termIndexInterval=108
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@41ad0726
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@46b07179
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@69e9e330
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@31be02c2
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7e3b9617
readerTermsIndexDivisor=1
termIndexInterval=108
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@79fb00bf
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4dee3a29
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@532c81b7
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1856310a
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2ca8fc2d
readerTermsIndexDivisor=1
termIndexInterval=108
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@a440543
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@77b576f8
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2a95d12e
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3b15eab5
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2c2b74c4
readerTermsIndexDivisor=1
termIndexInterval=108
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@58ff0683
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4f04b01a
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3cc5a37d
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@282c1f9d
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@67de324d
readerTermsIndexDivisor=1
termIndexInterval=108
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@2cb89281
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@99a6a17
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@78ab10ed
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3aa7a861
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@337bf6ba
readerTermsIndexDivisor=1
termIndexInterval=108
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@f8347be
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@73db12e6
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@33b5f576
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@37304e33
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=885
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@359c0b8b
readerTermsIndexDivisor=3
termIndexInterval=100
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=23, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@17b9ee2c
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2fc396df
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@51e622f8 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done

TEST: Thread-1: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5089dee5
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=885
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2a859dc9
readerTermsIndexDivisor=3
termIndexInterval=100
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=23, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2a3a0cee
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4926f2ea
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: now prepare

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@1c16062b minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: done

TEST: Thread-2: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1e2cbe08
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=885
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@792ad7e
readerTermsIndexDivisor=3
termIndexInterval=100
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=23, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2ebc2f14
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@44b6e204
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-3: now add
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5352f96c
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=885
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7bff713e
readerTermsIndexDivisor=3
termIndexInterval=100
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=23, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3f63dd0b
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@35451db0
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@4ca02922 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done

TEST: Thread-4: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@531694c5
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=885
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3f235f86
readerTermsIndexDivisor=3
termIndexInterval=100
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=23, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2b5476cc
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3643614d
perThreadHardLimitMB=1945


TEST: Thread-5: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: enter lock

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@1a92210 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: done

TEST: Thread-5: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@51c0e181
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=885
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@15a498e3
readerTermsIndexDivisor=3
termIndexInterval=100
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=23, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@69316a2e
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2b3227f6
perThreadHardLimitMB=1945


TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@69dd9da1 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: done

TEST: Thread-6: now add
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2a801853
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7809facf
readerTermsIndexDivisor=1
termIndexInterval=94
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=78.4775390625, floorSegmentMB=0.435546875, forceMergeDeletesPctAllowed=15.682218247023362, segmentsPerTier=35.0, useCompoundFile=true, noCFSRatio=0.6088984014234786
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5731699a
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6d0c2a2e
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@11d8e635
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5aa3626f
readerTermsIndexDivisor=2
termIndexInterval=109
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=32, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1c9393e6
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1cd2efb2
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@5c769de6 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@77d33d46
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@31161acd
readerTermsIndexDivisor=1
termIndexInterval=94
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=78.4775390625, floorSegmentMB=0.435546875, forceMergeDeletesPctAllowed=15.682218247023362, segmentsPerTier=35.0, useCompoundFile=true, noCFSRatio=0.6088984014234786
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2239a1e8
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@75b497e5
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@429f77c9
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@31e33295
readerTermsIndexDivisor=2
termIndexInterval=109
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=32, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3b0dedc9
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@f764569
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@1dc6f86d minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@38d8713
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@ad0db19
readerTermsIndexDivisor=1
termIndexInterval=94
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=78.4775390625, floorSegmentMB=0.435546875, forceMergeDeletesPctAllowed=15.682218247023362, segmentsPerTier=35.0, useCompoundFile=true, noCFSRatio=0.6088984014234786
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@15e04bdb
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@38942215
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@abb88b8
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6b9918ca
readerTermsIndexDivisor=2
termIndexInterval=109
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=32, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@102aacf6
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@61c152c4
perThreadHardLimitMB=1945


TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@5b20f3ff minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@17fa385b
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1adb8a22
readerTermsIndexDivisor=1
termIndexInterval=94
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=78.4775390625, floorSegmentMB=0.435546875, forceMergeDeletesPctAllowed=15.682218247023362, segmentsPerTier=35.0, useCompoundFile=true, noCFSRatio=0.6088984014234786
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4349cbf4
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@21ed22af
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5440bbb4
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1b1498ba
readerTermsIndexDivisor=2
termIndexInterval=109
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=32, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6536e939
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7809d118
perThreadHardLimitMB=1945


TEST: Thread-5: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: now prepare

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@4c7ebc39 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1f8972cf
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@ae7b92e
readerTermsIndexDivisor=1
termIndexInterval=94
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=78.4775390625, floorSegmentMB=0.435546875, forceMergeDeletesPctAllowed=15.682218247023362, segmentsPerTier=35.0, useCompoundFile=true, noCFSRatio=0.6088984014234786
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@732e8099
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@71fcf7e2
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@33c458a5
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@50157bfb
readerTermsIndexDivisor=2
termIndexInterval=109
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=32, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@327ec4d0
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@20ab4d96
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@4e72c39b minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4fc6977a
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6677f21c
readerTermsIndexDivisor=1
termIndexInterval=94
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=78.4775390625, floorSegmentMB=0.435546875, forceMergeDeletesPctAllowed=15.682218247023362, segmentsPerTier=35.0, useCompoundFile=true, noCFSRatio=0.6088984014234786
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4cb840d2
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@54a7c257
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@295c9583
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5c6d416
readerTermsIndexDivisor=2
termIndexInterval=109
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogDocMergePolicy: minMergeSize=1000, mergeFactor=32, maxMergeSize=9223372036854775807, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@408df350
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@27612a4c
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2712dbc
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=968
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@6c4eb65b
readerTermsIndexDivisor=1
termIndexInterval=91
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=49, maxMergedSegmentMB=10.7607421875, floorSegmentMB=1.8837890625, forceMergeDeletesPctAllowed=25.324588509064025, segmentsPerTier=46.0, useCompoundFile=false, noCFSRatio=0.7958467925826851
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@23a647ea
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@79bb65ee
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@7e212ab1 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@38442e5d
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=968
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@533f582a
readerTermsIndexDivisor=1
termIndexInterval=91
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=49, maxMergedSegmentMB=10.7607421875, floorSegmentMB=1.8837890625, forceMergeDeletesPctAllowed=25.324588509064025, segmentsPerTier=46.0, useCompoundFile=false, noCFSRatio=0.7958467925826851
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@63b55818
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@16aac2cc
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@24daeab4 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3606c43b
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=968
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1199ebae
readerTermsIndexDivisor=1
termIndexInterval=91
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=49, maxMergedSegmentMB=10.7607421875, floorSegmentMB=1.8837890625, forceMergeDeletesPctAllowed=25.324588509064025, segmentsPerTier=46.0, useCompoundFile=false, noCFSRatio=0.7958467925826851
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@103ff589
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5710fdb4
perThreadHardLimitMB=1945


TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@1c806114 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@49dec77f
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=968
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@d14b190
readerTermsIndexDivisor=1
termIndexInterval=91
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=49, maxMergedSegmentMB=10.7607421875, floorSegmentMB=1.8837890625, forceMergeDeletesPctAllowed=25.324588509064025, segmentsPerTier=46.0, useCompoundFile=false, noCFSRatio=0.7958467925826851
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@49956ba5
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@70ce4360
perThreadHardLimitMB=1945


TEST: Thread-5: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: now prepare

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@75a98d7b minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@49266e81
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=968
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@232a81c9
readerTermsIndexDivisor=1
termIndexInterval=91
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=49, maxMergedSegmentMB=10.7607421875, floorSegmentMB=1.8837890625, forceMergeDeletesPctAllowed=25.324588509064025, segmentsPerTier=46.0, useCompoundFile=false, noCFSRatio=0.7958467925826851
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3baec528
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4f11e3b4
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@1f7c66fa minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1e37d76
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=968
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@bbe5d86
readerTermsIndexDivisor=1
termIndexInterval=91
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=12, maxMergeAtOnceExplicit=49, maxMergedSegmentMB=10.7607421875, floorSegmentMB=1.8837890625, forceMergeDeletesPctAllowed=25.324588509064025, segmentsPerTier=46.0, useCompoundFile=false, noCFSRatio=0.7958467925826851
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7eee0e6f
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3ef5da83
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@45002203
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=874
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@343ed9ba
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=17, maxMergeAtOnceExplicit=24, maxMergedSegmentMB=84.4072265625, floorSegmentMB=1.21484375, forceMergeDeletesPctAllowed=17.325679104354904, segmentsPerTier=32.0, useCompoundFile=true, noCFSRatio=0.5913254809886133
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@a485d22
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@14da6874
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1

TEST: Thread-2: now rollback
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@effa25e minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@effa25e minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4e414fa5
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=874
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@3bd93525
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=17, maxMergeAtOnceExplicit=24, maxMergedSegmentMB=84.4072265625, floorSegmentMB=1.21484375, forceMergeDeletesPctAllowed=17.325679104354904, segmentsPerTier=32.0, useCompoundFile=true, noCFSRatio=0.5913254809886133
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@31302ed5
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5252bb2d
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 startFullFlush

TEST: Thread-6: now rollback
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@357eb194 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3c28e5a7
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=874
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@699cb73
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=17, maxMergeAtOnceExplicit=24, maxMergedSegmentMB=84.4072265625, floorSegmentMB=1.21484375, forceMergeDeletesPctAllowed=17.325679104354904, segmentsPerTier=32.0, useCompoundFile=true, noCFSRatio=0.5913254809886133
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5afbee67
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@51e0dadb
perThreadHardLimitMB=1945


TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@14089dc minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@9f3d43e
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=874
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@2cdc7b4e
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=17, maxMergeAtOnceExplicit=24, maxMergedSegmentMB=84.4072265625, floorSegmentMB=1.21484375, forceMergeDeletesPctAllowed=17.325679104354904, segmentsPerTier=32.0, useCompoundFile=true, noCFSRatio=0.5913254809886133
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3f2354e4
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@289a651e
perThreadHardLimitMB=1945


TEST: Thread-5: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: prune sis=org.apache.lucene.index.SegmentInfos@3064a965 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: Thread-5 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@592eca34
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=874
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@57d437c
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=17, maxMergeAtOnceExplicit=24, maxMergedSegmentMB=84.4072265625, floorSegmentMB=1.21484375, forceMergeDeletesPctAllowed=17.325679104354904, segmentsPerTier=32.0, useCompoundFile=true, noCFSRatio=0.5913254809886133
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@62d984b4
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3697781f
perThreadHardLimitMB=1945


TEST: Thread-4: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1

TEST: Thread-3: now rollback
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@124f5739 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: enter lock
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: now prepare
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: prune sis=org.apache.lucene.index.SegmentInfos@124f5739 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: Thread-4 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: commit: done
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@27e80064
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=874
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@38aa594b
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=17, maxMergeAtOnceExplicit=24, maxMergedSegmentMB=84.4072265625, floorSegmentMB=1.21484375, forceMergeDeletesPctAllowed=17.325679104354904, segmentsPerTier=32.0, useCompoundFile=true, noCFSRatio=0.5913254809886133
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@37cc67fd
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4cbf2fa9
perThreadHardLimitMB=1945


TEST: Thread-3: now commit

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 startFullFlush
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: prune sis=org.apache.lucene.index.SegmentInfos@1bd2279c minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: Thread-3 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: startCommit(): start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: commit: start
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@741313eb
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@32ca113e
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=8, maxMergeAtOnceExplicit=9, maxMergedSegmentMB=12.73046875, floorSegmentMB=1.5478515625, forceMergeDeletesPctAllowed=0.4810818537690731, segmentsPerTier=27.0, useCompoundFile=false, noCFSRatio=0.28990389628689517
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7032177e
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@68a48abd
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@730cc503
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4d016caf
readerTermsIndexDivisor=1
termIndexInterval=100
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=42, maxMergeAtOnceExplicit=49, maxMergedSegmentMB=8.86328125, floorSegmentMB=0.91796875, forceMergeDeletesPctAllowed=17.080668144082452, segmentsPerTier=46.0, useCompoundFile=false, noCFSRatio=0.46693398121905694
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@18867ca8
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2562062c
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4bb9305f
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=375
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@72ad40e8
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=14, maxMergeAtOnceExplicit=44, maxMergedSegmentMB=43.2978515625, floorSegmentMB=1.8125, forceMergeDeletesPctAllowed=9.408234230380435, segmentsPerTier=48.0, useCompoundFile=true, noCFSRatio=0.7622796931954978
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4c807a29
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6d440fc
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7950b604
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=923
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@50b5c214
readerTermsIndexDivisor=4
termIndexInterval=89
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=36, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4cd8d871
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@306a0a21
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3fdfa916
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@49392dd5
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=8, maxMergeAtOnceExplicit=9, maxMergedSegmentMB=12.73046875, floorSegmentMB=1.5478515625, forceMergeDeletesPctAllowed=0.4810818537690731, segmentsPerTier=27.0, useCompoundFile=false, noCFSRatio=0.28990389628689517
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@48f02081
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@ce61a90
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3b13bc80
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6ddfbf22
readerTermsIndexDivisor=1
termIndexInterval=100
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=42, maxMergeAtOnceExplicit=49, maxMergedSegmentMB=8.86328125, floorSegmentMB=0.91796875, forceMergeDeletesPctAllowed=17.080668144082452, segmentsPerTier=46.0, useCompoundFile=false, noCFSRatio=0.46693398121905694
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@7c7d8988
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@15d07f92
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@162d4185
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=375
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@771f8843
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=14, maxMergeAtOnceExplicit=44, maxMergedSegmentMB=43.2978515625, floorSegmentMB=1.8125, forceMergeDeletesPctAllowed=9.408234230380435, segmentsPerTier=48.0, useCompoundFile=true, noCFSRatio=0.7622796931954978
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@372b23ce
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@713bc5ad
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2fc9e7a5
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=923
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@495434b9
readerTermsIndexDivisor=4
termIndexInterval=89
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=36, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3751834b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4882cd4c
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1e2ed46c
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@469dc8a0
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=8, maxMergeAtOnceExplicit=9, maxMergedSegmentMB=12.73046875, floorSegmentMB=1.5478515625, forceMergeDeletesPctAllowed=0.4810818537690731, segmentsPerTier=27.0, useCompoundFile=false, noCFSRatio=0.28990389628689517
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@20dea498
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@79080803
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@77dcf9f4
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7773d088
readerTermsIndexDivisor=1
termIndexInterval=100
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=42, maxMergeAtOnceExplicit=49, maxMergedSegmentMB=8.86328125, floorSegmentMB=0.91796875, forceMergeDeletesPctAllowed=17.080668144082452, segmentsPerTier=46.0, useCompoundFile=false, noCFSRatio=0.46693398121905694
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@547fcdfc
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@12ac86bb
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2523a57f
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=375
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2be33a92
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=14, maxMergeAtOnceExplicit=44, maxMergedSegmentMB=43.2978515625, floorSegmentMB=1.8125, forceMergeDeletesPctAllowed=9.408234230380435, segmentsPerTier=48.0, useCompoundFile=true, noCFSRatio=0.7622796931954978
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@531a5dc0
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@680112df
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@20d107d6
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=923
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@422dd6ca
readerTermsIndexDivisor=4
termIndexInterval=89
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=36, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4f7089b7
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6561761f
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@34ac1072
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@12a262c1
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=8, maxMergeAtOnceExplicit=9, maxMergedSegmentMB=12.73046875, floorSegmentMB=1.5478515625, forceMergeDeletesPctAllowed=0.4810818537690731, segmentsPerTier=27.0, useCompoundFile=false, noCFSRatio=0.28990389628689517
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@63017675
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@75082e1a
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@be7357e
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3bbe4d52
readerTermsIndexDivisor=1
termIndexInterval=100
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=42, maxMergeAtOnceExplicit=49, maxMergedSegmentMB=8.86328125, floorSegmentMB=0.91796875, forceMergeDeletesPctAllowed=17.080668144082452, segmentsPerTier=46.0, useCompoundFile=false, noCFSRatio=0.46693398121905694
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4ac66122
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@26132588
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@72ce2a00
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=375
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@55f80f14
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=14, maxMergeAtOnceExplicit=44, maxMergedSegmentMB=43.2978515625, floorSegmentMB=1.8125, forceMergeDeletesPctAllowed=9.408234230380435, segmentsPerTier=48.0, useCompoundFile=true, noCFSRatio=0.7622796931954978
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@10a61624
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7f79e06
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@494c491b
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=923
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7488b7f1
readerTermsIndexDivisor=4
termIndexInterval=89
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=36, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3be46afc
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@112be51c
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4e273069
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1d69fe0a
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=8, maxMergeAtOnceExplicit=9, maxMergedSegmentMB=12.73046875, floorSegmentMB=1.5478515625, forceMergeDeletesPctAllowed=0.4810818537690731, segmentsPerTier=27.0, useCompoundFile=false, noCFSRatio=0.28990389628689517
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@19a5519c
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3490e5eb
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@792126b9
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@1bbb8798
readerTermsIndexDivisor=1
termIndexInterval=100
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=42, maxMergeAtOnceExplicit=49, maxMergedSegmentMB=8.86328125, floorSegmentMB=0.91796875, forceMergeDeletesPctAllowed=17.080668144082452, segmentsPerTier=46.0, useCompoundFile=false, noCFSRatio=0.46693398121905694
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@34c31a61
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@74f8f156
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7da22e4a
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=375
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@b5d6247
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=14, maxMergeAtOnceExplicit=44, maxMergedSegmentMB=43.2978515625, floorSegmentMB=1.8125, forceMergeDeletesPctAllowed=9.408234230380435, segmentsPerTier=48.0, useCompoundFile=true, noCFSRatio=0.7622796931954978
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1fdf2925
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@74064c7b
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7ddc1510
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=923
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@17cef68c
readerTermsIndexDivisor=4
termIndexInterval=89
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=36, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@149c6d8a
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@29db8998
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3016f5a0
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6b61be00
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=8, maxMergeAtOnceExplicit=9, maxMergedSegmentMB=12.73046875, floorSegmentMB=1.5478515625, forceMergeDeletesPctAllowed=0.4810818537690731, segmentsPerTier=27.0, useCompoundFile=false, noCFSRatio=0.28990389628689517
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5e012913
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1e2fce9c
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@158a1cdf
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@66dd1d3
readerTermsIndexDivisor=1
termIndexInterval=100
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=42, maxMergeAtOnceExplicit=49, maxMergedSegmentMB=8.86328125, floorSegmentMB=0.91796875, forceMergeDeletesPctAllowed=17.080668144082452, segmentsPerTier=46.0, useCompoundFile=false, noCFSRatio=0.46693398121905694
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@13ea76f1
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@626d26e
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@70afa388
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=375
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@685606dc
readerTermsIndexDivisor=2
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=14, maxMergeAtOnceExplicit=44, maxMergedSegmentMB=43.2978515625, floorSegmentMB=1.8125, forceMergeDeletesPctAllowed=9.408234230380435, segmentsPerTier=48.0, useCompoundFile=true, noCFSRatio=0.7622796931954978
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@67dc8b07
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@402badd6
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@c3bae40
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=923
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@793057d2
readerTermsIndexDivisor=4
termIndexInterval=89
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=36, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@54d5da26
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@23e5204d
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3096c11b
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=609
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5b7d6f73
readerTermsIndexDivisor=2
termIndexInterval=100
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=34, maxMergeAtOnceExplicit=14, maxMergedSegmentMB=35.2236328125, floorSegmentMB=2.037109375, forceMergeDeletesPctAllowed=9.072689790307379, segmentsPerTier=23.0, useCompoundFile=true, noCFSRatio=0.825578184019295
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@82015f2
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7280c708
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@66c17f01
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=136
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@39d7e744
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1124083408, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@d903f07
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7919eb85
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort

TEST: Thread-1: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@9a87fad
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=609
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7488717d
readerTermsIndexDivisor=2
termIndexInterval=100
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=34, maxMergeAtOnceExplicit=14, maxMergedSegmentMB=35.2236328125, floorSegmentMB=2.037109375, forceMergeDeletesPctAllowed=9.072689790307379, segmentsPerTier=23.0, useCompoundFile=true, noCFSRatio=0.825578184019295
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@29d30150
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5bfb40a3
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@724d7e34
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=136
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@841f33c
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1124083408, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@21c7ec60
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4c6fa3f3
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort

TEST: Thread-2: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@74f81c25
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=609
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7848089e
readerTermsIndexDivisor=2
termIndexInterval=100
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=34, maxMergeAtOnceExplicit=14, maxMergedSegmentMB=35.2236328125, floorSegmentMB=2.037109375, forceMergeDeletesPctAllowed=9.072689790307379, segmentsPerTier=23.0, useCompoundFile=true, noCFSRatio=0.825578184019295
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@412dfac3
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@31aa39a3
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6dc75127
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=136
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@41c61733
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1124083408, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@341d3701
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6a063d61
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort

TEST: Thread-6: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5c9a87f2
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=609
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@2c710c53
readerTermsIndexDivisor=2
termIndexInterval=100
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=34, maxMergeAtOnceExplicit=14, maxMergedSegmentMB=35.2236328125, floorSegmentMB=2.037109375, forceMergeDeletesPctAllowed=9.072689790307379, segmentsPerTier=23.0, useCompoundFile=true, noCFSRatio=0.825578184019295
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@31e033f0
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7671eb24
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@71e53662
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=136
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@429e2de0
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1124083408, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1ed5ef4b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6f5134bd
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort

TEST: Thread-5: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7563733d
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=609
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5ef6042b
readerTermsIndexDivisor=2
termIndexInterval=100
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=34, maxMergeAtOnceExplicit=14, maxMergedSegmentMB=35.2236328125, floorSegmentMB=2.037109375, forceMergeDeletesPctAllowed=9.072689790307379, segmentsPerTier=23.0, useCompoundFile=true, noCFSRatio=0.825578184019295
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@698bd3c1
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5afb5a09
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3c2ce9cb
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=136
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7e1c90b1
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1124083408, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@55f9526
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4638f48b
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort

TEST: Thread-4: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@108c4c0a
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=609
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4a377f4e
readerTermsIndexDivisor=2
termIndexInterval=100
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=34, maxMergeAtOnceExplicit=14, maxMergedSegmentMB=35.2236328125, floorSegmentMB=2.037109375, forceMergeDeletesPctAllowed=9.072689790307379, segmentsPerTier=23.0, useCompoundFile=true, noCFSRatio=0.825578184019295
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@186fff3
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@460dab4d
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@6e5ef727
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=136
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3fbcfba2
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[AlcoholicMergePolicy: minMergeSize=0, mergeFactor=10, maxMergeSize=1124083408, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=true, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@102c695f
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@53b9e444
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted

TEST: Thread-3: now commit
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@22a5d7d3
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=47
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@75e26d0c
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=22, maxMergedSegmentMB=97.4892578125, floorSegmentMB=0.341796875, forceMergeDeletesPctAllowed=5.583196194550563, segmentsPerTier=36.0, useCompoundFile=true, noCFSRatio=0.5498996034676512
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@64656b4a
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3e66fac4
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
MockAnalyzer: field=titleTokenized gets variable length payloads

TEST: Thread-1: now commit

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now abort

TEST: Thread-1: now commit

TEST: Thread-1: now commit

TEST: Thread-1: now add

TEST: Thread-1: now commit

TEST: Thread-1: now commit

TEST: Thread-1: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@c4756f4
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=47
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@142ff9fa
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=22, maxMergedSegmentMB=97.4892578125, floorSegmentMB=0.341796875, forceMergeDeletesPctAllowed=5.583196194550563, segmentsPerTier=36.0, useCompoundFile=true, noCFSRatio=0.5498996034676512
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@59c49670
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7970c11a
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
MockAnalyzer: field=titleTokenized gets variable length payloads

TEST: Thread-2: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now abort

TEST: Thread-2: now add

TEST: Thread-2: now commit

TEST: Thread-2: now commit

TEST: Thread-2: now add

TEST: Thread-2: now commit

TEST: Thread-2: now commit

TEST: Thread-2: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@de684bd
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=47
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7499d141
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=22, maxMergedSegmentMB=97.4892578125, floorSegmentMB=0.341796875, forceMergeDeletesPctAllowed=5.583196194550563, segmentsPerTier=36.0, useCompoundFile=true, noCFSRatio=0.5498996034676512
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1e793e35
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@29e31934
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
MockAnalyzer: field=titleTokenized gets variable length payloads

TEST: Thread-6: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now abort

TEST: Thread-6: now add

TEST: Thread-6: now commit

TEST: Thread-6: now commit

TEST: Thread-6: now add

TEST: Thread-6: now commit

TEST: Thread-6: now commit

TEST: Thread-6: now commit
DWPT 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@346e7443
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=47
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1e58da92
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=22, maxMergedSegmentMB=97.4892578125, floorSegmentMB=0.341796875, forceMergeDeletesPctAllowed=5.583196194550563, segmentsPerTier=36.0, useCompoundFile=true, noCFSRatio=0.5498996034676512
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5b75b6ce
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@d34bd4b
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:27 ART 2012; Thread-4]: abort
MockAnalyzer: field=titleTokenized gets variable length payloads

TEST: Thread-5: now commit

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer

TEST: Thread-5: now commit

TEST: Thread-5: now commit

TEST: Thread-5: now add

TEST: Thread-5: now commit

TEST: Thread-5: now commit

TEST: Thread-5: now commit
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4e97264f
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=47
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@37c47983
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=22, maxMergedSegmentMB=97.4892578125, floorSegmentMB=0.341796875, forceMergeDeletesPctAllowed=5.583196194550563, segmentsPerTier=36.0, useCompoundFile=true, noCFSRatio=0.5498996034676512
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4405a40f
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4e55f7ac
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: abort
MockAnalyzer: field=titleTokenized gets variable length payloads

TEST: Thread-4: now commit

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now abort

TEST: Thread-4: now commit

TEST: Thread-4: now commit

TEST: Thread-4: now add

TEST: Thread-4: now commit

TEST: Thread-4: now commit

TEST: Thread-4: now commit
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@620a18af
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=47
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7e79c429
readerTermsIndexDivisor=3
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=46, maxMergeAtOnceExplicit=22, maxMergedSegmentMB=97.4892578125, floorSegmentMB=0.341796875, forceMergeDeletesPctAllowed=5.583196194550563, segmentsPerTier=36.0, useCompoundFile=true, noCFSRatio=0.5498996034676512
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6c3da09d
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@41fbdaef
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: abort
MockAnalyzer: field=titleTokenized gets variable length payloads

TEST: Thread-3: now commit
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now abort

TEST: Thread-3: now add

TEST: Thread-3: now commit

TEST: Thread-3: now commit

TEST: Thread-3: now add

TEST: Thread-3: now commit

TEST: Thread-3: now commit

TEST: Thread-3: now commit
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4fbdb8af
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@650d144e
readerTermsIndexDivisor=4
termIndexInterval=95
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=19, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=17.3203125, floorSegmentMB=2.0625, forceMergeDeletesPctAllowed=22.59329451196657, segmentsPerTier=35.0, useCompoundFile=false, noCFSRatio=0.4294629119758565
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3db040b6
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7e688c5d
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: abort

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@37fa3ed9
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@165da0b0
readerTermsIndexDivisor=4
termIndexInterval=95
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=19, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=17.3203125, floorSegmentMB=2.0625, forceMergeDeletesPctAllowed=22.59329451196657, segmentsPerTier=35.0, useCompoundFile=false, noCFSRatio=0.4294629119758565
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@5ce08e48
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1a9d489b
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: abort

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1a463e88
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@35117021
readerTermsIndexDivisor=4
termIndexInterval=95
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=19, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=17.3203125, floorSegmentMB=2.0625, forceMergeDeletesPctAllowed=22.59329451196657, segmentsPerTier=35.0, useCompoundFile=false, noCFSRatio=0.4294629119758565
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@bd8a1bf
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3b6308ac
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: abort

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7665b1
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6d5818dd
readerTermsIndexDivisor=4
termIndexInterval=95
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=19, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=17.3203125, floorSegmentMB=2.0625, forceMergeDeletesPctAllowed=22.59329451196657, segmentsPerTier=35.0, useCompoundFile=false, noCFSRatio=0.4294629119758565
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@32c88d40
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@cb17ecc
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: abort

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3aaacb9f
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7d66fb0a
readerTermsIndexDivisor=4
termIndexInterval=95
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=19, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=17.3203125, floorSegmentMB=2.0625, forceMergeDeletesPctAllowed=22.59329451196657, segmentsPerTier=35.0, useCompoundFile=false, noCFSRatio=0.4294629119758565
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@73eb8dd7
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@6dad59b5
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: abort

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4eedba43
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5d30cd23
readerTermsIndexDivisor=4
termIndexInterval=95
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=19, maxMergeAtOnceExplicit=12, maxMergedSegmentMB=17.3203125, floorSegmentMB=2.0625, forceMergeDeletesPctAllowed=22.59329451196657, segmentsPerTier=35.0, useCompoundFile=false, noCFSRatio=0.4294629119758565
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2eebe4a1
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@ef1e18
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: abort

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@73ff5d7c
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@6f6ab38f
readerTermsIndexDivisor=1
termIndexInterval=79
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=46, maxMergedSegmentMB=92.5537109375, floorSegmentMB=0.58984375, forceMergeDeletesPctAllowed=12.944277450360753, segmentsPerTier=36.0, useCompoundFile=false, noCFSRatio=0.420557919641375
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4632aa6e
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@28533fc3
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: abort

TEST: Thread-1: now commit

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now abort

TEST: Thread-1: now add

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@44b300a7
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@715b8e6c
readerTermsIndexDivisor=1
termIndexInterval=79
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=46, maxMergedSegmentMB=92.5537109375, floorSegmentMB=0.58984375, forceMergeDeletesPctAllowed=12.944277450360753, segmentsPerTier=36.0, useCompoundFile=false, noCFSRatio=0.420557919641375
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@31e38e98
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@52a6b6be
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: abort

TEST: Thread-2: now commit

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now abort

TEST: Thread-2: now add

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@28855e17
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7bba700f
readerTermsIndexDivisor=1
termIndexInterval=79
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=46, maxMergedSegmentMB=92.5537109375, floorSegmentMB=0.58984375, forceMergeDeletesPctAllowed=12.944277450360753, segmentsPerTier=36.0, useCompoundFile=false, noCFSRatio=0.420557919641375
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@d13283f
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@64b746cd
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: abort

TEST: Thread-6: now commit

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now abort

TEST: Thread-6: now add

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@495541d7
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3c519b6
readerTermsIndexDivisor=1
termIndexInterval=79
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=46, maxMergedSegmentMB=92.5537109375, floorSegmentMB=0.58984375, forceMergeDeletesPctAllowed=12.944277450360753, segmentsPerTier=36.0, useCompoundFile=false, noCFSRatio=0.420557919641375
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@11afda9
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@130362d0
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: abort

TEST: Thread-5: now commit

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now abort

TEST: Thread-5: now add

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1eed723b
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4ef1513
readerTermsIndexDivisor=1
termIndexInterval=79
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=46, maxMergedSegmentMB=92.5537109375, floorSegmentMB=0.58984375, forceMergeDeletesPctAllowed=12.944277450360753, segmentsPerTier=36.0, useCompoundFile=false, noCFSRatio=0.420557919641375
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6c5094ec
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@1e614982
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: abort

TEST: Thread-4: now commit

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now abort

TEST: Thread-4: now add

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@17a9fb56
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@e060a95
readerTermsIndexDivisor=1
termIndexInterval=79
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=35, maxMergeAtOnceExplicit=46, maxMergedSegmentMB=92.5537109375, floorSegmentMB=0.58984375, forceMergeDeletesPctAllowed=12.944277450360753, segmentsPerTier=36.0, useCompoundFile=false, noCFSRatio=0.420557919641375
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@2ea0c364
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3c7bf226
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: abort

TEST: Thread-3: now commit
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now abort

TEST: Thread-3: now add

TEST: Thread-3: now add

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2fb19798
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=105
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@35d745c1
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=26, maxMergeAtOnceExplicit=46, maxMergedSegmentMB=80.8662109375, floorSegmentMB=1.8037109375, forceMergeDeletesPctAllowed=18.307994238617848, segmentsPerTier=42.0, useCompoundFile=false, noCFSRatio=0.6111630958344295
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@48249d84
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5be16a1c
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@240033b0
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@4a2e3a59
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=27, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@20f8cf1b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2ee50686
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: abort

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2ceb6e4c
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=105
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@378cb51
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=26, maxMergeAtOnceExplicit=46, maxMergedSegmentMB=80.8662109375, floorSegmentMB=1.8037109375, forceMergeDeletesPctAllowed=18.307994238617848, segmentsPerTier=42.0, useCompoundFile=false, noCFSRatio=0.6111630958344295
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6f6c349e
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@28f2aa38
perThreadHardLimitMB=1945


TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@70dc82be
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@64c63847
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=27, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@1198f101
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4ff681ad
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: abort

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@644d2f21
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=105
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@632b2d25
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=26, maxMergeAtOnceExplicit=46, maxMergedSegmentMB=80.8662109375, floorSegmentMB=1.8037109375, forceMergeDeletesPctAllowed=18.307994238617848, segmentsPerTier=42.0, useCompoundFile=false, noCFSRatio=0.6111630958344295
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@27a10b00
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3dd94153
perThreadHardLimitMB=1945


TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@1ec631dc
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@13314cac
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=27, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@9a0ba0c
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@17166ec4
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: abort

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5e0bcb14
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=105
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@b354d59
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=26, maxMergeAtOnceExplicit=46, maxMergedSegmentMB=80.8662109375, floorSegmentMB=1.8037109375, forceMergeDeletesPctAllowed=18.307994238617848, segmentsPerTier=42.0, useCompoundFile=false, noCFSRatio=0.6111630958344295
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@586913ce
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@5a9366ba
perThreadHardLimitMB=1945


TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4289e37
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@10a98c97
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=27, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6b4d160c
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@11e2a4dd
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: abort

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2ef8e535
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=105
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@5b29297f
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=26, maxMergeAtOnceExplicit=46, maxMergedSegmentMB=80.8662109375, floorSegmentMB=1.8037109375, forceMergeDeletesPctAllowed=18.307994238617848, segmentsPerTier=42.0, useCompoundFile=false, noCFSRatio=0.6111630958344295
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6b637f9a
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@514e8e8a
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@319117be
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@28e0bd27
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=27, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@3aa26068
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@7a6769ea
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: abort

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@61da0369
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=105
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3f1d023f
readerTermsIndexDivisor=1
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=26, maxMergeAtOnceExplicit=46, maxMergedSegmentMB=80.8662109375, floorSegmentMB=1.8037109375, forceMergeDeletesPctAllowed=18.307994238617848, segmentsPerTier=42.0, useCompoundFile=false, noCFSRatio=0.6111630958344295
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@97e9678
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@55c8a526
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@794a7594
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=-1
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3652ac26
readerTermsIndexDivisor=4
termIndexInterval=32
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[LogByteSizeMergePolicy: minMergeSize=1677721, mergeFactor=27, maxMergeSize=2147483648, maxMergeSizeForForcedMerge=9223372036854775807, calibrateSizeByDeletes=false, maxMergeDocs=2147483647, useCompoundFile=true, noCFSRatio=0.1]
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6da40ea6
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@2dbdec86
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: abort

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@3d1e4683
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=370
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@102689a7
readerTermsIndexDivisor=4
termIndexInterval=46
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@52173b39
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@73314549
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@27bbf6b4
perThreadHardLimitMB=1945


TEST: Thread-1: now add

TEST: Thread-2: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: abort

TEST: Thread-1: now add

TEST: Thread-1: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@454b7177
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=370
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@1d8631c4
readerTermsIndexDivisor=4
termIndexInterval=46
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@552d4a00
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@105571b0
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@599ae230
perThreadHardLimitMB=1945


TEST: Thread-2: now add

TEST: Thread-6: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: abort

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now abort

TEST: Thread-2: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@4993ca0d
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=370
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@def310b
readerTermsIndexDivisor=4
termIndexInterval=46
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@527cd052
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@50e1cd
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3e1859e4
perThreadHardLimitMB=1945


TEST: Thread-6: now add

TEST: Thread-5: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: abort

TEST: Thread-6: now add

TEST: Thread-6: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@24baf94e
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=370
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@523e0f04
readerTermsIndexDivisor=4
termIndexInterval=46
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@684bf9ca
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@53fc7244
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@62b1f96f
perThreadHardLimitMB=1945


TEST: Thread-5: now add

TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: abort

TEST: Thread-5: now add

TEST: Thread-5: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-4: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5bbda87e
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=370
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@7cb154fd
readerTermsIndexDivisor=4
termIndexInterval=46
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@5e42edff
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@7c1730b1
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@567df41c
perThreadHardLimitMB=1945


TEST: Thread-4: now add

TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: abort

TEST: Thread-4: now add

TEST: Thread-4: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@9d2f333
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=370
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.SerialMergeScheduler@194019b9
readerTermsIndexDivisor=4
termIndexInterval=46
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.SerialMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=org.apache.lucene.index.MockRandomMergePolicy@3f58cda2
indexerThreadPool=org.apache.lucene.index.RandomDocumentsWriterPerThreadPool@5f24672b
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4ef168d9
perThreadHardLimitMB=1945


TEST: Thread-3: now add

TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: abort

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now abort

TEST: Thread-3: now add
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@5816e125
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=2
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@33c11fcb
readerTermsIndexDivisor=4
termIndexInterval=85
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=16, maxMergeAtOnceExplicit=20, maxMergedSegmentMB=56.7275390625, floorSegmentMB=2.08984375, forceMergeDeletesPctAllowed=20.181172723141476, segmentsPerTier=36.0, useCompoundFile=false, noCFSRatio=0.18483846140643118
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@4c0e62f8
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4483aeca
perThreadHardLimitMB=1945


TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: Thread-1 startFullFlush

TEST: Thread-2: now rollback
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: prune sis=org.apache.lucene.index.SegmentInfos@214872ea minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: Thread-1 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: startCommit(): start
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: commit: start
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: rollback: infos=_0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: at close: _0(5.0):C1 _1(5.0):C1
TEST: Thread-2: rollback done; now open new writer

TEST: Thread-1: now add

TEST: Thread-1: now commit

TEST: Thread-1: now commit

TEST: Thread-1: now commit

TEST: Thread-1: now add

TEST: Thread-1: now add

TEST: Thread-1: now add

TEST: Thread-1: now commit

TEST: Thread-1: now commit

TEST: Thread-1: now add
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: init: current segments file is "segments_2"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@169ea8d2
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: init: load commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1" [2 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=2
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@3996a317
readerTermsIndexDivisor=4
termIndexInterval=85
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=16, maxMergeAtOnceExplicit=20, maxMergedSegmentMB=56.7275390625, floorSegmentMB=2.08984375, forceMergeDeletesPctAllowed=20.181172723141476, segmentsPerTier=36.0, useCompoundFile=false, noCFSRatio=0.18483846140643118
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@50ad588a
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@248ff567
perThreadHardLimitMB=1945


TEST: Thread-2: now commit
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1

TEST: Thread-6: now rollback
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@67384ff1 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: commit: start
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: commit: enter lock
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: commit: now prepare

TEST: Thread-1: now add
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]:   index before flush _0(5.0):C1 _1(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: Thread-2 startFullFlush
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false

TEST: Thread-1: now add
DWFC 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: addFlushableState DocumentsWriterPerThread [pendingDeletes=gen=0, segment=_2, aborting=false, numDocsInRAM=1, deleteQueue=DWDQ: [ generation: 1 ]]
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: flush postings as segment _2 numDocs=1
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: new segment has 0 deleted docs
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: new segment has vectors; norms; docValues; prox; freqs
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: flushedFiles=[_2.pst, _2.fld, _2_2.len, _2.inf, _2.vec, _2_5.dv, _2_1.len]
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: flushed codec=SimpleText
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: flushed: segment=_2 ramUsed=0.129 MB newFlushedSize(includes docstores)=0.014 MB docs/MB=70.045
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: Thread-2: publishFlushedSegment seg-private deletes=null
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: publishFlushedSegment
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: publish sets newSegment delGen=2 seg=_2(5.0):C1
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1 _2(5.0):C1" [3 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: prune sis=org.apache.lucene.index.SegmentInfos@67384ff1 minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: Thread-2 finishFullFlush success=true
TMP 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: findMerges: 3 segments
TMP 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]:   seg=_1(5.0):C1 size=0.018 MB [floored]
TMP 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]:   seg=_2(5.0):C1 size=0.014 MB [floored]
TMP 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]:   seg=_0(5.0):C1 size=0.010 MB [floored]
TMP 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]:   allowedSegmentCount=1 vs count=3 (eligible count=3) tooBigCount=0
CMS 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now merge
CMS 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]:   index: _0(5.0):C1 _1(5.0):C1 _2(5.0):C1
CMS 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]:   no more merges pending; now return
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: startCommit(): start
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: startCommit index=_0(5.0):C1 _1(5.0):C1 _2(5.0):C1 changeCount=3
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: done all syncs: [_2.si, _1_1.len, _2.fld, _1.fld, _0_1.len, _2.inf, _2.vec, _1.inf, _2_5.dv, _2_1.len, _0.pst, _0_5.dv, _0.fld, _2.pst, _1.pst, _2_2.len, _0_2.len, _1.vec, _1_5.dv, _1.si, _0.vec, _0.inf, _0.si, _1_2.len]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: commit: pendingCommit != null
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: commit: wrote segments file "segments_3"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now checkpoint "_0(5.0):C1 _1(5.0):C1 _2(5.0):C1" [3 segments ; isCommit = true]
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: deleteCommits: now decRef commit "segments_2"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: delete "segments_2"
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: commit: done

TEST: Thread-2: now add

TEST: Thread-1: now commit
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: rollback: infos=_0(5.0):C1 _1(5.0):C1 _2(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: flush postings as segment _3 numDocs=2
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1 _2(5.0):C1" [3 segments ; isCommit = false]
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: refresh [prefix=null]: removing newly created unreferenced file "_3.vec"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: delete "_3.vec"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: unable to remove file "_3.vec": java.io.IOException: MockDirectoryWrapper: file "_3.vec" is still open: cannot delete; Will re-try later.
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: refresh [prefix=null]: removing newly created unreferenced file "_3.fld"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: delete "_3.fld"
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: at close: _0(5.0):C1 _1(5.0):C1 _2(5.0):C1
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: delete pending file _3.vec
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: delete "_3.vec"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: unable to remove file "_3.vec": java.io.IOException: MockDirectoryWrapper: file "_3.vec" is still open: cannot delete; Will re-try later.
TEST: Thread-6: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: current segments file is "segments_3"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@19d9a7a7
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: load commit "segments_3"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: removing unreferenced file "_3.pst"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: delete "_3.pst"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: unable to remove file "_3.pst": java.io.IOException: MockDirectoryWrapper: file "_3.pst" is still open: cannot delete; Will re-try later.
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: removing unreferenced file "_3.vec"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: delete "_3.vec"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: unable to remove file "_3.vec": java.io.IOException: MockDirectoryWrapper: file "_3.vec" is still open: cannot delete; Will re-try later.
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: now checkpoint "_0(5.0):C1 _1(5.0):C1 _2(5.0):C1" [3 segments ; isCommit = false]
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: delete pending file _3.pst
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: delete "_3.pst"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: unable to remove file "_3.pst": java.io.IOException: MockDirectoryWrapper: file "_3.pst" is still open: cannot delete; Will re-try later.
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: delete pending file _3.vec
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: delete "_3.vec"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: unable to remove file "_3.vec": java.io.IOException: MockDirectoryWrapper: file "_3.vec" is still open: cannot delete; Will re-try later.
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1 _2(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=2
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@70c8b4c0
readerTermsIndexDivisor=4
termIndexInterval=85
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=16, maxMergeAtOnceExplicit=20, maxMergedSegmentMB=56.7275390625, floorSegmentMB=2.08984375, forceMergeDeletesPctAllowed=20.181172723141476, segmentsPerTier=36.0, useCompoundFile=false, noCFSRatio=0.18483846140643118
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@8d2e319
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@4d3b82d5
perThreadHardLimitMB=1945


TEST: Thread-6: now commit
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1 _2(5.0):C1

TEST: Thread-5: now rollback
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@7e0a958f minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: commit: start
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: commit: enter lock
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: commit: now prepare
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: prepareCommit: flush
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]:   index before flush _0(5.0):C1 _1(5.0):C1 _2(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: Thread-6 startFullFlush
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: anyChanges? numDocsInRam=0 deletes=false hasTickets:false pendingChangesInFullFlush: false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: apply all deletes during flush
BD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: applyDeletes: no deletes; skipping
BD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: prune sis=org.apache.lucene.index.SegmentInfos@7e0a958f minGen=0 packetCount=0
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: Thread-6 finishFullFlush success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: startCommit(): start
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]:   skip startCommit(): no changes pending
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: commit: pendingCommit == null; skip
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-6]: commit: done

TEST: Thread-6: now add
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: rollback: infos=_0(5.0):C1 _1(5.0):C1 _2(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: new segment has 0 deleted docs
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: new segment has vectors; norms; docValues; prox; freqs
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: flushedFiles=[_3.fld, _3.inf, _3_2.len, _3_5.dv, _3.vec, _3_1.len, _3.pst]
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: flushed codec=SimpleText
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: refresh [prefix=_3]: removing newly created unreferenced file "_3.vec"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: delete "_3.vec"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: refresh [prefix=_3]: removing newly created unreferenced file "_3.inf"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: delete "_3.inf"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: refresh [prefix=_3]: removing newly created unreferenced file "_3.pst"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: delete "_3.pst"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: refresh [prefix=_3]: removing newly created unreferenced file "_3_2.len"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: delete "_3_2.len"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: refresh [prefix=_3]: removing newly created unreferenced file "_3_1.len"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: delete "_3_1.len"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: refresh [prefix=_3]: removing newly created unreferenced file "_3_5.dv"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: delete "_3_5.dv"
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: done abort
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-2]: hit exception updating document
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now abort
DWPT 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: done abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1 _2(5.0):C1" [3 segments ; isCommit = false]
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: delete pending file _3.pst
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: delete "_3.pst"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: delete pending file _3.vec
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: delete "_3.vec"
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: at close: _0(5.0):C1 _1(5.0):C1 _2(5.0):C1
TEST: Thread-5: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: init: current segments file is "segments_3"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@2507c727
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: init: load commit "segments_3"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: now checkpoint "_0(5.0):C1 _1(5.0):C1 _2(5.0):C1" [3 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-5]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1 _2(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=2
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@366237a0
readerTermsIndexDivisor=4
termIndexInterval=85
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=16, maxMergeAtOnceExplicit=20, maxMergedSegmentMB=56.7275390625, floorSegmentMB=2.08984375, forceMergeDeletesPctAllowed=20.181172723141476, segmentsPerTier=36.0, useCompoundFile=false, noCFSRatio=0.18483846140643118
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@6a320544
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@79f7e9d3
perThreadHardLimitMB=1945


TEST: Thread-4: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: rollback: infos=_0(5.0):C1 _1(5.0):C1 _2(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1 _2(5.0):C1" [3 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: at close: _0(5.0):C1 _1(5.0):C1 _2(5.0):C1
TEST: Thread-4: rollback done; now open new writer
jun 19, 2012 1:06:28 PM com.carrotsearch.randomizedtesting.RunnerThreadGroup uncaughtException
Advertencia: RunnerThreadGroup's sub thread threw an uncaught exception.
java.lang.RuntimeException: java.io.FileNotFoundException: _3.fld
	at org.apache.lucene.index.TestIndexWriterWithThreads$1.run(TestIndexWriterWithThreads.java:570)
Caused by: java.io.FileNotFoundException: _3.fld
	at org.apache.lucene.store.FSDirectory.fileLength(FSDirectory.java:266)
	at org.apache.lucene.store.MockDirectoryWrapper.fileLength(MockDirectoryWrapper.java:745)
	at org.apache.lucene.index.SegmentInfo.sizeInBytes(SegmentInfo.java:101)
	at org.apache.lucene.index.DocumentsWriterPerThread.flush(DocumentsWriterPerThread.java:509)
	at org.apache.lucene.index.DocumentsWriter.doFlush(DocumentsWriter.java:421)
	at org.apache.lucene.index.DocumentsWriter.postUpdate(DocumentsWriter.java:315)
	at org.apache.lucene.index.DocumentsWriter.updateDocument(DocumentsWriter.java:388)
	at org.apache.lucene.index.IndexWriter.updateDocument(IndexWriter.java:1332)
	at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:1083)
	at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:1064)
	at org.apache.lucene.index.TestIndexWriterWithThreads$1.run(TestIndexWriterWithThreads.java:558)

IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: current segments file is "segments_3"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@47c0db6a
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: load commit "segments_3"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: now checkpoint "_0(5.0):C1 _1(5.0):C1 _2(5.0):C1" [3 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-4]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1 _2(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=2
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@b98653a
readerTermsIndexDivisor=4
termIndexInterval=85
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=16, maxMergeAtOnceExplicit=20, maxMergedSegmentMB=56.7275390625, floorSegmentMB=2.08984375, forceMergeDeletesPctAllowed=20.181172723141476, segmentsPerTier=36.0, useCompoundFile=false, noCFSRatio=0.18483846140643118
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@421dc8c8
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@3168e461
perThreadHardLimitMB=1945


TEST: Thread-3: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: rollback: infos=_0(5.0):C1 _1(5.0):C1 _2(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1 _2(5.0):C1" [3 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: at close: _0(5.0):C1 _1(5.0):C1 _2(5.0):C1
TEST: Thread-3: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: current segments file is "segments_3"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@7f933ed1
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: load commit "segments_3"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: now checkpoint "_0(5.0):C1 _1(5.0):C1 _2(5.0):C1" [3 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-3]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1 _2(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=2
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@7edde1f6
readerTermsIndexDivisor=4
termIndexInterval=85
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=16, maxMergeAtOnceExplicit=20, maxMergedSegmentMB=56.7275390625, floorSegmentMB=2.08984375, forceMergeDeletesPctAllowed=20.181172723141476, segmentsPerTier=36.0, useCompoundFile=false, noCFSRatio=0.18483846140643118
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@191e1e8c
readerPooling=false
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@8678636
perThreadHardLimitMB=1945


TEST: Thread-1: now rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback: done finish merges
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: rollback: infos=_0(5.0):C1 _1(5.0):C1 _2(5.0):C1
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1 _2(5.0):C1" [3 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now flush at close waitForMerges=false
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: abort
DW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: done abort; abortedFiles=null success=true
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: all running merges have aborted
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now call final commit()
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: at close: _0(5.0):C1 _1(5.0):C1 _2(5.0):C1
TEST: Thread-1: rollback done; now open new writer
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: current segments file is "segments_3"; deletionPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy@175495e7
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: load commit "segments_3"
IFD 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: now checkpoint "_0(5.0):C1 _1(5.0):C1 _2(5.0):C1" [3 segments ; isCommit = false]
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: init: create=false
IW 0 [Tue Jun 19 13:06:28 ART 2012; Thread-1]: 
dir=MockDirWrapper(org.apache.lucene.store.MMapDirectory@/l/rollbackfix/lucene/core/build/test/reruns/RollbackAndCommitWithThreads4977449774tmp lockFactory=MockLockFactoryWrapper(org.apache.lucene.store.NativeFSLockFactory@b354f7e))
index=_0(5.0):C1 _1(5.0):C1 _2(5.0):C1
version=5.0-SNAPSHOT
matchVersion=LUCENE_50
analyzer=org.apache.lucene.analysis.MockAnalyzer
ramBufferSizeMB=16.0
maxBufferedDocs=259
maxBufferedDeleteTerms=-1
mergedSegmentWarmer=org.apache.lucene.index.ConcurrentMergeScheduler@60ab6e0f
readerTermsIndexDivisor=2
termIndexInterval=76
delPolicy=org.apache.lucene.index.KeepOnlyLastCommitDeletionPolicy
commit=null
openMode=CREATE_OR_APPEND
similarity=org.apache.lucene.search.similarities.DefaultSimilarity
mergeScheduler=org.apache.lucene.index.ConcurrentMergeScheduler
default WRITE_LOCK_TIMEOUT=1000
writeLockTimeout=1000
codec=SimpleText
infoStream=org.apache.lucene.util.TestRuleSetupAndRestoreClassEnv$1
mergePolicy=[TieredMergePolicy: maxMergeAtOnce=16, maxMergeAtOnceExplicit=21, maxMergedSegmentMB=18.85546875, floorSegmentMB=1.80078125, forceMergeDeletesPctAllowed=18.05915216043708, segmentsPerTier=30.0, useCompoundFile=true, noCFSRatio=0.7065595270586263
indexerThreadPool=org.apache.lucene.index.ThreadAffinityDocumentsWriterThreadPool@16c6cc5e
readerPooling=true
flushPolicy=org.apache.lucene.index.FlushByRamOrCountsPolicy@55933b00
perThreadHardLimitMB=1945

EENOTE: reproduce with: ant test  -Dtestcase=TestIndexWriterWithThreads -Dtests.method=testRollbackAndCommitWithThreads -Dtests.seed=352E562C74454EF2 -Dtests.locale=es_PR -Dtests.timezone=America/Argentina/Tucuman -Dargs="-Dfile.encoding=UTF-8"
NOTE: test params are: codec=SimpleText, sim=DefaultSimilarity, locale=es_PR, timezone=America/Argentina/Tucuman
NOTE: Linux 3.2.0-23-generic amd64/Oracle Corporation 1.7.0_04 (64-bit)/cpus=8,threads=1,free=471675280,total=514523136
NOTE: All tests run in this JVM: [TestIndexWriterWithThreads]

Time: 3.597
There were 2 failures:
1) testRollbackAndCommitWithThreads(org.apache.lucene.index.TestIndexWriterWithThreads)
java.lang.AssertionError
	at __randomizedtesting.SeedInfo.seed([352E562C74454EF2:477842F2EBB3B7EF]:0)
	at org.junit.Assert.fail(Assert.java:92)
	at org.junit.Assert.assertTrue(Assert.java:43)
	at org.junit.Assert.assertTrue(Assert.java:54)
	at org.apache.lucene.index.TestIndexWriterWithThreads.testRollbackAndCommitWithThreads(TestIndexWriterWithThreads.java:582)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:601)
	at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1969)
	at com.carrotsearch.randomizedtesting.RandomizedRunner.access$1100(RandomizedRunner.java:132)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:814)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:875)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:889)
	at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:50)
	at org.apache.lucene.util.TestRuleFieldCacheSanity$1.evaluate(TestRuleFieldCacheSanity.java:32)
	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)
	at com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)
	at org.apache.lucene.util.TestRuleReportUncaughtExceptions$1.evaluate(TestRuleReportUncaughtExceptions.java:68)
	at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)
	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)
	at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:821)
	at com.carrotsearch.randomizedtesting.RandomizedRunner.access$700(RandomizedRunner.java:132)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$3$1.run(RandomizedRunner.java:669)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$3.evaluate(RandomizedRunner.java:695)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$4.evaluate(RandomizedRunner.java:734)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:745)
	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)
	at org.apache.lucene.util.TestRuleReportUncaughtExceptions$1.evaluate(TestRuleReportUncaughtExceptions.java:68)
	at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:38)
	at org.apache.lucene.util.TestRuleIcuHack$1.evaluate(TestRuleIcuHack.java:51)
	at com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)
	at org.apache.lucene.util.TestRuleNoInstanceHooksOverrides$1.evaluate(TestRuleNoInstanceHooksOverrides.java:53)
	at org.apache.lucene.util.TestRuleNoStaticHooksShadowing$1.evaluate(TestRuleNoStaticHooksShadowing.java:52)
	at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:36)
	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)
	at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:56)
	at com.carrotsearch.randomizedtesting.RandomizedRunner.runSuite(RandomizedRunner.java:605)
	at com.carrotsearch.randomizedtesting.RandomizedRunner.access$400(RandomizedRunner.java:132)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$2.run(RandomizedRunner.java:551)
2) testRollbackAndCommitWithThreads(org.apache.lucene.index.TestIndexWriterWithThreads)
java.lang.RuntimeException: Thread threw an uncaught exception, thread: Thread[Thread-2,5,]
	at com.carrotsearch.randomizedtesting.RunnerThreadGroup.processUncaught(RunnerThreadGroup.java:96)
	at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:857)
	at com.carrotsearch.randomizedtesting.RandomizedRunner.access$700(RandomizedRunner.java:132)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$3$1.run(RandomizedRunner.java:669)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$3.evaluate(RandomizedRunner.java:695)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$4.evaluate(RandomizedRunner.java:734)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:745)
	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)
	at org.apache.lucene.util.TestRuleReportUncaughtExceptions$1.evaluate(TestRuleReportUncaughtExceptions.java:68)
	at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:38)
	at org.apache.lucene.util.TestRuleIcuHack$1.evaluate(TestRuleIcuHack.java:51)
	at com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)
	at org.apache.lucene.util.TestRuleNoInstanceHooksOverrides$1.evaluate(TestRuleNoInstanceHooksOverrides.java:53)
	at org.apache.lucene.util.TestRuleNoStaticHooksShadowing$1.evaluate(TestRuleNoStaticHooksShadowing.java:52)
	at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:36)
	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)
	at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:56)
	at com.carrotsearch.randomizedtesting.RandomizedRunner.runSuite(RandomizedRunner.java:605)
	at com.carrotsearch.randomizedtesting.RandomizedRunner.access$400(RandomizedRunner.java:132)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$2.run(RandomizedRunner.java:551)
Caused by: java.lang.RuntimeException: java.io.FileNotFoundException: _3.fld
	at __randomizedtesting.SeedInfo.seed([352E562C74454EF2]:0)
	at org.apache.lucene.index.TestIndexWriterWithThreads$1.run(TestIndexWriterWithThreads.java:570)
Caused by: java.io.FileNotFoundException: _3.fld
	at org.apache.lucene.store.FSDirectory.fileLength(FSDirectory.java:266)
	at org.apache.lucene.store.MockDirectoryWrapper.fileLength(MockDirectoryWrapper.java:745)
	at org.apache.lucene.index.SegmentInfo.sizeInBytes(SegmentInfo.java:101)
	at org.apache.lucene.index.DocumentsWriterPerThread.flush(DocumentsWriterPerThread.java:509)
	at org.apache.lucene.index.DocumentsWriter.doFlush(DocumentsWriter.java:421)
	at org.apache.lucene.index.DocumentsWriter.postUpdate(DocumentsWriter.java:315)
	at org.apache.lucene.index.DocumentsWriter.updateDocument(DocumentsWriter.java:388)
	at org.apache.lucene.index.IndexWriter.updateDocument(IndexWriter.java:1332)
	at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:1083)
	at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:1064)
	at org.apache.lucene.index.TestIndexWriterWithThreads$1.run(TestIndexWriterWithThreads.java:558)

FAILURES!!!
Tests run: 1,  Failures: 2

