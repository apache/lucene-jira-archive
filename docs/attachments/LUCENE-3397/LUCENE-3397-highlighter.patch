Index: lucene/contrib/highlighter/src/test/org/apache/lucene/search/highlight/HighlighterTest.java
===================================================================
--- lucene/contrib/highlighter/src/test/org/apache/lucene/search/highlight/HighlighterTest.java	(revision 1161985)
+++ lucene/contrib/highlighter/src/test/org/apache/lucene/search/highlight/HighlighterTest.java	(working copy)
@@ -1821,11 +1821,6 @@
     stream.addAttribute(CharTermAttribute.class);
     stream.addAttribute(PositionIncrementAttribute.class);
     stream.addAttribute(OffsetAttribute.class);
-    try {
-      stream.reset();
-    } catch (IOException e) {
-      throw new RuntimeException(e);
-    }
     return new SynonymTokenizer(stream, synonyms);
   }
 }
@@ -1901,6 +1896,7 @@
   @Override
   public void reset() throws IOException {
     super.reset();
+    this.realStream.reset();
     this.currentRealToken = null;
     this.st = null;
   }
