Index: dev-tools/scripts/smokeTestFailFastChecks.py
===================================================================
--- dev-tools/scripts/smokeTestFailFastChecks.py	(revision 0)
+++ dev-tools/scripts/smokeTestFailFastChecks.py	(revision 0)
@@ -0,0 +1,19 @@
+from smokeTestRelease import testNotice
+import sys
+import traceback
+
+def main():
+  basePath = sys.argv[1]
+  print('    check NOTICES at base path: %s' % basePath)
+
+  testNotice('lucene', 'solr')
+  
+if __name__ == '__main__':
+  print('NOTE: output encoding is %s' % sys.stdout.encoding)
+  try:
+    main()
+  except:
+    traceback.print_exc()
+    sys.exit(1)
+  sys.exit(0)
+  
\ No newline at end of file
Index: dev-tools/scripts/smokeTestRelease.py
===================================================================
--- dev-tools/scripts/smokeTestRelease.py	(revision 1499840)
+++ dev-tools/scripts/smokeTestRelease.py	(working copy)
@@ -716,7 +716,7 @@
       os.chdir('..')
 
       print('    check NOTICE')
-      testNotice(unpackPath)
+      testNotice('%s' % basePath, '%s/lucene' % basePath)
 
   else:
 
@@ -745,9 +745,9 @@
     print('    check Lucene\'s javadoc JAR')
     checkJavadocpath('%s/docs' % unpackPath)
 
-def testNotice(unpackPath):
-  solrNotice = open('%s/NOTICE.txt' % unpackPath, encoding='UTF-8').read()
-  luceneNotice = open('%s/lucene/NOTICE.txt' % unpackPath, encoding='UTF-8').read()
+def testNotice(luceneNotice, solrNotice):
+  solrNotice = open('%s/NOTICE.txt' % solrNotice, encoding='UTF-8').read()
+  luceneNotice = open('%s/NOTICE.txt' % luceneNotice, encoding='UTF-8').read()
 
   expected = """
 =========================================================================
Index: build.xml
===================================================================
--- build.xml	(revision 1499840)
+++ build.xml	(working copy)
@@ -290,6 +290,13 @@
    <exec executable="${python32.exe}" failonerror="true">
       <arg value="-V"/>
    </exec>
+   <exec executable="${python32.exe}" failonerror="true">
+      <arg value="-u"/>
+      <!-- Tell Python not to write any bytecode cache into the filesystem: -->
+      <arg value="-B"/>
+      <arg file="dev-tools/scripts/smokeTestFailFastChecks.py"/>
+      <arg value="."/>
+   </exec>
    <property name="svnversion.exe" value="svnversion" />
    <subant target="prepare-release-no-sign" inheritall="false" failonerror="true">
      <fileset dir="lucene" includes="build.xml" />

