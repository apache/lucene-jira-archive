Line nr.	Messages (Snapshot[segments_2q])
* [ ] 574942	13:11:32,408 [http-8080-2] DEBUG proj.zoie.impl.indexing.internal.ZoieIndexDeletionPolicy - Ctor Snapshot. segments filename: segments_2q,
* [ ] 574944	13:11:32,415 [http-8080-2] TRACE com.ds.acm.engine.search.zoieimpl.core.DirectoryManager - Directory[lockID=lucene-23f3e69abbd639b3b4a1db928c1b323d, filename=assetIndex] writing _4c.tvf,
- [ ] 619235	13:16:14,328 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204] INFO  proj.zoie.impl.indexing.internal.SearchIndexManager - updating batch indexer status from Sleep to Working
	IW 27 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204]: now flush at close
	IW 27 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204]: flush: now pause all indexing threads
	IW 27 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204]:   flush: segment=null docStoreSegment=null docStoreOffset=0 flushDocs=false flushDeletes=true flushDocStores=false numDocs=0 numBufDelTerms=0
	13:16:14,370 [RunAsServer-3] DEBUG proj.zoie.impl.indexing.AsyncDataConsumer - syncWithVersion: timeRemaining: -37753ms current: 21490 expecting: 21493
	13:16:14,371 [RunAsServer-15] DEBUG proj.zoie.impl.indexing.AsyncDataConsumer - consume:receiving: buffered: 21504
	13:16:14,371 [RunAsServer-3] INFO  com.ds.acm.engine.search.zoieimpl.core.IndexingSystem - Performing non-critical unsynchronized search, results may be out-of-date. Sync before search timed out (timeout=500)
	13:16:14,371 [RunAsServer-18] DEBUG proj.zoie.impl.indexing.AsyncDataConsumer - consume:receiving: buffered: 21504
	IW 27 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204]:   index before flush _0:C99 _1:C98 _3u:C726
	13:16:14,371 [RunAsServer-7] DEBUG proj.zoie.impl.indexing.AsyncDataConsumer - consume:receiving: buffered: 21504
	IW 27 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204]: now call final commit()
	IW 27 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204]: startCommit(): start sizeInBytes=0
	IW 27 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204]:   skip startCommit(): no changes pending
	IW 27 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204]: commit: pendingCommit == null; skip
	IW 27 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204]: commit: done
	IW 27 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204]: at close: _0:C99 _1:C98 _3u:C726
- [ ] 619251	13:16:14,376 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204] INFO  proj.zoie.impl.indexing.internal.SearchIndexManager - Current writable index is B, new B created
* [ ] 619253	13:16:14,385 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204] WARN  org.apache.lucene.index.SegmentInfos - OURS fileName=segments_2q, generation=98,
* [ ] 619329	13:16:14,388 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204] WARN  org.apache.lucene.index.SegmentInfos - read OURS, directory=org.apache.lucene.store.SimpleFSDirectory@/Volumes/Data/Elvis Data/hot-data/index/assetIndex, segmentFilename=segments_2q,
- [ ] 621493	13:16:15,715 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204] DEBUG org.apache.lucene.store.FSDirectory - Deleting OUR segments file,
	- [ ] 	stacktrace: java.lang.Exception: 13:16:15,715 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204] 
			at org.apache.lucene.store.FSDirectory.createStackTrace(FSDirectory.java:296)
			at org.apache.lucene.store.FSDirectory.deleteFile(FSDirectory.java:325)
			at org.apache.lucene.index.IndexFileDeleter.deleteFile(IndexFileDeleter.java:537)
			at org.apache.lucene.index.IndexFileDeleter.decRef(IndexFileDeleter.java:481)
			at org.apache.lucene.index.IndexFileDeleter.deleteCommits(IndexFileDeleter.java:282)
			at org.apache.lucene.index.IndexFileDeleter.checkpoint(IndexFileDeleter.java:415)
			at org.apache.lucene.index.DirectoryReader.doCommit(DirectoryReader.java:780)
			at org.apache.lucene.index.IndexReader.commit(IndexReader.java:987)
			at org.apache.lucene.index.IndexReader.commit(IndexReader.java:973)
			at org.apache.lucene.index.IndexReader.decRef(IndexReader.java:162)
			at org.apache.lucene.index.IndexReader.close(IndexReader.java:1003)
			at proj.zoie.impl.indexing.internal.BaseSearchIndex.deleteDocs(BaseSearchIndex.java:203)
			at proj.zoie.impl.indexing.internal.BaseSearchIndex.loadFromIndex(BaseSearchIndex.java:223)
			at proj.zoie.impl.indexing.internal.LuceneIndexDataLoader.loadFromIndex(LuceneIndexDataLoader.java:153)
			at proj.zoie.impl.indexing.internal.DiskLuceneIndexDataLoader.loadFromIndex(DiskLuceneIndexDataLoader.java:134)
			at proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader.processBatch(RealtimeIndexDataLoader.java:172)
			at proj.zoie.impl.indexing.internal.BatchedIndexDataLoader$LoaderThread.run(BatchedIndexDataLoader.java:377)
	- [ ] 665575	13:18:48,480 [ConsumerThread] WARN  org.apache.lucene.index.IndexFileNames - OURS filename=segments_2q, generation=98,
		- [ ] 	stackTrace: java.lang.Exception: 13:18:48,480 [ConsumerThread]
				at com.ds.util.TraceUtil.stackTrace(TraceUtil.java:20)
				at org.apache.lucene.index.IndexFileNames.fileNameFromGeneration(IndexFileNames.java:193)
				at org.apache.lucene.index.SegmentInfos.getNextSegmentFileName(SegmentInfos.java:243)
				at org.apache.lucene.index.SegmentInfos.write(SegmentInfos.java:376)
				at org.apache.lucene.index.SegmentInfos.prepareCommit(SegmentInfos.java:843)
				at org.apache.lucene.index.IndexWriter.startCommit(IndexWriter.java:4785)
				at org.apache.lucene.index.IndexWriter.prepareCommit(IndexWriter.java:3436)
				at org.apache.lucene.index.IndexWriter.commit(IndexWriter.java:3509)
				at org.apache.lucene.index.IndexWriter.commit(IndexWriter.java:3480)
				at proj.zoie.impl.indexing.internal.BaseSearchIndex.updateIndex(BaseSearchIndex.java:117)
				at proj.zoie.impl.indexing.internal.LuceneIndexDataLoader.consume(LuceneIndexDataLoader.java:120)
				at proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader.consume(RealtimeIndexDataLoader.java:100)
				at proj.zoie.impl.indexing.AsyncDataConsumer.flushBuffer(AsyncDataConsumer.java:278)
				at proj.zoie.impl.indexing.AsyncDataConsumer$ConsumerThread.run(AsyncDataConsumer.java:319)
* [ ] 966705	13:47:38,633 [http-8080-2] TRACE com.ds.acm.engine.search.zoieimpl.core.DirectoryManager - Directory[lockID=lucene-23f3e69abbd639b3b4a1db928c1b323d, filename=assetIndex] writing segments_2q, directory contents: _2q.fdt(size=969134416, modified=16:41:57,000)
	
	== WRITES 0B FILE ==
	
- [ ] 966868	segments_2q(size=0, modified=13:47:38,000)
- [ ] 1015668	13:51:34,422 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204] WARN  org.apache.lucene.index.SegmentInfos - OURS fileName=segments_2q, generation=98,
	- [ ] 	stackTrace:java.lang.Exception: 13:51:34,422 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204]
			at com.ds.util.TraceUtil.stackTrace(TraceUtil.java:20)
			at org.apache.lucene.index.SegmentInfos.generationFromSegmentsFileName(SegmentInfos.java:225)
			at org.apache.lucene.index.SegmentInfos.getCurrentSegmentGeneration(SegmentInfos.java:145)
			at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:627)
			at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:577)
			at org.apache.lucene.index.SegmentInfos.read(SegmentInfos.java:367)
			at org.apache.lucene.index.IndexWriter.init(IndexWriter.java:1096)
			at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:960)
			at proj.zoie.impl.indexing.internal.DiskSearchIndex.openIndexWriter(DiskSearchIndex.java:176)
			at proj.zoie.impl.indexing.internal.BaseSearchIndex.loadFromIndex(BaseSearchIndex.java:228)
			at proj.zoie.impl.indexing.internal.LuceneIndexDataLoader.loadFromIndex(LuceneIndexDataLoader.java:153)
			at proj.zoie.impl.indexing.internal.DiskLuceneIndexDataLoader.loadFromIndex(DiskLuceneIndexDataLoader.java:134)
			at proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader.processBatch(RealtimeIndexDataLoader.java:172)
			at proj.zoie.impl.indexing.internal.BatchedIndexDataLoader$LoaderThread.run(BatchedIndexDataLoader.java:377)
* [ ] 1015700	13:51:34,487 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204] WARN  org.apache.lucene.index.SegmentInfos - read OURS, directory=org.apache.lucene.store.SimpleFSDirectory@/Volumes/Data/Elvis Data/hot-data/index/assetIndex, segmentFilename=segments_2q,
* [ ] 1015714	13:51:34,488 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204] WARN  org.apache.lucene.index.SegmentInfos - OURS fileName=segments_2q, generation=98,
- [ ] 1015728	13:51:35,178 [proj.zoie.impl.indexing.internal.RealtimeIndexDataLoader@39f46204] DEBUG org.apache.lucene.store.BufferedIndexInput - == Read past EOF ==




We used the following command to display the amount of unique segments_* names in the log file (replace logfilename obviously)

$ grep 'segments_' eof-extra-logging-4.log | sed -E 's|.*(segments_[a-zA-Z0-9]*).*|\1|' | sort | uniq | wc -l

Or to display the names themselves, instead of only the count of unique names:

$ grep 'segments_' eof-extra-logging-4.log | sed -E 's|.*(segments_[a-zA-Z0-9]*).*|\1|' | sort | uniq