Index: lucene/queryparser/src/java/org/apache/lucene/queryparser/flexible/core/util/QueryNodeOperation.java
===================================================================
--- lucene/queryparser/src/java/org/apache/lucene/queryparser/flexible/core/util/QueryNodeOperation.java	(revision 1548810)
+++ lucene/queryparser/src/java/org/apache/lucene/queryparser/flexible/core/util/QueryNodeOperation.java	(working copy)
@@ -57,7 +57,7 @@
       op = ANDOperation.BOTH;
     else if (q1 instanceof AndQueryNode)
       op = ANDOperation.Q1;
-    else if (q1 instanceof AndQueryNode)
+    else if (q2 instanceof AndQueryNode)
       op = ANDOperation.Q2;
     else
       op = ANDOperation.NONE;
