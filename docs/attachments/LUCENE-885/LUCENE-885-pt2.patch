Index: contrib/gdata-server/build.xml
===================================================================
--- contrib/gdata-server/build.xml	(revision 545350)
+++ contrib/gdata-server/build.xml	(working copy)
@@ -90,8 +90,7 @@
 		<ant dir="src/gom" target="jar-core" inheritRefs="true" />
 	</target>
 
-
-	<target name="test" depends="init" if="build-1-5-contrib">
+	<target name="test" depends="compile-test" if="build-1-5-contrib">
 		<ant dir="src/core" target="test" inheritRefs="true" />
 		<ant dir="src/gom" target="test" inheritRefs="true" />
 		<ant dir="src/hivemind" target="test" inheritRefs="true" />
Index: contrib/db/build.xml
===================================================================
--- contrib/db/build.xml	(revision 545350)
+++ contrib/db/build.xml	(working copy)
@@ -22,6 +22,11 @@
     <ant dir="bdb-je" target="clean" />
   </target>
 
+  <target name="compile-test">
+    <ant dir="bdb" target="compile-test" />
+    <ant dir="bdb-je" target="compile-test" />
+  </target>
+
   <target name="test">
     <ant dir="bdb" target="test" />
     <ant dir="bdb-je" target="test" />
Index: build.xml
===================================================================
--- build.xml	(revision 545350)
+++ build.xml	(working copy)
@@ -418,11 +418,15 @@
     </sequential>
   </macrodef>
 
-  <target name="build-contrib" depends="compile-test">
+  <target name="build-contrib">
     <contrib-crawl/>
   </target>
 
-  <target name="test-contrib" depends="compile-test">
+  <target name="compile-test-contrib" depends="build-contrib">
+    <contrib-crawl target="compile-test"/>
+  </target>
+
+  <target name="test-contrib" depends="compile-test-contrib">
     <!-- don't fail on error, instead check for flag file so we run
          all the tests possible and can "ant generate-test-reports"
          for all of them
