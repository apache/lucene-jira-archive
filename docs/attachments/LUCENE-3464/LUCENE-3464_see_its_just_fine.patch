Index: lucene/src/java/org/apache/lucene/index/FilterIndexReader.java
===================================================================
--- lucene/src/java/org/apache/lucene/index/FilterIndexReader.java	(revision 1204545)
+++ lucene/src/java/org/apache/lucene/index/FilterIndexReader.java	(working copy)
@@ -156,8 +156,14 @@
     // Don't call ensureOpen() here (it could affect performance)
     return in.maxDoc();
   }
+ 
 
   @Override
+  protected IndexReader doOpenIfChanged() throws CorruptIndexException, IOException {
+    return in.doOpenIfChanged();
+  }
+
+  @Override
   public Document document(int n, FieldSelector fieldSelector) throws CorruptIndexException, IOException {
     ensureOpen();
     return in.document(n, fieldSelector);
Index: lucene/src/java/org/mypackage/MyReader.java
===================================================================
--- lucene/src/java/org/mypackage/MyReader.java	(revision 0)
+++ lucene/src/java/org/mypackage/MyReader.java	(revision 0)
@@ -0,0 +1,24 @@
+package org.mypackage;
+
+import java.io.IOException;
+
+import org.apache.lucene.index.CorruptIndexException;
+import org.apache.lucene.index.FilterIndexReader;
+import org.apache.lucene.index.IndexReader;
+
+public class MyReader extends FilterIndexReader {
+
+  public MyReader(IndexReader in) {
+    super(in);
+  }
+
+  @Override
+  protected IndexReader doOpenIfChanged() throws CorruptIndexException, IOException {
+    IndexReader result = super.doOpenIfChanged();
+    if (result != null) {
+      return new MyReader(result);
+    } else {
+      return null;
+    }
+  } 
+}

Property changes on: lucene/src/java/org/mypackage/MyReader.java
___________________________________________________________________
Added: svn:eol-style
   + native

