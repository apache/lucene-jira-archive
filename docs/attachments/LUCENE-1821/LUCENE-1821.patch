Index: src/java/org/apache/lucene/search/IndexSearcher.java
===================================================================
--- src/java/org/apache/lucene/search/IndexSearcher.java	(revision 805775)
+++ src/java/org/apache/lucene/search/IndexSearcher.java	(working copy)
@@ -121,6 +121,25 @@
     }
   }
 
+  /**
+   * Get the starting docid <code>r</code> in the context of this IndexSearcher.
+   *
+   * <p>Returns -1 if this IndexSearcher does not contain <code>r</code>.
+   */
+  public int getIndexReaderBase(IndexReader r) {
+    if (r == reader) {
+      return 0;
+    } else {
+      for (int i = 0; i < subReaders.length; ++i) {
+        if (subReaders[i] == r) {
+          return docStarts[i];
+        }
+      }
+      return -1;
+    }
+  }
+
+
   protected void gatherSubReaders(List allSubReaders, IndexReader r) {
     ReaderUtil.gatherSubReaders(allSubReaders, r);
   }
