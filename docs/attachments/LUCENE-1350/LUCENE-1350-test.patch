Index: contrib/snowball/src/test/org/apache/lucene/analysis/snowball/TestSnowball.java
===================================================================
--- contrib/snowball/src/test/org/apache/lucene/analysis/snowball/TestSnowball.java	(revision 684408)
+++ contrib/snowball/src/test/org/apache/lucene/analysis/snowball/TestSnowball.java	(working copy)
@@ -59,6 +59,7 @@
 import junit.framework.*;
 
 import org.apache.lucene.analysis.*;
+import org.apache.lucene.index.Payload;
 
 public class TestSnowball extends TestCase {
 
@@ -85,6 +86,10 @@
   public void testFilterTokens() throws Exception {
     final Token tok = new Token("accents", 2, 7, "wrd");
     tok.setPositionIncrement(3);
+    Payload tokPayload = new Payload(new byte[]{0,1,2,3});
+    tok.setPayload(tokPayload);
+    int tokFlags = 77;
+    tok.setFlags(tokFlags);
 
     SnowballFilter filter = new SnowballFilter(
         new TokenStream() {
@@ -102,6 +107,8 @@
     assertEquals(7, newtok.endOffset());
     assertEquals("wrd", newtok.type());
     assertEquals(3, newtok.getPositionIncrement());
+    assertEquals(tokFlags, newtok.getFlags());
+    assertEquals(tokPayload, newtok.getPayload());
   }
 }
 
