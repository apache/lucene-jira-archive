Index: src/java/org/apache/lucene/analysis/MappingCharFilter.java
===================================================================
--- src/java/org/apache/lucene/analysis/MappingCharFilter.java	(revision 826183)
+++ src/java/org/apache/lucene/analysis/MappingCharFilter.java	(working copy)
@@ -57,7 +57,7 @@
       int firstChar = nextChar();
       if (firstChar == -1) return -1;
       NormalizeCharMap nm = normMap.submap != null ?
-        (NormalizeCharMap)normMap.submap.get(CharacterCache.valueOf((char) firstChar)) : null;
+        (NormalizeCharMap)normMap.submap.get(Character.valueOf((char) firstChar)) : null;
       if (nm == null) return firstChar;
       NormalizeCharMap result = match(nm);
       if (result == null) return firstChar;
@@ -102,7 +102,7 @@
     if (map.submap != null) {
       int chr = nextChar();
       if (chr != -1) {
-        NormalizeCharMap subMap = (NormalizeCharMap) map.submap.get(CharacterCache.valueOf((char) chr));
+        NormalizeCharMap subMap = (NormalizeCharMap) map.submap.get(Character.valueOf((char) chr));
         if (subMap != null) {
           result = match(subMap);
         }
Index: src/java/org/apache/lucene/analysis/NormalizeCharMap.java
===================================================================
--- src/java/org/apache/lucene/analysis/NormalizeCharMap.java	(revision 826183)
+++ src/java/org/apache/lucene/analysis/NormalizeCharMap.java	(working copy)
@@ -46,10 +46,10 @@
       if (currMap.submap == null) {
         currMap.submap = new HashMap(1);
       }
-      NormalizeCharMap map = (NormalizeCharMap) currMap.submap.get(CharacterCache.valueOf(c));
+      NormalizeCharMap map = (NormalizeCharMap) currMap.submap.get(Character.valueOf(c));
       if (map == null) {
         map = new NormalizeCharMap();
-        currMap.submap.put(new Character(c), map);
+        currMap.submap.put(Character.valueOf(c), map);
       }
       currMap = map;
     }
