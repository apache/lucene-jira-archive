diff --git a/common-build.xml b/common-build.xml
index 2c8a6af..79e4bbf 100644
--- a/common-build.xml
+++ b/common-build.xml
@@ -38,6 +38,10 @@
     <format property="TSTAMP" pattern="HH:mm:ss"/>
   </tstamp>
 
+  <property name="bnd.export.package" value="org.apache.lucene*"/>
+  <property name="bnd.private.package" value="*"/>
+  <property name="bnd.file" value="${common.dir}/common.bnd"/>
+
   <property name="name" value="${ant.project.name}"/>
   <property name="Name" value="Lucene"/>
   <property name="dev.version" value="3.0.4-dev"/>
@@ -48,6 +52,7 @@
   <property name="final.name" value="lucene-${name}-${version}"/>
 
   <property name="junit.jar" value="junit-3.8.2.jar"/>
+  <property name="bnd.jar" value="biz.aQute.bnd.jar"/>
   <property name="junit-location.jar" value="${common.dir}/lib/${junit.jar}"/>
   <path id="junit-path">
     <pathelement location="${junit-location.jar}"/>
@@ -342,6 +347,15 @@
         </metainf>
         <metainf-includes/>
       </jar>
+
+      <taskdef resource="aQute/bnd/ant/taskdef.properties"
+               classpath="${common.dir}/lib/${bnd.jar}"/>
+      <bnd classpath="${build.dir}/classes/java"
+           eclipse="false"
+           exceptions="true"
+           files="${bnd.file}"
+           output="${build.dir}/lucene-${name}-${version}-osgi.jar"
+           />
     </sequential>
   </macrodef>
 
diff --git a/common.bnd b/common.bnd
new file mode 100644
index 0000000..c66721f
--- /dev/null
+++ b/common.bnd
@@ -0,0 +1,17 @@
+Bundle-Version: ${version}
+Export-Package: ${bnd.export.package}
+Private-Package: ${bnd.private.package}
+Bundle-SymbolicName: org.apache.lucene.${name}
+Include-Resource: META-INF/NOTICE.txt=${common.dir}/NOTICE.txt, \
+ META-INF/LICENSE.txt=${common.dir}/LICENSE.txt
+Bundle-Vendor: The Apache Software Foundation
+Bundle-Name: ${Name}
+Bundle-License: http://www.apache.org/licenses/LICENSE-2.0.txt
+Bundle-DocURL: http://lucene.apache.org/java/docs/index.html
+Implementation-Title: ${Name}
+Implementation-Vendor: The Apache Software Foundation
+Implementation-Vendor-Id: org.apache
+Implementation-Version: ${version}
+Specification-Title: ${Name}
+Specification-Vendor: The Apache Software Foundation
+Specification-Version: 2.0
diff --git a/lib/biz.aQute.bnd.jar b/lib/biz.aQute.bnd.jar
new file mode 100644
index 0000000..08c63a0
Binary files /dev/null and b/lib/biz.aQute.bnd.jar differ
