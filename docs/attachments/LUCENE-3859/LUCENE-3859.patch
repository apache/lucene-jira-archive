Index: lucene/core/src/test/org/apache/lucene/index/TestDocumentWriter.java
===================================================================
--- lucene/core/src/test/org/apache/lucene/index/TestDocumentWriter.java	(revision 1299382)
+++ lucene/core/src/test/org/apache/lucene/index/TestDocumentWriter.java	(working copy)
@@ -97,7 +97,7 @@
     // omitNorms is true
     for (FieldInfo fi : reader.getFieldInfos()) {
       if (fi.isIndexed) {
-        assertTrue(fi.omitNorms == !reader.hasNorms(fi.name));
+        assertTrue(fi.omitNorms == (reader.normValues(fi.name) == null));
       }
     }
     reader.close();
@@ -330,10 +330,10 @@
     SegmentReader reader = getOnlySegmentReader(IndexReader.open(dir));
     FieldInfos fi = reader.getFieldInfos();
     // f1
-    assertFalse("f1 should have no norms", reader.hasNorms("f1"));
+    assertFalse("f1 should have no norms", fi.fieldInfo("f1").hasNorms());
     assertEquals("omitTermFreqAndPositions field bit should not be set for f1", IndexOptions.DOCS_AND_FREQS_AND_POSITIONS, fi.fieldInfo("f1").indexOptions);
     // f2
-    assertTrue("f2 should have norms", reader.hasNorms("f2"));
+    assertTrue("f2 should have norms", fi.fieldInfo("f2").hasNorms());
     assertEquals("omitTermFreqAndPositions field bit should be set for f2", IndexOptions.DOCS_ONLY, fi.fieldInfo("f2").indexOptions);
     reader.close();
   }
Index: lucene/core/src/test/org/apache/lucene/index/TestNorms.java
===================================================================
--- lucene/core/src/test/org/apache/lucene/index/TestNorms.java	(revision 1299382)
+++ lucene/core/src/test/org/apache/lucene/index/TestNorms.java	(working copy)
@@ -128,9 +128,9 @@
     assertFalse(fieldInfo.omitNorms);
     assertTrue(fieldInfo.isIndexed);
     if (secondWriteNorm) {
-      assertTrue(fieldInfo.normsPresent());
+      assertTrue(fieldInfo.hasNorms());
     } else {
-      assertFalse(fieldInfo.normsPresent());  
+      assertFalse(fieldInfo.hasNorms());  
     }
     
     IndexWriterConfig config = newIndexWriterConfig(TEST_VERSION_CURRENT,
@@ -144,12 +144,12 @@
       FieldInfo fi = mergedReader.getFieldInfos().fieldInfo(byteTestField);
       assertFalse(fi.omitNorms);
       assertTrue(fi.isIndexed);
-      assertFalse(fi.normsPresent());
+      assertFalse(fi.hasNorms());
     } else {
       FieldInfo fi = mergedReader.getFieldInfos().fieldInfo(byteTestField);
       assertFalse(fi.omitNorms);
       assertTrue(fi.isIndexed);
-      assertTrue(fi.normsPresent());
+      assertTrue(fi.hasNorms());
       
       DocValues normValues = mergedReader.normValues(byteTestField);
       assertNotNull(normValues);
Index: lucene/core/src/test/org/apache/lucene/index/TestSegmentReader.java
===================================================================
--- lucene/core/src/test/org/apache/lucene/index/TestSegmentReader.java	(revision 1299382)
+++ lucene/core/src/test/org/apache/lucene/index/TestSegmentReader.java	(working copy)
@@ -179,9 +179,9 @@
     for (int i=0; i<DocHelper.fields.length; i++) {
       IndexableField f = DocHelper.fields[i];
       if (f.fieldType().indexed()) {
-        assertEquals(reader.hasNorms(f.name()), !f.fieldType().omitNorms());
-        assertEquals(reader.hasNorms(f.name()), !DocHelper.noNorms.containsKey(f.name()));
-        if (!reader.hasNorms(f.name())) {
+        assertEquals(reader.normValues(f.name()) != null, !f.fieldType().omitNorms());
+        assertEquals(reader.normValues(f.name()) != null, !DocHelper.noNorms.containsKey(f.name()));
+        if (reader.normValues(f.name()) == null) {
           // test for norms of null
           DocValues norms = MultiDocValues.getNormDocValues(reader, f.name());
           assertNull(norms);
Index: lucene/core/src/java/org/apache/lucene/codecs/lucene40/Lucene40NormsFormat.java
===================================================================
--- lucene/core/src/java/org/apache/lucene/codecs/lucene40/Lucene40NormsFormat.java	(revision 1299382)
+++ lucene/core/src/java/org/apache/lucene/codecs/lucene40/Lucene40NormsFormat.java	(working copy)
@@ -62,7 +62,7 @@
 
     @Override
     protected boolean canLoad(FieldInfo info) {
-      return info.normsPresent();
+      return info.hasNorms();
     }
 
     @Override
@@ -92,7 +92,7 @@
 
     @Override
     protected boolean canMerge(FieldInfo info) {
-      return info.normsPresent();
+      return info.hasNorms();
     }
 
     @Override
@@ -104,7 +104,7 @@
       final String normsFileName = IndexFileNames.segmentFileName(segmentInfo.name, NORMS_SEGMENT_SUFFIX, IndexFileNames.COMPOUND_FILE_EXTENSION);
       FieldInfos fieldInfos = segmentInfo.getFieldInfos();
       for (FieldInfo fieldInfo : fieldInfos) {
-        if (fieldInfo.normsPresent()) {
+        if (fieldInfo.hasNorms()) {
           final String normsEntriesFileName = IndexFileNames.segmentFileName(segmentInfo.name, NORMS_SEGMENT_SUFFIX, IndexFileNames.COMPOUND_FILE_ENTRIES_EXTENSION);
           files.add(normsFileName);
           files.add(normsEntriesFileName);
Index: lucene/core/src/java/org/apache/lucene/codecs/lucene3x/Lucene3xNormsProducer.java
===================================================================
--- lucene/core/src/java/org/apache/lucene/codecs/lucene3x/Lucene3xNormsProducer.java	(revision 1299382)
+++ lucene/core/src/java/org/apache/lucene/codecs/lucene3x/Lucene3xNormsProducer.java	(working copy)
@@ -76,7 +76,7 @@
     try {
       long nextNormSeek = NORMS_HEADER.length; //skip header (header unused for now)
       for (FieldInfo fi : fields) {
-        if (fi.normsPresent()) {
+        if (fi.hasNorms()) {
           String fileName = getNormFilename(segmentName, normGen, fi.number);
           Directory d = hasSeparateNorms(normGen, fi.number) ? separateNormsDir : dir;
         
Index: lucene/core/src/java/org/apache/lucene/codecs/PerDocProducerBase.java
===================================================================
--- lucene/core/src/java/org/apache/lucene/codecs/PerDocProducerBase.java	(revision 1299382)
+++ lucene/core/src/java/org/apache/lucene/codecs/PerDocProducerBase.java	(working copy)
@@ -91,7 +91,7 @@
   }
   
   protected boolean anyDocValuesFields(FieldInfos infos) {
-    return infos.anyDocValuesFields();
+    return infos.hasDocValues();
   }
   
   public static String docValuesId(String segmentsName, int fieldId) {
Index: lucene/core/src/java/org/apache/lucene/codecs/simpletext/SimpleTextNormsFormat.java
===================================================================
--- lucene/core/src/java/org/apache/lucene/codecs/simpletext/SimpleTextNormsFormat.java	(revision 1299382)
+++ lucene/core/src/java/org/apache/lucene/codecs/simpletext/SimpleTextNormsFormat.java	(working copy)
@@ -73,7 +73,7 @@
     
     @Override
     protected boolean canLoad(FieldInfo info) {
-      return info.normsPresent();
+      return info.hasNorms();
     }
     
     @Override
@@ -104,7 +104,7 @@
     
     @Override
     protected boolean canMerge(FieldInfo info) {
-      return info.normsPresent();
+      return info.hasNorms();
     }
     
     @Override
@@ -129,7 +129,7 @@
     public static void filesInternal(FieldInfos fieldInfos, String segmentName,
         Set<String> files, String segmentSuffix) {
       for (FieldInfo fieldInfo : fieldInfos) {
-        if (fieldInfo.normsPresent()) {
+        if (fieldInfo.hasNorms()) {
           String id = docValuesId(segmentName, fieldInfo.number);
           files.add(IndexFileNames.segmentFileName(id, "",
               segmentSuffix));
Index: lucene/core/src/java/org/apache/lucene/index/FieldInfos.java
===================================================================
--- lucene/core/src/java/org/apache/lucene/index/FieldInfos.java	(revision 1299382)
+++ lucene/core/src/java/org/apache/lucene/index/FieldInfos.java	(working copy)
@@ -178,7 +178,7 @@
     return fis;
   }
 
-  /** Returns true if any fields do not positions */
+  /** Returns true if any fields have positions */
   public boolean hasProx() {
     if (isReadOnly()) {
       return hasProx;
@@ -349,6 +349,12 @@
     return fi;
   }
 
+  /**
+   * lookup the number of a field by name.
+   * 
+   * @param fieldName field's name
+   * @return number of field, or -1 if it does not exist.
+   */
   public int fieldNumber(String fieldName) {
     FieldInfo fi = fieldInfo(fieldName);
     return (fi != null) ? fi.number : -1;
@@ -384,11 +390,17 @@
     return byNumber.values().iterator();
   }
 
+  /**
+   * @return number of fields
+   */
   public int size() {
     assert byNumber.size() == byName.size();
     return byNumber.size();
   }
 
+  /**
+   * @return true if at least one field has any vectors
+   */
   public boolean hasVectors() {
     if (isReadOnly()) {
       return hasVectors;
@@ -402,9 +414,12 @@
     return false;
   }
 
+  /**
+   * @return true if at least one field has any norms
+   */
   public boolean hasNorms() {
     for (FieldInfo fi : this) {
-      if (fi.normsPresent()) {
+      if (fi.hasNorms()) {
         return true;
       }
     }
@@ -441,7 +456,10 @@
     return roFis;
   }
 
-  public boolean anyDocValuesFields() {
+  /**
+   * @return true if at least one field has docValues
+   */
+  public boolean hasDocValues() {
     for (FieldInfo fi : this) {
       if (fi.hasDocValues()) { 
         return true;
Index: lucene/core/src/java/org/apache/lucene/index/SegmentReader.java
===================================================================
--- lucene/core/src/java/org/apache/lucene/index/SegmentReader.java	(revision 1299382)
+++ lucene/core/src/java/org/apache/lucene/index/SegmentReader.java	(working copy)
@@ -150,13 +150,6 @@
     return si.docCount;
   }
 
-  @Override
-  public boolean hasNorms(String field) {
-    ensureOpen();
-    FieldInfo fi = core.fieldInfos.fieldInfo(field);
-    return fi.normsPresent();
-  }
-
   /** @lucene.internal */
   public TermVectorsReader getTermVectorsReader() {
     ensureOpen();
Index: lucene/core/src/java/org/apache/lucene/index/AtomicReader.java
===================================================================
--- lucene/core/src/java/org/apache/lucene/index/AtomicReader.java	(revision 1299382)
+++ lucene/core/src/java/org/apache/lucene/index/AtomicReader.java	(working copy)
@@ -60,12 +60,17 @@
     return readerContext;
   }
 
-  /** Returns true if there are norms stored for this field. */
-  public boolean hasNorms(String field) throws IOException {
-    // backward compatible implementation.
-    // SegmentReader has an efficient implementation.
+  /** 
+   * Returns true if there are norms stored for this field.
+   * @deprecated (4.0) use {@link #getFieldInfos()} and check {@link FieldInfo#hasNorms()} 
+   *                   for the field instead.
+   */
+  @Deprecated
+  public final boolean hasNorms(String field) throws IOException {
     ensureOpen();
-    return normValues(field) != null;
+    // note: using normValues(field) != null would potentially cause i/o
+    FieldInfo fi = getFieldInfos().fieldInfo(field);
+    return fi != null && fi.hasNorms();
   }
 
   /**
Index: lucene/core/src/java/org/apache/lucene/index/CheckIndex.java
===================================================================
--- lucene/core/src/java/org/apache/lucene/index/CheckIndex.java	(revision 1299382)
+++ lucene/core/src/java/org/apache/lucene/index/CheckIndex.java	(working copy)
@@ -652,17 +652,16 @@
         infoStream.print("    test: field norms.........");
       }
       for (FieldInfo info : fieldInfos) {
-        if (reader.hasNorms(info.name)) {
+        if (info.hasNorms()) {
+          assert reader.hasNorms(info.name); // deprecated path
           DocValues dv = reader.normValues(info.name);
           checkDocValues(dv, info.name, info.getNormType(), reader.maxDoc());
           ++status.totFields;
         } else {
+          assert !reader.hasNorms(info.name); // deprecated path
           if (reader.normValues(info.name) != null) {
             throw new RuntimeException("field: " + info.name + " should omit norms but has them!");
           }
-          if (info.normsPresent()) {
-            throw new RuntimeException("field: " + info.name + " should have norms but omits them!");
-          }
         }
       }
 
Index: lucene/core/src/java/org/apache/lucene/index/SegmentMerger.java
===================================================================
--- lucene/core/src/java/org/apache/lucene/index/SegmentMerger.java	(revision 1299382)
+++ lucene/core/src/java/org/apache/lucene/index/SegmentMerger.java	(working copy)
@@ -210,7 +210,7 @@
           TypePromoter previous = docValuesTypes.get(merged);
           docValuesTypes.put(merged, mergeDocValuesType(previous, reader.docValues(fi.name))); 
         }
-        if (fi.normsPresent()) {
+        if (fi.hasNorms()) {
           TypePromoter previous = normValuesTypes.get(merged);
           normValuesTypes.put(merged, mergeDocValuesType(previous, reader.normValues(fi.name))); 
         }
Index: lucene/core/src/java/org/apache/lucene/index/FieldInfo.java
===================================================================
--- lucene/core/src/java/org/apache/lucene/index/FieldInfo.java	(revision 1299382)
+++ lucene/core/src/java/org/apache/lucene/index/FieldInfo.java	(working copy)
@@ -122,14 +122,23 @@
     }
   }
   
+  /**
+   * @return true if this field has any docValues.
+   */
   public boolean hasDocValues() {
     return docValueType != null;
   }
 
+  /**
+   * @return {@link DocValues.Type} of the docValues. this may be null if the field has no docvalues.
+   */
   public DocValues.Type getDocValuesType() {
     return docValueType;
   }
   
+  /**
+   * @return {@link DocValues.Type} of the norm. this may be null if the field has no norms.
+   */
   public DocValues.Type getNormType() {
     return normType;
   }
@@ -146,11 +155,17 @@
     }
   }
   
+  /**
+   * @return true if norms are explicitly omitted for this field
+   */
   public boolean omitNorms() {
     return omitNorms;
   }
   
-  public boolean normsPresent() {
+  /**
+   * @return true if this field actually has any norms.
+   */
+  public boolean hasNorms() {
     return isIndexed && !omitNorms && normType != null;
   }
   
Index: lucene/core/src/java/org/apache/lucene/index/ParallelAtomicReader.java
===================================================================
--- lucene/core/src/java/org/apache/lucene/index/ParallelAtomicReader.java	(revision 1299382)
+++ lucene/core/src/java/org/apache/lucene/index/ParallelAtomicReader.java	(working copy)
@@ -264,13 +264,6 @@
   }
   
   @Override
-  public boolean hasNorms(String field) throws IOException {
-    ensureOpen();
-    AtomicReader reader = fieldToReader.get(field);
-    return reader==null ? false : reader.hasNorms(field);
-  }
-  
-  @Override
   protected synchronized void doClose() throws IOException {
     IOException ioe = null;
     for (AtomicReader reader : completeReaderSet) {
Index: lucene/core/src/java/org/apache/lucene/index/FilterAtomicReader.java
===================================================================
--- lucene/core/src/java/org/apache/lucene/index/FilterAtomicReader.java	(revision 1299382)
+++ lucene/core/src/java/org/apache/lucene/index/FilterAtomicReader.java	(working copy)
@@ -360,12 +360,6 @@
   }
 
   @Override
-  public boolean hasNorms(String field) throws IOException {
-    ensureOpen();
-    return in.hasNorms(field);
-  }
-
-  @Override
   protected void doClose() throws IOException {
     in.close();
   }
Index: lucene/CHANGES.txt
===================================================================
--- lucene/CHANGES.txt	(revision 1299382)
+++ lucene/CHANGES.txt	(working copy)
@@ -410,6 +410,10 @@
   method maybeReopen has been deprecated in favor of maybeRefresh().
   (Shai Erera, Mike McCandless, Simon Willnauer)
 
+* LUCENE-3859: AtomicReader.hasNorms(field) is deprecated, instead you
+  can inspect the FieldInfo yourself to see if norms are present, which
+  also allows you to get the type.  (Robert Muir)
+
 New features
 
 * LUCENE-2604: Added RegexpQuery support to QueryParser. Regular expressions
Index: lucene/test-framework/src/java/org/apache/lucene/codecs/lucene3x/PreFlexRWNormsConsumer.java
===================================================================
--- lucene/test-framework/src/java/org/apache/lucene/codecs/lucene3x/PreFlexRWNormsConsumer.java	(revision 1299382)
+++ lucene/test-framework/src/java/org/apache/lucene/codecs/lucene3x/PreFlexRWNormsConsumer.java	(working copy)
@@ -81,7 +81,7 @@
   
   @Override
   protected boolean canMerge(FieldInfo info) {
-    return info.normsPresent();
+    return info.hasNorms();
   }
 
   @Override
@@ -233,7 +233,7 @@
     public void merge(MergeState mergeState) throws IOException {
       int numMergedDocs = 0;
       for (FieldInfo fi : mergeState.fieldInfos) {
-        if (fi.normsPresent()) {
+        if (fi.hasNorms()) {
           startField(fi);
           int numMergedDocsForField = 0;
           for (MergeState.IndexReaderAndLiveDocs reader : mergeState.readers) {
Index: lucene/test-framework/src/java/org/apache/lucene/index/FieldFilterAtomicReader.java
===================================================================
--- lucene/test-framework/src/java/org/apache/lucene/index/FieldFilterAtomicReader.java	(revision 1299382)
+++ lucene/test-framework/src/java/org/apache/lucene/index/FieldFilterAtomicReader.java	(working copy)
@@ -101,11 +101,6 @@
   }
 
   @Override
-  public boolean hasNorms(String field) throws IOException {
-    return hasField(field) ? super.hasNorms(field) : false;
-  }
-
-  @Override
   public Fields fields() throws IOException {
     final Fields f = super.fields();
     return (f == null) ? null : new FieldFilterFields(f);
