Index: lucene/src/test/org/apache/lucene/analysis/TestCharArrayMap.java
===================================================================
--- lucene/src/test/org/apache/lucene/analysis/TestCharArrayMap.java	(revision 945097)
+++ lucene/src/test/org/apache/lucene/analysis/TestCharArrayMap.java	(working copy)
@@ -28,6 +28,9 @@
     CharArrayMap<Integer> map = new CharArrayMap<Integer>(TEST_VERSION_CURRENT, 1, ignoreCase);
     HashMap<String,Integer> hmap = new HashMap<String,Integer>();
 
+    // use the root locale for consistent behavior
+    final Locale rootLocale = new Locale("");
+
     char[] key;
     for (int i=0; i<iter; i++) {
       int len = r.nextInt(5);
@@ -36,7 +39,7 @@
         key[j] = (char)r.nextInt(127);
       }
       String keyStr = new String(key);
-      String hmapKey = ignoreCase ? keyStr.toLowerCase() : keyStr; 
+      String hmapKey = ignoreCase ? keyStr.toLowerCase(rootLocale) : keyStr; 
 
       int val = r.nextInt();
 
Index: lucene/src/test/org/apache/lucene/analysis/TestKeywordMarkerFilter.java
===================================================================
--- lucene/src/test/org/apache/lucene/analysis/TestKeywordMarkerFilter.java	(revision 945097)
+++ lucene/src/test/org/apache/lucene/analysis/TestKeywordMarkerFilter.java	(working copy)
@@ -3,6 +3,7 @@
 import java.io.IOException;
 import java.io.StringReader;
 import java.util.HashSet;
+import java.util.Locale;
 import java.util.Set;
 
 import org.apache.lucene.analysis.tokenattributes.KeywordAttribute;
@@ -55,6 +56,8 @@
 
     private final CharTermAttribute termAtt = addAttribute(CharTermAttribute.class);
     private final KeywordAttribute keywordAttr = addAttribute(KeywordAttribute.class);
+    // use the root locale for consistent behavior
+    private final Locale rootLocale = new Locale("");
 
     public LowerCaseFilterMock(TokenStream in) {
       super(in);
@@ -64,7 +67,7 @@
     public boolean incrementToken() throws IOException {
       if (input.incrementToken()) {
         if (!keywordAttr.isKeyword()) {
-          final String term = termAtt.toString().toLowerCase();
+          final String term = termAtt.toString().toLowerCase(rootLocale);
           termAtt.setEmpty().append(term);
         }
         return true;
